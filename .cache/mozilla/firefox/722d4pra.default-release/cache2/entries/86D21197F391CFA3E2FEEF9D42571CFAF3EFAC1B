<templates><t t-name="web.ControlPanel" owl="1">
    <div class="o_control_panel">
        <div class="o_cp_top">
            <div class="o_cp_top_left">
                <ol t-if="props.withBreadcrumbs" class="breadcrumb" role="navigation">
                    <li t-foreach="props.breadcrumbs" t-as="bc" t-key="bc.controllerID" class="breadcrumb-item" t-att-class="{ o_back_button: bc_index === props.breadcrumbs.length - 1 }" t-att-accesskey="bc_last and 'b'" t-on-click.prevent="trigger('breadcrumb-clicked', { controllerID: bc.controllerID })">
                        <a t-if="bc.title" href="#" t-esc="bc.title"/>
                        <em t-else="" class="text-warning">Unnamed</em>
                    </li>
                    <li class="breadcrumb-item active">
                        <t t-if="props.title" t-esc="props.title"/>
                        <em t-else="" class="text-warning">Unnamed</em>
                    </li>
                </ol>
            </div>
            <div class="o_cp_top_right">
                <div class="o_cp_searchview" role="search" t-ref="searchView">
                    <div t-if="props.withSearchBar" class="o_searchview" role="search" aria-autocomplete="list">
                        <i class="o_searchview_icon fa fa-search" title="Search..." role="img" aria-label="Search..."/>
                        <SearchBar t-if="props.withSearchBar" fields="fields"/>
                    </div>
                </div>
            </div>
        </div>
        <div class="o_cp_bottom">
            <div class="o_cp_bottom_left">
                <div class="o_cp_buttons" role="toolbar" aria-label="Control panel buttons" t-ref="buttons">
                    <t t-slot="buttons"/>
                </div>
                <ActionMenus t-if="props.actionMenus and props.actionMenus.items" t-props="props.actionMenus"/>
            </div>
            <div class="o_cp_bottom_right">
                <div class="btn-group o_search_options position-static" role="search" t-ref="searchViewButtons">
                    <t t-if="props.withSearchBar">
                        <FilterMenu t-if="props.searchMenuTypes.includes('filter')" class="o_filter_menu" fields="fields"/>
                        <GroupByMenu t-if="props.searchMenuTypes.includes('groupBy')" class="o_group_by_menu" fields="fields"/>
                        <ComparisonMenu t-if="props.searchMenuTypes.includes('comparison') and model.get('filters', f =&gt; f.type === 'comparison').length" class="o_comparison_menu"/>
                        <FavoriteMenu t-if="props.searchMenuTypes.includes('favorite')" class="o_favorite_menu"/>
                    </t>
                </div>
                <div class="o_cp_pager" role="search" t-ref="pager">
                    <Pager t-if="props.pager and props.pager.limit" t-props="props.pager"/>
                </div>
                <nav t-if="props.views.length gt 1" class="btn-group o_cp_switch_buttons" role="toolbar" aria-label="View switcher">
                    <t t-foreach="props.views" t-as="view" t-key="view.type">
                        <t t-call="web.ViewSwitcherButton"/>
                    </t>
                </nav>
            </div>
        </div>
    </div>
</t>

<t t-name="web.ControlPanelX2Many" owl="1">
    <div class="o_x2m_control_panel">
        <div class="o_cp_buttons" role="toolbar" aria-label="Control panel buttons" t-ref="buttons">
            <t t-slot="buttons"/>
        </div>
        <div class="o_cp_pager" role="search" t-ref="pager">
            <Pager t-if="_shouldShowPager()" t-props="props.pager"/>
        </div>
    </div>
</t>

<t t-name="web.CustomCheckbox" owl="1">
    <div class="custom-control custom-checkbox">
        <input t-att-id="props.id or _id" type="checkbox" class="custom-control-input" t-att-disabled="props.disabled" t-att-checked="props.value"/>
        <label t-att-for="props.id or _id" class="custom-control-label">
            <t t-esc="props.text or '​'"/>
        </label>
    </div>
</t>

<t t-name="web.CustomFileInput" owl="1">
    <span class="o_file_input" aria-atomic="true">
        <span class="o_file_input_trigger" t-on-click.prevent="_onTriggerClicked">
            <t t-slot="default">
                <button class="btn btn-primary">Choose File</button>
            </t>
        </span>
        <input type="file" name="ufile" class="o_input_file d-none" t-att="{multiple: props.multi_upload, accept: props.accepted_file_extensions}" t-ref="file-input" t-on-change="_onFileInputChange"/>
    </span>
</t>

<t t-name="web.DatePicker" owl="1">
    <div class="o_datepicker" aria-atomic="true" t-att-id="datePickerId" data-target-input="nearest">
        <input type="text" class="o_datepicker_input o_input datetimepicker-input" autofocus="" t-att-name="props.name" t-att-placeholder="props.placeholder" t-attf-data-target="#{{ datePickerId }}" t-att-readonly="props.readonly" t-ref="input" t-on-change="_onInputChange" t-on-click="_onInputClick"/>
        <span t-if="props.warn_future and state.warning" class="fa fa-exclamation-triangle o_tz_warning o_datepicker_warning">
            <t>This date is on the future. Make sure it is what you expected.</t>
        </span>
        <span class="o_datepicker_button"/>
    </div>
</t>

<t t-name="web.DialogButton.tooltip" owl="1">
    <div class="oe_tooltip_string" role="tooltip">
        <div class="tooltip-inner">
            <t>Hit ENTER to <t t-esc="title"/></t>
        </div>
    </div>
</t>

<t t-name="web.DropdownMenu" owl="1">
    <div class="btn-group o_dropdown" t-att-class="{ show: state.open }">
        <button type="button" class="o_dropdown_toggler_btn btn btn-secondary" t-att-aria-expanded="state.open ? 'true' : 'false'" tabindex="-1" t-on-click="state.open = !state.open" t-on-keydown="_onButtonKeydown">
            <i t-if="icon" t-att-class="icon"/>
            <span class="o_dropdown_title" t-esc="title"/>
            <i t-if="displayCaret" t-attf-class="o_dropdown_caret fa fa-caret-{{ state.open ? 'down' : 'right' }}"/>
            <i t-elif="displayChevron" t-attf-class="fa fa-chevron-{{ state.open ? 'down' : 'right' }} float-right mt4"/>
        </button>
        <ul t-if="state.open" class="o_dropdown_menu dropdown-menu show" role="menu" t-on-item-selected="_onItemSelected">
            <t t-set="currentGroup" t-value="null"/>
            <t t-foreach="items" t-as="item" t-key="item.key || item.id || ('item-' + item_index)">
                <li t-if="currentGroup !== null and currentGroup !== item.groupNumber" class="dropdown-divider" role="separator"/>
                <t t-if="item.Component" t-component="item.Component" t-props="item.props"/>
                <DropdownMenuItem t-else="" t-props="item"/>
                <t t-set="currentGroup" t-value="item.groupNumber"/>
            </t>
        </ul>
    </div>
</t>

<t t-name="web.FavoriteMenu" owl="1">
    <div class="btn-group o_dropdown" t-att-class="{ show: state.open }">
        <button type="button" class="o_dropdown_toggler_btn btn btn-secondary" t-att-aria-expanded="state.open ? 'true' : 'false'" tabindex="-1" t-on-click="state.open = !state.open" t-on-keydown="_onButtonKeydown">
            <i t-if="icon" t-att-class="icon"/>
            <span class="o_dropdown_title" t-esc="title"/>
            <i t-if="displayCaret" t-attf-class="o_dropdown_caret fa fa-caret-{{ state.open ? 'down' : 'right' }}"/>
            <i t-elif="displayChevron" t-attf-class="fa fa-chevron-{{ state.open ? 'down' : 'right' }} float-right mt4"/>
        </button>
        <ul t-if="state.open" class="o_dropdown_menu dropdown-menu show" role="menu" t-on-item-selected="_onItemSelected">
            <t t-set="currentGroup" t-value="null"/>
            <t t-foreach="items" t-as="item" t-key="item.key || item.id || ('item-' + item_index)">
                <li t-if="currentGroup !== null and currentGroup !== item.groupNumber" class="dropdown-divider" role="separator"/>
                <t t-if="item.Component" t-component="item.Component" t-props="item.props"/>
                <DropdownMenuItem t-else="" t-props="item" t-on-remove-item.stop="_onItemRemoved"/>
                <t t-set="currentGroup" t-value="item.groupNumber"/>
            </t>
        </ul>
    
        <Dialog t-if="state.deletedFavorite" title="'Warning'" size="'medium'" t-on-dialog-closed="state.deletedFavorite = false">
            <t t-if="state.deletedFavorite.userId">Are you sure that you want to remove this filter?</t>
            <t t-else="">This filter is global and will be removed for everybody if you continue.</t>
            <t t-set="buttons">
                <button type="button" class="btn btn-primary" t-on-click="_onRemoveFavorite">
                    <t>Ok</t>
                </button>
                <button type="button" class="btn btn-secondary" t-on-click.stop="state.deletedFavorite = false">
                    <t>Cancel</t>
                </button>
            </t>
        </Dialog>
    </div>
</t>

<t t-name="web.FilterMenu" owl="1">
    <div class="btn-group o_dropdown" t-att-class="{ show: state.open }">
        <button type="button" class="o_dropdown_toggler_btn btn btn-secondary" t-att-aria-expanded="state.open ? 'true' : 'false'" tabindex="-1" t-on-click="state.open = !state.open" t-on-keydown="_onButtonKeydown">
            <i t-if="icon" t-att-class="icon"/>
            <span class="o_dropdown_title" t-esc="title"/>
            <i t-if="displayCaret" t-attf-class="o_dropdown_caret fa fa-caret-{{ state.open ? 'down' : 'right' }}"/>
            <i t-elif="displayChevron" t-attf-class="fa fa-chevron-{{ state.open ? 'down' : 'right' }} float-right mt4"/>
        </button>
        <ul t-if="state.open" class="o_dropdown_menu dropdown-menu show" role="menu" t-on-item-selected="_onItemSelected">
            <t t-set="currentGroup" t-value="null"/>
            <t t-foreach="items" t-as="item" t-key="item.key || item.id || ('item-' + item_index)">
                <li t-if="currentGroup !== null and currentGroup !== item.groupNumber" class="dropdown-divider" role="separator"/>
                <t t-if="item.Component" t-component="item.Component" t-props="item.props"/>
                <DropdownMenuItem t-else="" t-props="item"/>
                <t t-set="currentGroup" t-value="item.groupNumber"/>
            </t>
        
        <li t-if="items.length" class="dropdown-divider" role="separator"/>
        <CustomFilterItem fields="props.fields"/>
    </ul>
    </div>
</t>

<t t-name="web.GroupByMenu" owl="1">
    <div class="btn-group o_dropdown" t-att-class="{ show: state.open }">
        <button type="button" class="o_dropdown_toggler_btn btn btn-secondary" t-att-aria-expanded="state.open ? 'true' : 'false'" tabindex="-1" t-on-click="state.open = !state.open" t-on-keydown="_onButtonKeydown">
            <i t-if="icon" t-att-class="icon"/>
            <span class="o_dropdown_title" t-esc="title"/>
            <i t-if="displayCaret" t-attf-class="o_dropdown_caret fa fa-caret-{{ state.open ? 'down' : 'right' }}"/>
            <i t-elif="displayChevron" t-attf-class="fa fa-chevron-{{ state.open ? 'down' : 'right' }} float-right mt4"/>
        </button>
        <ul t-if="state.open" class="o_dropdown_menu dropdown-menu show" role="menu" t-on-item-selected="_onItemSelected">
            <t t-set="currentGroup" t-value="null"/>
            <t t-foreach="items" t-as="item" t-key="item.key || item.id || ('item-' + item_index)">
                <li t-if="currentGroup !== null and currentGroup !== item.groupNumber" class="dropdown-divider" role="separator"/>
                <t t-if="item.Component" t-component="item.Component" t-props="item.props"/>
                <DropdownMenuItem t-else="" t-props="item"/>
                <t t-set="currentGroup" t-value="item.groupNumber"/>
            </t>
        
        <t t-if="fields.length">
            <li t-if="items.length" class="dropdown-divider" role="separator"/>
            <CustomGroupByItem fields="fields"/>
        </t>
    </ul>
    </div>
</t>

<t t-name="web.DropdownMenuItem" owl="1">
    <li class="o_menu_item" role="menuitem" t-on-keydown="_onKeydown">
        <t t-if="canBeOpened">
            <a class="o_menu_item_parent dropdown-item" t-att-class="{ selected: props.isActive }" t-att-aria-checked="props.isActive ? 'true' : 'false'" role="menuitemcheckbox" href="#" t-ref="fallback-focus" t-on-click.prevent="state.open = !state.open">
                <t t-esc="props.description"/>
                <i t-attf-class="o_icon_right fa fa-caret-{{ state.open ? 'down' : 'right' }}"/>
            </a>
            <ul t-if="state.open" class="o_menu_item_options">
                <t t-set="currentGroup" t-value="null"/>
                <t t-foreach="props.options" t-as="option" t-key="option_index">
                    <li t-if="currentGroup !== null and currentGroup !== option.groupNumber" class="dropdown-divider" role="separator"/>
                    <li class="o_item_option" role="menuitem">
                        <a class="dropdown-item pl-5" t-att-class="{ selected: option.isActive }" t-att-aria-checked="option.isActive ? 'true' : 'false'" role="menuitemcheckbox" t-att-href="option.url or '#'" t-esc="option.description" t-on-click.prevent="trigger('item-selected', { item: props, option: option })"/>
                    </li>
                    <t t-set="currentGroup" t-value="option.groupNumber"/>
                </t>
            </ul>
        </t>
        <a t-else="" class="dropdown-item" t-att-class="{ selected: props.isActive, [props.className]: props.className }" t-att-aria-checked="props.isActive ? 'true' : 'false'" role="menuitemcheckbox" t-att-href="props.url or '#'" t-on-click.prevent="trigger('item-selected', { item: props })">
            <t t-esc="props.description"/>
            <i t-if="props.removable" class="o_icon_right fa fa-trash-o" title="Delete item" t-on-click.stop.prevent="trigger('remove-item', { item: props })"/>
        </a>
    </li>
</t>

<t t-name="web.CustomFavoriteItem" owl="1">
    <li class="o_menu_item o_add_favorite" role="menuitem">
        <button type="button" class="dropdown-item" t-ref="fallback-focus" t-on-click="state.open = !state.open">
            <t>Save current search</t>
        </button>
        <div t-if="state.open" class="dropdown-item-text">
            <div role="menuitem" class="dropdown-item-text">
                <input type="text" class="o_input" autofocus="" t-ref="description" t-model.trim="state.description" t-on-keydown="_onInputKeydown"/>
            </div>
            <div class="custom-control custom-checkbox">
                <input type="checkbox" t-att-id="useByDefaultId" class="custom-control-input" t-att-checked="state.isDefault" t-on-change="_onCheckboxChange"/>
                <label class="custom-control-label" t-att-for="useByDefaultId">
                    <t>Use by default</t>
                </label>
            </div>
            <div class="custom-control custom-checkbox">
                <input type="checkbox" t-att-id="shareAllUsersId" class="custom-control-input" t-att-checked="state.isShared" t-on-change="_onCheckboxChange"/>
                <label class="custom-control-label" t-att-for="shareAllUsersId">
                    <t>Share with all users</t>
                    <i class="fa fa-users" role="img" aria-label="Users" title="Users"/>
                </label>
            </div>
            <div class="dropdown-item-text">
                <button type="button" class="o_save_favorite btn btn-primary" t-on-click="_saveFavorite">Save</button>
            </div>
        </div>
    </li>
</t>

<t t-name="web.CustomFilterItem" owl="1">
    <div class="o_generator_menu">
        <button type="button" class="o_add_custom_filter dropdown-item" aria-expanded="false" t-ref="fallback-focus" t-on-click="state.open = !state.open" t-on-keydown="_onKeydown">
            <t>Add Custom Filter</t>
        </button>
        <t t-if="state.open">
            <div t-foreach="state.conditions" t-as="condition" t-key="condition_index" class=" o_filter_condition dropdown-item-text">
                <t t-set="fieldType" t-value="fields[condition.field].type"/>
                <t t-set="selectedOperator" t-value="OPERATORS[FIELD_TYPES[fieldType]][condition.operator]"/>
                <span t-if="!condition_first" class="o_or_filter">or</span>
                <select class="o_input o_generator_menu_field" t-on-change="_onFieldSelect(condition)">
                    <option t-foreach="fields" t-as="field" t-key="field_index" t-att-value="field.name" t-att-selected="field_index === condition.field" t-esc="field.string"/>
                </select>
                <select class="o_input o_generator_menu_operator" t-on-change="_onOperatorSelect(condition)">
                    <option t-foreach="OPERATORS[FIELD_TYPES[fieldType]]" t-as="operator" t-key="operator_index" t-att-value="operator.symbol" t-att-selected="operator_index === condition.operator" t-esc="operator.description"/>
                </select>
                <span t-if="!('value' in selectedOperator)" class="o_generator_menu_value">
                    <t t-if="fieldType === 'date'">
                        <DatePicker date="condition.value[0]" t-on-datetime-changed="_onDateChanged(condition, 0)"/>
                        <DatePicker t-if="selectedOperator.symbol === 'between'" date="condition.value[1]" t-on-datetime-changed="_onDateChanged(condition, 1)"/>
                    </t>
                    <t t-elif="fieldType === 'datetime'">
                        <DateTimePicker date="condition.value[0]" t-on-datetime-changed="_onDateChanged(condition, 0)"/>
                        <DateTimePicker t-if="selectedOperator.symbol === 'between'" date="condition.value[1]" t-on-datetime-changed="_onDateChanged(condition, 1)"/>
                    </t>
                    <select t-elif="fieldType === 'selection'" class="o_input" t-on-change="_onValueInput(condition)">
                        <option t-foreach="fields[condition.field].selection" t-as="option" t-key="option_index" t-att-value="option[0]" t-esc="option[1]"/>
                    </select>
                    <input t-elif="fieldType === 'float'" class="o_input" step="0.01" t-att-type="DECIMAL_POINT === '.' ? 'number' : 'text'" t-attf-title="Number using {{ DECIMAL_POINT }} as decimal separator." t-attf-pattern="[0-9]+([\\{{ DECIMAL_POINT }}][0-9]+)?" t-att-value="condition.displayedValue" t-on-input="_onValueInput(condition)"/>
                    <input t-elif="['integer', 'id'].includes(fieldType)" class="o_input" step="1" type="number" t-att-value="condition.displayedValue" t-on-input="_onValueInput(condition)"/>
                    <input t-else="" type="text" class="o_input" t-att-value="condition.displayedValue" t-on-input="_onValueInput(condition)"/>
                </span>
                <i t-if="state.conditions.length gt 1" class="fa fa-trash-o o_generator_menu_delete" role="image" aria-label="Delete" title="Delete" t-on-click="_onRemoveCondition(condition_index)"/>
            </div>
            <div class="o_add_filter_menu dropdown-item-text">
                <button type="button" class="btn btn-primary o_apply_filter" t-on-click="_onApply">
                    <t>Apply</t>
                </button>
                <button type="button" class="btn btn-secondary o_add_condition" t-on-click="_addDefaultCondition">
                    <i class="fa fa-plus-circle"/>
                    <t>Add a condition</t>
                </button>
            </div>
        </t>
    </div>
</t>

<t t-name="web.CustomGroupByItem" owl="1">
    <div class="o_generator_menu">
        <button type="button" class="o_add_custom_group_by dropdown-item" aria-expanded="false" t-ref="fallback-focus" t-on-click="state.open = !state.open" t-on-keydown="_onKeydown">
            <t>Add Custom Group</t>
        </button>
        <div t-if="state.open" class="dropdown-item-text">
            <select class="w-auto o_input o_group_by_selector" t-model="state.fieldName">
                <option t-foreach="props.fields" t-as="field" t-key="field.name" t-att-value="field.name" t-esc="field.string"/>
            </select>
        </div>
        <div t-if="state.open" class="o_add_group_by_menu dropdown-item-text">
            <button type="button" class="btn btn-primary o_apply_group_by" t-on-click="_onApply">
                <t>Apply</t>
            </button>
        </div>
    </div>
</t>

<t t-name="web.OwlDialog" owl="1">
    <Portal target="'body'">
        <div class="o_dialog" t-on-focus="_onFocus" t-on-click="_onClick">
            <div role="dialog" class="modal" tabindex="-1" t-att-class="{ o_technical_modal: props.technical, o_modal_full: props.fullscreen }" t-att-data-backdrop="'' + props.backdrop" t-ref="modal" t-on-close_dialog.stop="_close" t-on-click="_onBackdropClick">
                <div class="modal-dialog" t-att-class="size">
                    <div class="modal-content" t-att-class="props.contentClass">
                        <header t-if="props.renderHeader" class="modal-header">
                            <h4 class="modal-title">
                                <t t-esc="props.title"/>
                                <span t-if="props.subtitle" class="o_subtitle text-muted small" t-esc="props.subtitle"/>
                            </h4>
                            <button type="button" class="close" aria-label="Close" tabindex="-1" t-on-click="_close">×</button>
                        </header>
                        <main class="modal-body">
                            <t t-slot="default"/>
                        </main>
                        <footer t-if="props.renderFooter" class="modal-footer" t-ref="modal-footer">
                            <t t-slot="buttons">
                                <button class="btn btn-primary" t-on-click.prevent="_close">
                                    <t>Ok</t>
                                </button>
                            </t>
                        </footer>
                    </div>
                </div>
            </div>
        </div>
    </Portal>
</t>

<t t-name="Popover" owl="1">
    <div t-att-class="{ 'o_is_open': state.displayed }" t-on-click="_onClick" t-on-o-popover-compute="_onPopoverCompute" t-on-o-popover-close="_onPopoverClose">
        <t t-slot="default"/>
        <Portal t-if="state.displayed" target="'body'">
            <div role="tooltip" class="o_popover" t-ref="popover">
                <div class="arrow"/>
                <h3 t-if="props.title" class="o_popover_header"><t t-esc="props.title"/></h3>
                <div class="popover-body">
                    <t t-slot="opened"/>
                </div>
            </div>
        </Portal>
    </div>
</t>

<t t-name="web.Pager" owl="1">
    <nav class="o_pager" aria-label="Pager">
        <span class="o_pager_counter" t-on-click.stop="">
            <input t-if="state.editing" type="text" class="o_pager_value o_input" autofocus="" t-att-value="value" t-on-blur="state.editing = false" t-on-change="_onValueChange" t-on-keydown.stop="_onValueKeydown"/>
            <span t-else="" class="o_pager_value" t-esc="value" t-on-click="_onEdit"/>
            <span> / </span>
            <span class="o_pager_limit" t-esc="props.size"/>
        </span>
        <span class="btn-group" aria-atomic="true">
            
            <button type="button" class="fa fa-chevron-left btn btn-secondary o_pager_previous" t-att-disabled="state.disabled || singlePage" t-att-accesskey="props.withAccessKey ? 'p' : false" aria-label="Previous" title="Previous" tabindex="-1" t-on-click="_changeSelection(-1)"/>
            <button type="button" class="fa fa-chevron-right btn btn-secondary o_pager_next" t-att-disabled="state.disabled || singlePage" t-att-accesskey="props.withAccessKey ? 'n' : false" aria-label="Next" title="Next" tabindex="-1" t-on-click="_changeSelection(1)"/>
        </span>
    </nav>
</t>

<t t-name="web.SearchBar" owl="1">
    <div class="o_searchview_input_container">
        <div t-foreach="model.get('facets')" t-as="facet" t-key="facet_index" tabindex="0" class="o_searchview_facet" role="img" aria-label="search" t-on-keydown="_onFacetKeydown(facet, facet_index)">
            <span t-if="facet.icon" t-attf-class="o_searchview_facet_label {{ facet.icon }}"/>
            <span t-else="" class="o_searchview_facet_label" t-esc="facet.title"/>
            <div class="o_facet_values">
                <t t-foreach="facet.values" t-as="facetValue" t-key="facetValue_index">
                    <span t-if="!facetValue_first" class="o_facet_values_sep" t-esc="facet.separator"/>
                    <span class="o_facet_value" t-esc="facetValue"/>
                </t>
            </div>
            <i class="fa fa-sm fa-remove o_facet_remove" role="img" aria-label="Remove" title="Remove" t-on-click="_onFacetRemove(facet)"/>
        </div>
        <input type="text" class="o_searchview_input" t-att-autofocus="!env.device.isMobileDevice" accesskey="Q" placeholder="Search..." role="searchbox" t-ref="search-input" t-on-keydown="_onSearchKeydown" t-on-input="_onSearchInput"/>
        <ul t-if="state.sources.length" class="o_dropdown_menu o_searchview_autocomplete dropdown-menu show" role="menu">
            <li t-foreach="state.sources" t-as="src" t-key="src.id" t-att-id="src.id" class="o_menu_item" t-att-class="{ o_indent: src.parent, o_selection_focus: src_index === state.focusedItem }" t-on-click="_selectSource(src)" t-on-mousemove="_onSourceMousemove(src_index)">
                <a t-if="src.expand" href="#" class="o_expand" t-on-click.stop.prevent="_expandSource(src, !src.expanded)">
                    <i t-attf-class="fa fa-caret-{{ src.expanded ? 'down' : 'right' }}"/>
                </a>
                <a href="#" t-on-click.prevent="">
                    <t t-if="src.label" t-esc="src.label"/>
                    <t t-elif="['date', 'datetime'].includes(src.type)">
                        <t>Search <em t-esc="src.description"/> at: <strong t-esc="state.inputValue"/></t>
                    </t>
                    <t t-else="">Search <em t-esc="src.description"/> for: <strong t-esc="state.inputValue"/></t>
                </a>
            </li>
        </ul>
    </div>
</t>

<t t-name="web.ActionMenus" owl="1">
    <div class="o_cp_action_menus" t-on-item-selected.stop="_onItemSelected">
        <DropdownMenu t-if="printItems.length" title="env._t('Print')" items="printItems" icon="'fa fa-print'"/>
        <DropdownMenu t-if="actionItems.length" title="env._t('Action')" items="actionItems" icon="'fa fa-cog'" closeOnSelected="true"/>
    </div>
</t>

<t t-name="web.ViewSwitcherButton" owl="1">
    <t t-set="buttonLabel">View %s</t>
    <button type="button" t-att-accesskey="view.accessKey" t-attf-class="btn btn-secondary fa fa-lg o_switch_view o_{{ view.type }} {{ view.icon }}" t-att-class="{ active: env.view.type === view.type }" t-att-aria-label="sprintf(buttonLabel.toString(), view.type)" t-att-title="sprintf(buttonLabel.toString(), view.type)" data-toggle="tooltip" tabindex="-1" t-on-click="trigger('switch-view', { view_type: view.type })"/>
</t>



<div t-name="EmptyComponent"/>

<div t-name="Loading" class="o_loading"/>

<t t-name="WidgetLabel.tooltip">
    <div class="oe_tooltip_string" t-if="widget.string" role="tooltip">
        <t t-esc="widget.string"/> <t t-if="debug and widget.nolabel">(nolabel)</t>
    </div>
    <p t-if="help" class="oe_tooltip_help" role="tooltip">
        <t t-esc="help"/>
    </p>
    <ul t-if="debug" class="oe_tooltip_technical" role="tooltip">
        <li data-item="field" t-if="widget.name">
            <span class="oe_tooltip_technical_title">Field:</span>
            <t t-esc="widget.name"/>
        </li>
        <li data-item="object">
            <span class="oe_tooltip_technical_title">Object:</span>
            <t t-esc="widget.model"/>
        </li>
        <li data-item="type">
            <span class="oe_tooltip_technical_title">Type:</span>
            <t t-esc="widget.field.type"/>
        </li>
        <li t-if="widget.attrs.widget" data-item="widget">
            <span class="oe_tooltip_technical_title">Widget:</span>
            <t t-set="description" t-value="widget.attrs.Widget.prototype.description"/>
            <t t-if="description">
                <t t-esc="description"/> (<t t-esc="widget.attrs.widget"/>)
            </t>
            <t t-else="1">
                <t t-esc="widget.attrs.widget"/>
            </t>
        </li>
        <li t-if="widget.attrs.size || widget.field.size" data-item="size">
            <span class="oe_tooltip_technical_title">Size:</span>
            <t t-esc="widget.attrs.size || widget.field.size"/>
        </li>
        <li t-if="widget.attrs.context || widget.field.context" data-item="context">
            <span class="oe_tooltip_technical_title">Context:</span>
            <t t-esc="widget.attrs.context || JSON.stringify(widget.field.context)"/>
        </li>
        <li t-if="widget.attrs.domain || widget.field.domain" data-item="domain">
            <span class="oe_tooltip_technical_title">Domain:</span>
            <t t-esc="widget.attrs.domain || JSON.stringify(widget.field.domain)"/>
        </li>
        <li t-if="widget.attrs.modifiers and !_.isEmpty(widget.attrs.modifiers)" data-item="modifiers">
            <span class="oe_tooltip_technical_title">Modifiers:</span>
            <t t-esc="JSON.stringify(widget.attrs.modifiers)"/>
        </li>
        <li t-if="widget.field and widget.field.change_default" data-item="change_default">
            <span class="oe_tooltip_technical_title">Change default:</span>
            Yes
        </li>
        <li t-if="widget.attrs.on_change" data-item="on_change">
            <span class="oe_tooltip_technical_title">On change:</span>
            <t t-esc="widget.attrs.on_change"/>
        </li>
        <li t-if="widget.field and widget.field.relation" data-item="relation">
            <span class="oe_tooltip_technical_title">Relation:</span>
            <t t-esc="widget.field.relation"/>
        </li>
        <li t-if="widget.field and widget.field.selection" data-item="selection">
            <span class="oe_tooltip_technical_title">Selection:</span>
            <ul class="oe_tooltip_technical">
                <li t-foreach="widget.field.selection" t-as="option">
                    [<t t-esc="option[0]"/>]
                    <t t-if="option[1]"> - </t>
                    <t t-esc="option[1]"/>
                </li>
            </ul>
        </li>
    </ul>
</t>
<t t-name="WidgetButton.tooltip">
    <div class="oe_tooltip_string" t-if="debug || node.attrs.string" role="tooltip">
        <t t-if="debug">
            Button
            <t t-if="node.attrs.string">: </t>
            <t t-if="!node.attrs.string"> (no string)</t>
        </t>
        <t t-esc="node.attrs.string"/>
    </div>
    <p t-if="node.attrs.help" class="oe_tooltip_help" role="tooltip">
        <t t-esc="node.attrs.help"/>
    </p>
    <ul t-if="debug" class="oe_tooltip_technical" role="tooltip">
        <li data-item="object">
            <span class="oe_tooltip_technical_title">Object:</span>
            <t t-esc="state.model"/>
        </li>
        <li t-if="node.attrs.context" data-item="context">
            <span class="oe_tooltip_technical_title">Context:</span>
            <t t-esc="node.attrs.context || widget.field.context"/>
        </li>
        <li t-if="node.attrs.modifiers and !_.isEmpty(node.attrs.modifiers)" data-item="modifiers">
            <span class="oe_tooltip_technical_title">Modifiers:</span>
            <t t-esc="JSON.stringify(node.attrs.modifiers)"/>
        </li>
        <li t-if="node.attrs.special" data-item="special">
            <span class="oe_tooltip_technical_title">Special:</span>
            <t t-esc="node.attrs.special"/>
        </li>
        <t t-set="button_type" t-value="node.attrs.type"/>
        <li t-if="button_type" data-item="button_type">
            <span class="oe_tooltip_technical_title">Button Type:</span>
            <t t-esc="button_type"/>
        </li>
        <li t-if="button_type === 'object'" data-item="button_method">
            <span class="oe_tooltip_technical_title">Method:</span>
            <t t-esc="node.attrs.name"/>
        </li>
        <li t-if="button_type === 'action'" data-item="button_action">
            <span class="oe_tooltip_technical_title">Action ID:</span>
            <t t-esc="node.attrs.name"/>
        </li>
    </ul>
</t>

<form t-name="ChangePassword" name="change_password_form" method="POST" aria-atomic="true">
    <div class="o_form_view">
        <table class="o_group o_inner_group o_label_nowrap">
            <tr>
                <td class="o_td_label"><label for="old_pwd" class="o_form_label">Old Password</label></td>
                <td width="100%"><input type="password" class="o_field_widget o_input" name="old_pwd" minlength="1" autofocus="autofocus" autocomplete="current-password"/></td>
            </tr>
            <tr>
                <td class="o_td_label"><label for="new_password" class="o_form_label">New Password</label></td>
                <td width="100%"><input type="password" class="o_field_widget o_input" name="new_password" minlength="1" autocomplete="new-password"/></td>
            </tr>
            <tr>
                <td class="o_td_label"><label for="confirm_pwd" class="o_form_label">Confirm New Password</label></td>
                <td width="100%"><input type="password" class="o_field_widget o_input" name="confirm_pwd" minlength="1" autocomplete="new-password"/></td>
            </tr>
        </table>
    </div>
    <button type="button" class="btn btn-primary oe_form_button">Change Password</button>
    <button type="button" class="btn btn-secondary oe_form_button oe_form_button_cancel" href="javascript:void(0)">Cancel</button>
</form>

<div t-name="Action" class="o_action">
    <div class="o_content"/>
</div>

<div t-name="web.NoContentHelper" class="o_view_nocontent" role="alert" owl="1">
    <div class="o_nocontent_help">
        <p class="o_view_nocontent_empty_folder">
            <t t-if="title" t-esc="title"/>
            <t t-else="1">No data to display</t>
        </p>
        <p>
            <t t-if="description" t-esc="description"/>
            <t t-else="1">Try to add some records, or make sure that there is no
                active filter in the search bar.</t>
        </p>
    </div>
</div>

<div t-name="web.ActionHelper" class="o_view_nocontent" owl="1">
    <div class="o_nocontent_help">
        <t t-raw="noContentHelp"/>
    </div>
</div>

<t t-name="ListView.buttons">
    <div class="o_list_buttons" role="toolbar" aria-label="Main actions">
        <button type="button" class="btn btn-primary o_list_button_save" accesskey="s">
            Save
        </button>
        <button type="button" class="btn btn-secondary o_list_button_discard" accesskey="j">
            Discard
        </button>
        <t t-if="widget.is_action_enabled('create')">
            <button type="button" class="btn btn-primary o_list_button_add" accesskey="c">
                Create
            </button>
        </t>
        <t t-if="widget.is_action_enabled('export_xlsx') and widget.isExportEnable">
            <button type="button" class="btn btn-secondary fa fa-download o_list_export_xlsx" title="Export All" aria-label="Export All"/>
        </t>
    </div>
</t>

<t t-name="ListView.selection">
    <div class="o_list_selection_box">
        <t t-if="isDomainSelected">All <t t-esc="nbTotal"/> selected</t>
        <t t-else="">
            <t t-esc="nbSelected"/> selected
            <a t-if="isPageSelected and nbTotal &gt; nbSelected" href="#" class="o_list_select_domain">
                <i class="fa fa-arrow-right"/> Select all <t t-esc="nbTotal"/>
            </a>
        </t>
    </div>
</t>

<t t-name="ListView.confirmModal">
    <main role="alert">
        <p>
            <t t-if="changes.isDomainSelected">This update will only consider the records of the current page.<br/><br/></t>
            <t t-if="changes.nbRecords != changes.nbValidRecords">
                Among the <t t-esc="changes.nbRecords"/> selected records,
                <t t-esc="changes.nbValidRecords"/> are valid for this update.<br/>
            </t>
            Are you sure you want to perform the following update on those <t t-esc="changes.nbValidRecords"/> records ?
        </p>
        <div class="table-responsive">
            <table class="o_modal_changes">
                <tbody>
                    <tr>
                        <td>Field:</td>
                        <td><t t-esc="changes.fieldLabel"/></td>
                    </tr>
                    <tr>
                        <td>Update to:</td>
                        <td>
                            <div class="o_changes_widget"/>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </main>
</t>

<t t-name="FormView.buttons">
    <div class="o_form_buttons_view" role="toolbar" aria-label="Main actions">
        <button t-if="widget.is_action_enabled('edit')" type="button" class="btn btn-primary o_form_button_edit" accesskey="a">
            Edit
        </button>
        <button t-if="widget.is_action_enabled('create')" type="button" class="btn btn-secondary o_form_button_create" accesskey="c">
            Create
        </button>
    </div>
    <div class="o_form_buttons_edit" role="toolbar" aria-label="Main actions">
        <button type="button" class="btn btn-primary o_form_button_save" accesskey="s">
            Save
        </button>
        <button type="button" class="btn btn-secondary o_form_button_cancel" accesskey="j">
            Discard
        </button>
    </div>
</t>
<t t-name="SaveCancelButton.tooltip">
    <div class="oe_tooltip_string" role="alert">
        <div class="tooltip-inner">
            Hit ENTER to SAVE<br/>
            Hit ESCAPE to DISCARD
        </div>
    </div>
</t>
<t t-name="CreateButton.tooltip">
    <div class="oe_tooltip_string" role="tooltip">
        <div class="tooltip-inner">
            Hit ENTER to CREATE<br/>
            Hit DOWN to navigate to the list below
        </div>
    </div>
</t>
<t t-name="FormButton.tooltip">
    <div class="oe_tooltip_string" role="tooltip">
        <div class="tooltip-inner">
            Hit ENTER to
            <t t-esc="title"/>
        </div>
    </div>
</t>
<form t-name="FormView.set_default" aria-atomic="true">
    <t t-set="args" t-value="widget.args"/>
    <table style="width: 100%">
        <tr>
            <td>
                <label for="formview_default_fields" class="oe_label oe_align_right">
                    Default:
                </label>
            </td>
            <td class="oe_form_required">
                <select id="formview_default_fields" class="o_input">
                    <option value=""/>
                    <option t-foreach="args.fields" t-as="field" t-att-value="field.name">
                        <t t-esc="field.string"/> = <t t-esc="field.displayed"/>
                    </option>
                </select>
            </td>
        </tr>
        <tr t-if="args.conditions.length">
            <td>
                <label for="formview_default_conditions" class="oe_label oe_align_right">
                    Condition:
                </label>
            </td>
            <td>
                <select id="formview_default_conditions" class="o_input">
                    <option value=""/>
                    <option t-foreach="args.conditions" t-as="cond" t-att-value="cond.name + '=' + cond.value">
                        <t t-esc="cond.string"/>=<t t-esc="cond.displayed"/>
                    </option>
                </select>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <input type="radio" id="formview_default_self" value="self" name="scope" checked="checked"/>
                <label for="formview_default_self" class="oe_label" style="display: inline;">
                    Only you
                </label>
                <br/>
                <input type="radio" id="formview_default_all" value="all" name="scope"/>
                <label for="formview_default_all" class="oe_label" style="display: inline;">
                    All users
                </label>
            </td>
        </tr>
    </table>
</form>
<t t-name="GraphView.buttons">
    <div class="btn-group" role="toolbar" aria-label="Main actions"/>
    <div class="btn-group" role="toolbar" aria-label="Change graph">
        <button class="btn btn-secondary fa fa-bar-chart-o o_graph_button" title="Bar Chart" aria-label="Bar Chart" data-mode="bar"/>
        <button class="btn btn-secondary fa fa-area-chart o_graph_button" title="Line Chart" aria-label="Line Chart" data-mode="line"/>
        <button class="btn btn-secondary fa fa-pie-chart o_graph_button" title="Pie Chart" aria-label="Pie Chart" data-mode="pie"/>
    </div>
    <div class="btn-group" role="toolbar" aria-label="Change graph">
        <button class="btn btn-secondary fa fa-database o_graph_button" title="Stacked" aria-label="Stacked" data-mode="stack"/>
    </div>
    <div class="btn-group" role="toolbar" aria-label="Sort graph">
        <button class="btn btn-secondary fa fa-sort-amount-desc o_graph_button" title="Descending" aria-label="Descending" data-order="desc"/>
        <button class="btn btn-secondary fa fa-sort-amount-asc o_graph_button" title="Ascending" aria-label="Ascending" data-order="asc"/>
    </div>
</t>

<div t-name="GraphView.CustomTooltip" class="o_graph_custom_tooltip">
    <table>
        <thead>
            <tr>
                <th class="o_measure"><t t-esc="measure"/></th>
            </tr>
        </thead>
        <tbody>
            <tr t-foreach="tooltipItems" t-as="tooltipItem">
                <td>
                    <span class="o_square" t-att-style="'background-color: ' + tooltipItem.boxColor"/>
                    <span class="o_label" t-att-style="'max-width: ' + maxWidth"> <t t-esc="tooltipItem.label"/> </span>
                </td>
                <td class="o_value">
                    <t t-esc="tooltipItem.value"/>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<t t-name="PivotView.buttons">
    <div class="btn-group" role="toolbar" aria-label="Main actions">
        <button class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
            Measures
        </button>
        <div class="dropdown-menu o_pivot_measures_list" role="menu">
            <t t-foreach="measures" t-as="measure">
                <a role="menuitem" href="#" class="dropdown-item" t-att-data-field="measure[0]"><t t-esc="measure[1].string"/><t t-if="measure[1].type === 'many2one'"> (count)</t></a>
            </t>
            <div role="separator" class="dropdown-divider"/>
            <a role="menuitem" href="#" class="dropdown-item" data-field="__count">Count</a>
        </div>
    </div>
    <div class="btn-group" role="toolbar" aria-label="Pivot settings">
        <button class="btn btn-secondary fa fa-exchange o_pivot_flip_button" title="Flip axis" aria-label="Flip axis"/>
        <button class="btn btn-secondary fa fa-arrows o_pivot_expand_button" title="Expand all" aria-label="Expand all"/>
        <button class="btn btn-secondary fa fa-download o_pivot_download" title="Download xlsx" aria-label="Download xlsx"/>
    </div>
</t>

<t t-name="FormSelection">
    <div class="btn-group o_selection" aria-atomic="true">
        <a href="#" data-toggle="dropdown" aria-expanded="false" role="button" title="Dropdown menu"><span class="o_status"/></a>
        <div class="dropdown-menu state" role="menu"/>
    </div>
</t>
<t t-name="FormSelection.items">
    <t t-foreach="states" t-as="rec">
        <a role="menuitem" href="#" class="dropdown-item" t-att-data-value="rec.name">
            <span t-att-class="'o_status ' + (rec.state_class &amp;&amp; rec.state_class || '')"/>
            <t t-raw="rec.state_name"/>
        </a>
    </t>
</t>
<t t-name="FieldDomain.content">
    <div t-if="hasModel" class="o_field_domain_panel">
        <i class="fa fa-arrow-right" role="img" aria-label="Domain" title="Domain"/>

        <button t-if="isValid" class="btn btn-sm btn-secondary o_domain_show_selection_button" type="button">
            <t t-esc="nbRecords"/> record(s)
        </button>
        <span t-else="" class="text-warning" role="alert"><i class="fa fa-exclamation-triangle" role="img" aria-label="Warning" title="Warning"/> Invalid domain</span>

        <button t-if="inDialogEdit" class="btn btn-sm btn-primary o_field_domain_dialog_button">Edit Domain</button>
    </div>
    <div t-else="">Select a model to add a filter.</div>
</t>

<t t-name="DomainNode.ControlPanel">
    <div t-if="!widget.readonly &amp;&amp; !widget.noControlPanel" class="o_domain_node_control_panel" role="toolbar" aria-label="Domain node">
        <button class="btn o_domain_delete_node_button" title="Delete node" aria-label="Delete node"><i class="fa fa-times"/></button>
        <button class="btn o_domain_add_node_button" title="Add node" aria-label="Add node"><i class="fa fa-plus-circle"/></button>
        <button class="btn o_domain_add_node_button" title="Add branch" aria-label="Add branch" data-branch="1"><i class="fa fa-ellipsis-h"/></button>
    </div>
</t>
<t t-name="DomainTree.OperatorSelector">
    <div t-if="!widget.readonly" class="btn-group o_domain_tree_operator_selector" aria-atomic="true">
        <button class="btn btn-sm btn-primary o_domain_tree_operator_caret" data-toggle="dropdown">
            <t t-if="widget.operator === '&amp;'">All</t>
            <t t-if="widget.operator === '|'">Any</t>
            <t t-if="widget.operator === '!'">None</t>
        </button>
        <div class="dropdown-menu" role="menu">
            <a role="menuitem" href="#" class="dropdown-item" data-operator="&amp;">All</a>
            <a role="menuitem" href="#" class="dropdown-item" data-operator="|">Any</a>
        </div>
    </div>
    <strong t-else="">
        <t t-if="widget.operator === '&amp;'">ALL</t>
        <t t-if="widget.operator === '|'">ANY</t>
        <t t-if="widget.operator === '!'">NONE</t>
    </strong>
</t>
<div aria-atomic="true" t-name="DomainSelector" t-attf-class="o_domain_node o_domain_tree o_domain_selector #{widget.readonly ? 'o_read_mode' : 'o_edit_mode'}">
    <t t-if="widget.children.length === 0">
        <span>Match <strong>all records</strong></span>
        <button t-if="!widget.readonly" class="btn btn-sm btn-primary o_domain_add_first_node_button"><i class="fa fa-plus"/> Add filter</button>
    </t>
    <t t-else="">
        <div class="o_domain_tree_header">
            <t t-if="widget.children.length === 1">Match records with the following rule:</t>
            <t t-else="">
                <span>Match records with</span>
                <t t-call="DomainTree.OperatorSelector"/>
                <span>of the following rules:</span>
            </t>
        </div>

        <div class="o_domain_node_children_container"/>
    </t>
    <label t-if="widget.debug &amp;&amp; !widget.readonly" class="o_domain_debug_container">
        <span class="small"># Code editor</span>
        <input type="text" class="o_domain_debug_input"/>
    </label>
</div>
<div t-name="DomainTree" class="o_domain_node o_domain_tree">
    <div class="o_domain_tree_header o_domain_selector_row">
        <t t-call="DomainNode.ControlPanel"/>
        <t t-call="DomainTree.OperatorSelector"/>
        <span class="ml4">of:</span>
    </div>

    <div class="o_domain_node_children_container"/>
</div>
<div t-name="DomainLeaf" t-attf-class="o_domain_node o_domain_leaf o_domain_selector_row #{widget.readonly ? 'o_read_mode' : 'o_edit_mode'}">
    <t t-call="DomainNode.ControlPanel"/>

    <div t-if="!widget.readonly" class="o_domain_leaf_edition">
        
        <div> 
            <select class="o_domain_leaf_operator_select o_input">
                <option t-foreach="widget.operators" t-as="key" t-att-value="key" t-att-selected="widget.displayOperator === key ? 'selected' : None">
                    <t t-esc="key_value"/>
                </option>
            </select>
        </div>
        <div t-attf-class="o_ds_value_cell#{_.contains(['set', 'not set'], widget.displayOperator) ? ' d-none' : ''}">
            <t t-if="widget.selectionChoices !== null">
                <select class="o_domain_leaf_value_input o_input">
                    <option t-foreach="widget.selectionChoices" t-as="val" t-att-value="val[0]" t-att-selected="_.contains(val, widget.displayValue) ? 'selected' : None">
                        <t t-esc="val[1]"/>
                    </option>
                </select>
            </t>
            <t t-else="">
                <t t-if="_.contains(['in', 'not in'], widget.operator)">
                    <div class="o_domain_leaf_value_input">
                        <span class="badge badge-pill" t-foreach="widget.displayValue" t-as="val">
                            <t t-esc="val"/> <i class="o_domain_leaf_value_remove_tag_button fa fa-times" t-att-data-value="val" role="img" aria-label="Remove tag" title="Remove tag"/>
                        </span>
                    </div>
                    <div class="o_domain_leaf_value_tags">
                        <input placeholder="Add new value" type="text" class="o_input"/>
                        <button class="btn btn-sm btn-primary fa fa-plus o_domain_leaf_value_add_tag_button" aria-label="Add tag" title="Add tag"/>
                    </div>
                </t>
                <t t-else="">
                    <input class="o_domain_leaf_value_input o_input" type="text" t-att-value="widget.displayValue"/>
                </t>
            </t>
        </div>
    </div>
    <div t-else="" class="o_domain_leaf_info">
        
        <t t-if="_.isString(widget.value)">
            <span class="o_domain_leaf_operator"><t t-esc="widget.operator_mapping[widget.operator]"/></span>
            <span class="o_domain_leaf_value text-primary">"<t t-esc="widget.value"/>"</span>
        </t>
        <t t-if="_.isArray(widget.value)">
            <span class="o_domain_leaf_operator"><t t-esc="widget.operator_mapping[widget.operator]"/></span>
            <t t-foreach="widget.value" t-as="v">
                <span class="o_domain_leaf_value text-primary">"<t t-esc="v"/>"</span>
                <t t-if="!v_last"> or </t>
            </t>
        </t>
        <t t-if="_.isNumber(widget.value)">
            <span class="o_domain_leaf_operator"><t t-esc="widget.operator_mapping[widget.operator]"/></span>
            <span class="o_domain_leaf_value text-primary"><t t-esc="widget.value"/></span>
        </t>
        <t t-if="_.isBoolean(widget.value)">
            is
            <t t-if="widget.operator === '=' &amp;&amp; widget.value === false || widget.operator === '!=' &amp;&amp; widget.value === true">not</t>
            set
        </t>
    </div>
</div>
<div aria-atomic="true" t-name="ModelFieldSelector" t-attf-class="o_field_selector#{!widget.options.readonly ? ' o_edit_mode o_input' : ''}">
    <div class="o_field_selector_value" tabindex="0"/>
    <div class="o_field_selector_controls" tabindex="0">
        <i role="alert" class="fa fa-exclamation-triangle o_field_selector_warning d-none" title="Invalid field chain" aria-label="Invalid field chain"/>
    </div>
    <div t-if="!widget.options.readonly" class="o_field_selector_popover d-none" tabindex="0">
        <div class="o_field_selector_popover_header text-center">
            <i class="fa fa-arrow-left o_field_selector_popover_option o_field_selector_prev_page" title="Previous" role="img" aria-label="Previous"/>
            <div class="o_field_selector_title"/>
            <i class="fa fa-times o_field_selector_popover_option o_field_selector_close" title="Close" role="img" aria-label="Close"/>
            <div t-if="widget.options.showSearchInput" class="o_field_selector_search mt-2">
                <input type="text" placeholder="Search..." class="o_input"/>
            </div>
        </div>
        <div class="o_field_selector_popover_body">
            <ul class="o_field_selector_page"/>
        </div>
        <div t-if="widget.options.debugMode" class="o_field_selector_popover_footer">
            <input type="text" class="o_input o_field_selector_debug"/>
        </div>
    </div>
</div>
<t t-name="ModelFieldSelector.value">
    <t t-foreach="chain" t-as="fieldName">
        <t t-if="fieldName_index &gt; 0">
            <i class="fa fa-chevron-right" role="img" aria-label="Followed by" title="Followed by"/>
        </t>
        <span class="o_field_selector_chain_part">
            <t t-if="fieldName === '1'">
                <t t-esc="fieldName"/>
            </t>
            <t t-elif="fieldName === '0'">
                <t t-esc="fieldName"/>
            </t>
            <t t-else="">
                <t t-set="fieldInfo" t-value="_.findWhere(pages[fieldName_index], {'name': fieldName})"/>
                <t t-esc="fieldInfo &amp;&amp; fieldInfo.string || '?'"/>
            </t>
        </span>
    </t>
</t>
<ul t-name="ModelFieldSelector.page" class="o_field_selector_page">
    <t t-foreach="lines" t-as="line">
        <t t-set="relationToFollow" t-value="followRelations(line) &amp;&amp; line.relation"/>
        <li t-attf-class="o_field_selector_item #{relationToFollow and 'o_field_selector_next_page' or 'o_field_selector_select_button'}#{line_index == 0 and ' active' or ''}" t-att-data-name="line.name">
            <t t-esc="line.string"/>
            <div t-if="debug" class="text-muted o_field_selector_item_title"><t t-esc="line.name"/> (<t t-esc="line.type"/>)</div>
            <i t-if="relationToFollow" class="fa fa-chevron-right o_field_selector_relation_icon" role="img" aria-label="Relation to follow" title="Relation to follow"/>
        </li>
    </t>
</ul>

<t t-name="web.datepicker">
    <t t-set="placeholder" t-value="widget.getParent().node and widget.getParent().node.attrs.placeholder"/>
    <t t-set="datepickerID" t-value="_.uniqueId('datepicker')"/>
    <div class="o_datepicker" aria-atomic="true" t-att-id="datepickerID" data-target-input="nearest">
        <input type="text" class="o_datepicker_input o_input datetimepicker-input" t-att-name="widget.name" t-att-placeholder="placeholder" t-attf-data-target="##{datepickerID}" autocomplete="off"/>
        <span class="o_datepicker_button"/>
    </div>
</t>
<t t-name="FieldSelection">
    <span t-if="widget.mode === 'readonly'"/>

    <select t-if="widget.mode !== 'readonly'" class="o_input" t-att-name="widget.name" t-att-tabindex="widget.attrs.tabindex" t-att-autofocus="widget.attrs.autofocus" t-att-id="widget.idForLabel"/>
</t>
<t t-name="FieldRadio.button">
    <div class="custom-control custom-radio o_radio_item" aria-atomic="true">
        <input type="radio" class="custom-control-input o_radio_input" t-att-checked="checked ? true : undefined" t-att-name="name" t-att-data-value="value[0]" t-att-data-index="index" t-att-id="id"/>
        <label class="custom-control-label o_form_label" t-att-for="id"><t t-esc="value[1]"/></label>
    </div>
</t>

<t t-name="FieldSelectionBadge">
    <span t-foreach="values" t-as="value" t-attf-class="o_selection_badge #{value[0] == current_value ? 'active' : ''}" t-att-data-index="value_index">
        <t t-esc="value[1]"/>
    </span>
</t>

<t t-name="FieldMany2One">
    <t t-if="widget.mode === 'readonly'">
        <a t-if="!widget.noOpen" t-att-tabindex="widget.attrs.tabindex" class="o_form_uri" href="#"/>
        <span t-if="widget.noOpen"/>
    </t>
    <div t-if="widget.mode === 'edit'" class="o_field_widget o_field_many2one" aria-atomic="true">
        <div class="o_input_dropdown">
            <input type="text" class="o_input" t-att-barcode_events="widget.nodeOptions.barcode_events" t-att-tabindex="widget.attrs.tabindex" t-att-autofocus="widget.attrs.autofocus" t-att-placeholder="widget.attrs.placeholder" t-att-id="widget.idForLabel"/>
            <a role="button" class="o_dropdown_button" draggable="false"/>
        </div>
        <button type="button" t-if="!widget.noOpen" class="fa fa-external-link btn btn-secondary o_external_button" tabindex="-1" draggable="false" aria-label="External link" title="External link"/>
    </div>
</t>

<t t-name="web.Many2OneAvatar">
    <img t-att-src="url" t-att-alt="value" class="o_m2o_avatar"/>
    <span t-esc="value"/>
</t>

<t t-name="FieldReference" t-extend="FieldMany2One">
    <t t-jquery=".o_input_dropdown" t-operation="before">
        <select t-att-class="'o_input o_field_widget' + (widget.nodeOptions.hide_model and ' d-none' or '')">
            <option/>
            <option t-foreach="widget.field.selection" t-as="model" t-att-value="model[0]"><t t-esc="model[1]"/></option>
        </select>
    </t>
</t>
<t t-name="FieldMany2ManyTag">
    <t t-foreach="elements" t-as="el">
        <t t-set="color" t-value="el[colorField] || 0"/>
        <t t-set="colornames" t-value="['No color', 'Red', 'Orange', 'Yellow', 'Light blue', 'Dark purple', 'Salmon pink', 'Medium blue', 'Dark blue', 'Fushia', 'Green', 'Purple']"/>
        <div t-attf-class="badge badge-pill #{hasDropdown ? 'dropdown' : ''} o_tag_color_#{color}" t-att-data-color="color" t-att-data-index="el_index" t-att-data-id="el.id" t-attf-title="Tag color: #{colornames[color]}">
            <t t-set="_badge_text">
                <span class="o_badge_text" t-att-title="el.display_name"><span role="img" t-attf-aria-label="Tag color: #{colornames[color]}"/><t t-esc="el.display_name"/></span>
            </t>
            <t t-if="hasDropdown">
                <a role="button" href="#" class="dropdown-toggle o-no-caret" data-toggle="dropdown" aria-expanded="false">
                    <t t-raw="_badge_text"/>
                </a>
            </t>
            <t t-else="">
                <t t-raw="_badge_text"/>
            </t>
            <a t-if="!readonly" href="#" class="fa fa-times o_delete" title="Delete" aria-label="Delete"/>
        </div>
    </t>
</t>
<t t-name="FieldMany2ManyTagAvatar" t-extend="FieldMany2ManyTag">
    <t t-jquery="span:first" t-operation="prepend">
        <img t-attf-src="/web/image/#{avatarModel}/#{el.id}/#{avatarField}" class="rounded-circle"/>
    </t>
</t>
<t t-name="FieldMany2ManyTag.colorpicker">
    <div class="o_colorpicker dropdown-menu tagcolor_dropdown_menu" role="menu">
        <ul>
            <li><a role="menuitem" href="#" t-att-data-id="tag_id" class="o_tag_color_1" data-color="1" title="Red" aria-label="Red"/></li>
            <li><a role="menuitem" href="#" t-att-data-id="tag_id" class="o_tag_color_2" data-color="2" title="Orange" aria-label="Orange"/></li>
            <li><a role="menuitem" href="#" t-att-data-id="tag_id" class="o_tag_color_3" data-color="3" title="Yellow" aria-label="Yellow"/></li>
            <li><a role="menuitem" href="#" t-att-data-id="tag_id" class="o_tag_color_4" data-color="4" title="Light blue" aria-label="Light blue"/></li>
            <li><a role="menuitem" href="#" t-att-data-id="tag_id" class="o_tag_color_5" data-color="5" title="Dark purple" aria-label="Dark purple"/></li>
            <li><a role="menuitem" href="#" t-att-data-id="tag_id" class="o_tag_color_6" data-color="6" title="Salmon pink" aria-label="Salmon pink"/></li>
            <li><a role="menuitem" href="#" t-att-data-id="tag_id" class="o_tag_color_7" data-color="7" title="Medium blue" aria-label="Medium blue"/></li>
            <li><a role="menuitem" href="#" t-att-data-id="tag_id" class="o_tag_color_8" data-color="8" title="Dark blue" aria-label="Dark blue"/></li>
            <li><a role="menuitem" href="#" t-att-data-id="tag_id" class="o_tag_color_9" data-color="9" title="Fushia" aria-label="Fushia"/></li>
            <li><a role="menuitem" href="#" t-att-data-id="tag_id" class="o_tag_color_10" data-color="10" title="Green" aria-label="Green"/></li>
            <li><a role="menuitem" href="#" t-att-data-id="tag_id" class="o_tag_color_11" data-color="11" title="Purple" aria-label="Purple"/></li>
            <li> 
                <div role="menuitem" class="o_hide_in_kanban" t-att-data-id="tag_id" t-att-data-color="0">
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" id="o_hide_in_kanban_checkbox" class="custom-control-input"/>
                        <label for="o_hide_in_kanban_checkbox" class="custom-control-label">Hide in Kanban</label>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</t>
<t t-name="ProgressBar">
    <div class="o_progressbar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
        <div t-if="widget.title" class="o_progressbar_title"><t t-esc="widget.title"/></div><div class="o_progress">
            <div class="o_progressbar_complete"/>
        </div><div class="o_progressbar_value"/>
    </div>
</t>
<t t-name="FieldPercentPie">
    <div class="o_field_percent_pie">
        <div class="o_pie">
            <div class="o_mask"/>
            <div class="o_mask"/>
            <div class="o_pie_value"/>
        </div>
        <span t-if="widget.string"><t t-esc="widget.string"/></span>
    </div>
</t>
<t t-name="FieldStatus.content">
    <t t-if="selection_folded.length">
        <button type="button" class="btn o_arrow_button btn-secondary dropdown-toggle" data-toggle="dropdown" aria-expanded="false">More</button>
        <div class="dropdown-menu" role="menu">
            <t t-foreach="selection_folded" t-as="i">
                <t t-call="FieldStatus.content.button">
                    <t t-set="is_dropdown" t-value="true"/>
                </t>
            </t>
        </div>
    </t>
    <t t-foreach="selection_unfolded.reverse()" t-as="i">
        <t t-call="FieldStatus.content.button"/>
    </t>
</t>
<t t-name="FieldStatus.content.button">
    <t t-set="disabled" t-value="!clickable"/>
    <button type="button" t-att-data-value="i.id" disabled="disabled" title="Current state" aria-checked="true" t-att-role="is_dropdown ? 'menuitemradio': 'radio'" t-attf-class="btn o_arrow_button btn-primary disabled #{is_dropdown ? 'dropdown-item bg-primary text-white': ''}" t-if="i.selected" aria-current="step">
        <t t-esc="i.display_name" role="img" t-attf-aria-label="#{i.display_name} is current state"/>
    </button>
    <button type="button" t-att-data-value="i.id" disabled="disabled" title="Not active state" aria-checked="false" t-att-role="is_dropdown ? 'menuitemradio': 'radio'" t-attf-class="btn o_arrow_button btn-secondary disabled #{is_dropdown ? 'dropdown-item': ''}" t-if="!i.selected and disabled">
        <t t-esc="i.display_name" role="img" t-attf-aria-label="#{i.display_name} is not current state"/>
    </button>
    <button type="button" t-att-data-value="i.id" title="Not active state, click to change it" aria-checked="false" t-att-role="is_dropdown ? 'menuitemradio': 'radio'" t-attf-class="btn o_arrow_button btn-secondary #{is_dropdown ? 'dropdown-item': ''}" t-if="!i.selected and !disabled">
        <t t-esc="i.display_name" role="img" t-attf-aria-label="Click to change current state to #{i.display_name}"/>
    </button>
</t>
<t t-name="FieldBinaryImage">
    <div class="o_field_image" aria-atomic="true">
        <t t-if="widget.mode !== 'readonly'">
            <div class="o_form_image_controls">
                <button class="fa fa-pencil fa-lg float-left o_select_file_button" title="Edit" aria-label="Edit"/>
                <button class="fa fa-trash-o fa-lg float-right o_clear_file_button" title="Clear" aria-label="Clear"/>

                <span class="o_form_binary_progress">Uploading...</span>
                <t t-call="HiddenInputFile">
                    <t t-set="fileupload_id" t-value="widget.fileupload_id"/>
                </t>
            </div>
        </t>
    </div>
</t>
<t t-name="FieldBinaryImage-img">
    <img class="img img-fluid" alt="Binary file" t-att-src="url" t-att-border="widget.readonly ? 0 : 1" t-att-name="widget.name"/>
</t>
<t t-name="CopyClipboardText">
    <button class="btn btn-sm btn-primary o_clipboard_button o_btn_text_copy">
        <span class="fa fa-clipboard"/><span> Copy Text</span>
    </button>
</t>
<t t-name="CopyClipboardChar">
    <button class="btn btn-sm btn-primary o_clipboard_button o_btn_char_copy">
        <span class="fa fa-clipboard"/><span> Copy Text</span>
    </button>
</t>
<t t-name="FieldBinaryFile">
    <a t-if="widget.mode === 'readonly'" href="javascript:void(0)" class="o_form_uri"/>

    <div t-if="widget.mode !== 'readonly'" class="o_field_binary_file" aria-atomic="true">
        <input type="text" class="o_input" readonly="readonly" t-att-name="widget.name" t-att-tabindex="widget.attrs.tabindex" t-att-autofocus="widget.attrs.autofocus"/>

        <button type="button" class="btn btn-primary o_select_file_button" title="Select">Upload your file</button>
        <button type="button" class="btn btn-secondary fa fa-pencil o_select_file_button" title="Select" aria-label="Select"/>
        <button type="button" class="btn btn-secondary fa fa-trash-o o_clear_file_button" title="Clear" aria-label="Clear"/>

        <span class="o_form_binary_progress">Uploading...</span>
        <t t-call="HiddenInputFile">
            <t t-set="fileupload_id" t-value="widget.fileupload_id"/>
            <t t-set="fileupload_style" t-translation="off">overflow-x: hidden</t>
        </t>
    </div>
</t>

<t t-name="HiddenInputFile">
    <div t-attf-class="o_hidden_input_file #{fileupload_class or ''}" t-att-style="fileupload_style" aria-atomic="true">
        <form class="o_form_binary_form" t-att-target="fileupload_id" method="post" enctype="multipart/form-data" t-att-action="fileupload_action || '/web/binary/upload'">
            <input type="hidden" name="csrf_token" t-att-value="csrf_token"/>
            <input type="hidden" name="callback" t-att-value="fileupload_id"/>
            <input type="file" class="o_input_file" name="ufile" t-att="{'multiple': multi_upload ? 'multiple' : null, 'accept': widget.accepted_file_extensions || '*'}"/>
            <t t-raw="0"/>
        </form>
        <iframe t-att-id="fileupload_id" t-att-name="fileupload_id" style="display: none"/>
    </div>
</t>

<t t-name="FieldBinarySignature-img">
    <img class="o_signature img img-fluid" alt="Binary file" t-att-src="url" t-att-border="1" t-att-name="widget.name"/>
</t>

<div t-name="FieldBinarySignature">
    <div class="o_sign_signature_draw panel panel-default mt16 mb0">
        <div class="card-header">
            <a role="button" class="o_sign_select_style float-right btn btn-link">Select Signature Style</a>
            <a role="button" class="o_sign_clean float-right btn btn-link">Clear Signature</a>
            <a data-mode="draw" class="o_sign_mode o_sign_mode_draw btn btn-primary" role="button">Draw</a>
            <a data-mode="auto" class="o_sign_mode o_sign_mode_auto btn" role="button">Auto</a>
            <a data-mode="load" class="o_sign_mode o_sign_mode_load btn" role="button">Load</a>
            <input type="file" name="files[]" class="o_sign_load btn btn-link" role="button"/>
        </div>
        <div class="o_sign_signature card-body"/>
    </div>
    <div class="mt16 small">By clicking Adopt and Sign, I agree that the chosen signature/initials will be a valid electronic representation of my hand-written signature/initials for all purposes when it is used on documents, including legally binding contracts.</div>

    <div class="o_sign_font_dialog card">
        <div class="card-header">Styles</div>
        <div class="o_sign_font_selection card-body"/>
    </div>
</div>

<t t-name="SignatureSvgText" name="SVG Signature Text">
    <svg t-att-width="width" t-att-height="height">
        <defs>
            <style type="text/css">
                @font-face {
                    font-family: "font_sign";
                    src: url(data:font/ttf;base64,<t t-esc="font"/>) format("woff");
                    font-weight: normal;
                    font-style: normal;
                }
            </style>
        </defs>
        <text x="50%" t-att-y="height*4/5" t-att-font-size="height*4/5" t-att-textLength="width * 4 / 5 * Math.min(1, text.length / 7)" lengthAdjust="spacingAndGlyphs" style="font-family:'font_sign'" fill="black" text-anchor="middle"><t t-esc="text"/></text>
    </svg>
</t>

<t t-name="FieldPdfViewer">
    <div class="o_field_pdfviewer" aria-atomic="true">
        <div t-if="widget.mode !== 'readonly'" class="o_form_pdf_controls mt8" role="toolbar" aria-label="PDF controls">
            <span class="o_form_binary_progress">Uploading...</span>
            <button type="button" class="btn btn-primary o_select_file_button" title="Select">Upload your file</button>
            <button class="btn btn-secondary fa fa-pencil o_select_file_button" title="Select" aria-label="Select" type="button"/>
            <button class="btn btn-secondary fa fa-trash-o o_clear_file_button" title="Clear" aria-label="Clear" type="button"/>
        </div>
        <iframe class="o_pdfview_iframe o_field_pdfviewer"/>
        <t t-call="HiddenInputFile">
            <t t-set="fileupload_id" t-value="widget.fileupload_id"/>
            <t t-set="fileupload_style" t-translation="off">overflow-x: hidden</t>
        </t>
    </div>
</t>

<div t-name="FieldBinaryFileUploader" t-attf-class="oe_fileupload #{widget.attrs.class ? widget.attrs.class :''}" aria-atomic="true">
    <div class="oe_placeholder_files"/>
    <div t-if="widget.mode !== 'readonly'" class="oe_add">
        <button class="btn btn-secondary o_attach" title="Attach"><span class="fa fa-paperclip" aria-label="Attach"/> <t t-esc="widget.string"/></button>
        <t t-call="HiddenInputFile">
            <t t-set="fileupload_id" t-value="widget.fileupload_id"/>
            <t t-set="fileupload_action" t-translation="off">/web/binary/upload_attachment</t>
            <t t-set="multi_upload" t-value="true"/>
            <input type="hidden" name="model" t-att-value="widget.model"/>
            <input type="hidden" name="id" value="0"/>
        </t>
    </div>
</div>

<t t-name="FieldBinaryFileUploader.attachment_preview">
    <t t-set="url" t-value="widget.metadata[file.id] ? widget.metadata[file.id].url : false"/>
    <t t-if="file.data" t-set="file" t-value="file.data"/>
    <t t-set="editable" t-value="widget.mode === 'edit'"/>
    <t t-if="file.mimetype" t-set="mimetype" t-value="file.mimetype"/>
    <div t-attf-class="o_attachment o_attachment_many2many #{ editable ? 'o_attachment_editable' : '' } #{upload ? 'o_attachment_uploading' : ''}" t-att-title="file.name">
        <div class="o_attachment_wrap">
            <t t-set="ext" t-value="file.name.replace(/^.*\./, '')"/>
            <div class="o_image_box float-left" t-att-data-id="file.id">
                <a t-att-href="url" t-att-title="'Download ' + file.name" aria-label="Download">
                    <span class="o_image o_hover" t-att-data-mimetype="mimetype" t-att-data-ext="ext" role="img"/>
                </a>
            </div>

            <div class="caption">
                <a class="ml4" t-att-href="url" t-att-title="'Download ' + file.name"><t t-esc="file.name"/></a>
            </div>
            <div class="caption small">
                <a class="ml4 small text-uppercase" t-att-href="url" t-att-title="'Download ' + file.name"><b><t t-esc="ext"/></b></a>
                <div t-if="editable" class="progress o_attachment_progress_bar">
                    <div class="progress-bar progress-bar-striped active" style="width: 100%">Uploading</div>
                </div>
            </div>

            <div t-if="editable" class="o_attachment_uploaded"><i class="text-success fa fa-check" role="img" aria-label="Uploaded" title="Uploaded"/></div>
            <div t-if="editable" class="o_attachment_delete" t-att-data-id="file.id"><span class="text-white" role="img" aria-label="Delete" title="Delete">×</span></div>
        </div>
    </div>
</t>

<div t-name="FieldBinaryFileUploader.files" class="o_attachments" aria-atomic="true">
    
    <t t-foreach="widget.value.data" t-as="file">
        <t t-if="!file.data.upload" t-call="FieldBinaryFileUploader.attachment_preview"/>
    </t>
    
    <t t-foreach="widget.uploadingFiles" t-as="file">
        <t t-set="upload" t-value="true"/>
        <t t-call="FieldBinaryFileUploader.attachment_preview"/>
    </t>
</div>

<div t-name="ExportDialog" class="o_export">
    <div class="row o-export-panel no-gutters">
        <div class="col-6 d-flex o_left_panel">
            <div class="form-check o_import_compat">
                <input class="form-check-input" id="o-update-data" type="checkbox"/>
                <label class="form-check-label" for="o-update-data">
                    I want to update data (import-compatible export)
                </label>
            </div>
            <div class="mt-3">
                <h4>Available fields</h4>
            </div>
            <div class="input-group mb-3">
                <input type="search" class="form-control o_export_search_input" id="o-export-search-filter" placeholder="Search"/>
            </div>
            <div class="border o_left_field_panel"/>
        </div>
        <div class="col-6 d-flex o_right_panel">
            <div class="o_export_format">
                <strong>Export Format:</strong>
            </div>
            <div class="mt-3">
                <h4>Fields to export</h4>
            </div>
            <div class="o_save_list">
                <t t-call="Export.SaveList"/>
            </div>
            <div class="o_exported_lists"/>
            <div class="border o_right_field_panel">
                <ul class="o_fields_list list-unstyled"/>
            </div>
        </div>
    </div>
</div>
<t t-name="Export.TreeItems">
    <t t-foreach="fields" t-as="field">
        <t t-set="has_child" t-value="field.children &amp;&amp; (field.id).split('/').length != 3"/>
        <div t-att-data-id="field.id" t-attf-class="o_export_tree_item #{has_child ? 'haschild o_expand' : ''}" tabindex="-1" role="treeitem"> 
            <span t-if="has_child" class="o_expand_parent fa fa-chevron-right" role="img" aria-label="Show sub-fields" title="Show sub-fields"/>
            <div t-attf-class="o_tree_column" t-att-title="debug and field.id or None">
                <t t-esc="field.string"/>
                <span title="Select field" class="fa fa-plus pull-right m-1 o_add_field"/>
            </div>
        </div>
    </t>
</t>
<t t-name="Export.SaveList">
    <div class="input-group mb-3">
        <label class="pt-2 font-weight-bold">Save as : </label>
        <input class="form-control ml-4 o_save_list_name" placeholder="New template"/>
        <button type="button" class="btn btn-secondary ml-1 o_save_list_btn"><i class="fa fa-floppy-o"/></button>
        <button type="button" class="btn btn-secondary ml-1 o_cancel_list_btn"><i class="fa fa-times"/></button>
    </div>
</t>
<t t-name="Export.SavedList">
    <div class="input-group mb-3">
        <label class="pt-2 mb-0 font-weight-bold">Template: </label>
        <select class="form-control ml-4 o_exported_lists_select">
            <option/>
            <option class="font-italic" value="new_template">New template</option>
            <t t-foreach="existing_exports" t-as="export">
                <option t-att-value="export.id">
                    <t t-esc="export.name"/>
                </option>
            </t>
        </select>
        <button type="button" class="btn btn-secondary d-none ml-1 o_delete_exported_list">
            <i class="fa fa-trash"/>
        </button>
    </div>
</t>

<t t-name="Throbber">
    <div>
        <div class="oe_blockui_spin" style="height: 50px">
            <img src="/web/static/src/img/spin.png" style="animation: fa-spin 1s infinite steps(12);" alt="Loading..."/>
        </div>
        <br/>
        <div class="oe_throbber_message" style="color:white"/>
    </div>
</t>
<t t-name="Spinner">
    <div class="o_spinner"><i class="fa fa-spinner fa-spin" role="img" aria-label="Loading, please wait..." title="Loading, please wait..."/></div>
</t>
<t t-name="M2ODialog">
    <div>
        Do you want to create <strong t-esc="widget.value"/> as a new <t t-esc="widget.name"/>?
    </div>
</t>
<t t-name="FieldMany2ManyCheckBoxes">
    <div aria-atomic="true">
        <div t-foreach="widget.m2mValues" t-as="m2m_value">
            <t t-set="id_for_label" t-value="'o_many2many_checkbox_' + _.uniqueId()"/>
            <div class="custom-control custom-checkbox">
                <input type="checkbox" t-att-id="id_for_label" class="custom-control-input" t-att-data-record-id="JSON.stringify(m2m_value[0])"/>
                <label t-att-for="id_for_label" class="custom-control-label o_form_label"><t t-esc="m2m_value[1]"/></label>
            </div>
        </div>
    </div>
</t>
<t t-name="StatInfo">
    <span class="o_stat_value"><t t-esc="value"/></span>
    <span class="o_stat_text"><t t-esc="text"/></span>
</t>
<t t-name="toggle_button">
    <button type="button" class="o_icon_button" t-att-title="widget.string" t-att-aria-label="widget.string" aria-pressed="false">
        <i class="fa fa-circle" t-att-title="widget.string"/>
    </button>
</t>

<t t-name="AceEditor">
    <div class="oe_form_field o_ace_view_editor oe_ace_open">
        <div class="ace-view-editor"/>
    </div>
</t>

<t t-name="notification-box">
    <div t-attf-class="o_notification_box mb0 alert alert-dismissible alert-{{type}}" role="alertdialog">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span class="fa fa-times"/>
        </button>
    </div>
</t>

<t t-name="translation-alert">
    <div role="alertdialog">
        Please update translations of :
        <t t-foreach="fields" t-as="field">
            <strong><a class="oe_field_translate" t-att-name="field" href="#"><t t-esc="field_value.string"/><t t-if="field_index &lt; _.size(fields)-1">, </t></a></strong>
        </t>
    </div>
</t>

<t t-name="UserMenu">
    <li class="o_user_menu">
        <a role="button" class="dropdown-toggle o-no-caret" data-toggle="dropdown" data-display="static" aria-expanded="false" href="#">
            <img class="rounded-circle oe_topbar_avatar" t-att-src="_s + '/web/static/src/img/user_menu_avatar.png'" alt="User"/>
            <span class="oe_topbar_name"/>
        </a>
        <div class="dropdown-menu dropdown-menu-right" role="menu">
            <t t-call="UserMenu.Actions"/>
        </div>
    </li>
</t>

<t t-name="UserMenu.Actions">
    <a role="menuitem" href="#" data-menu="documentation" class="dropdown-item">Documentation</a>
    <a role="menuitem" href="#" data-menu="support" class="dropdown-item">Support</a>
    <div role="separator" class="dropdown-divider"/>
    <a role="menuitem" href="#" data-menu="settings" class="dropdown-item">Preferences</a>
    <a role="menuitem" href="#" data-menu="account" class="dropdown-item">My Odoo.com account</a>
    <a role="menuitem" href="#" data-menu="logout" class="dropdown-item">Log out</a>
</t>

<t t-name="SwitchCompanyMenu">
    <li class="o_switch_company_menu">
        <a role="button" class="dropdown-toggle o-no-caret" data-toggle="dropdown" data-display="static" aria-expanded="false" href="#" title="Dropdown menu">
            <span t-attf-class="#{widget.isMobile ? 'fa fa-building-o' : 'oe_topbar_name'}">
                <t t-if="!widget.isMobile"><t t-esc="widget.current_company_name"/></t>
            </span>
        </a>
        <div class="dropdown-menu dropdown-menu-right" role="menu">
            <t t-foreach="widget.user_companies" t-as="company">
                <div class="dropdown-item d-flex py-0 px-0" data-menu="company" t-att-data-company-id="company[0]">
                    <t t-set="is_allowed" t-value="widget.allowed_company_ids.includes(company[0])"/>
                    <t t-set="is_current" t-value="company[0] === widget.current_company"/>
                    <div role="menuitemcheckbox" t-att-aria-checked="is_allowed" t-att-aria-label="company[1]" tabindex="0" class="ml-auto pl-3 pr-3 border border-top-0 border-left-0 border-bottom-0 toggle_company o_py">
                        <span style="height: 2rem;">
                            <t t-if="is_allowed">
                                <i class="fa fa-fw fa-check-square pt-2"/>
                            </t>
                            <t t-if="!is_allowed">
                                <i class="fa fa-fw fa-square-o pt-2"/>
                            </t>
                        </span>
                    </div>
                    <div role="button" t-att-aria-pressed="is_current" aria-label="Switch to this company" tabindex="0" class="d-flex flex-grow-1 align-items-center py-0 log_into pl-3 o_py" t-att-style="is_current ? 'background-color: lightgrey;' : ''">
                        <t t-if="is_allowed">
                            <span class="mr-3 company_label">
                                <t t-esc="company[1]"/>
                            </span>
                        </t>
                        <t t-if="!is_allowed">
                            <span class="mr-3 company_label text-muted">
                                <t t-esc="company[1]"/>
                            </span>
                        </t>
                    </div>
                </div>
            </t>
        </div>
    </li>
</t>

<t t-name="EnterpriseUpgrade">
    <div class="row" role="status">
        <div class="col-6">
            Get this feature and much more with Odoo Enterprise!
            <ul class="list-unstyled">
                <li><i class="fa fa-check"/> Access to all Enterprise Apps</li>
                <li><i class="fa fa-check"/> New design</li>
                <li><i class="fa fa-check"/> Mobile support</li>
                <li><i class="fa fa-check"/> Upgrade to future versions</li>
                <li><i class="fa fa-check"/> Bugfixes guarantee</li>
                <li><a href="http://www.odoo.com/editions?utm_source=db&amp;utm_medium=enterprise" target="_blank"><i class="fa fa-plus"/> And more</a></li>
            </ul>
        </div>
        <div class="col-6">
            <img class="img-fluid" t-att-src="_s + &quot;/web/static/src/img/enterprise_upgrade.jpg&quot;" draggable="false" alt="Upgrade to enterprise"/>
        </div>
    </div>
</t>

<t t-name="BaseSetting.Tabs">
    <t t-foreach="tabItems" t-as="tab">
        <div class="tab" t-attf-data-key="#{tab.key}" role="tab">
            <div class="icon d-none d-md-block" t-attf-style="background : url('#{imgurl}') no-repeat center;background-size:contain;"/> <span class="app_name"><t t-esc="tab.string"/></span>
        </div>
    </t>
</t>

<t t-name="BaseSetting.SearchHeader">
    <div class="settingSearchHeader o_hidden" role="search">
        <img class="icon" t-att-src="imgurl" alt="Search"/>
        <span class="appName"><t t-esc="string"/></span>
    </div>
</t>

<t t-name="AttachDocument">
    <button t-attf-class="btn o_attachment_button #{widget.node.attrs.highlight?'btn-primary':'btn-secondary'}">
        <span class="o_attach_document"><t t-esc="widget.node.attrs.string"/></span>
        <span class="d-none">
            <t t-call="HiddenInputFile">
                <t t-set="fileupload_id" t-value="widget.fileuploadID"/>
                <t t-set="fileupload_action" t-translation="off">/web/binary/upload_attachment</t>
                <t t-set="multi_upload" t-value="true"/>
                <input type="hidden" name="model" t-att-value="widget.res_model"/>
                <input type="hidden" name="id" t-att-value="widget.res_id"/>
            </t>
        </span>
    </button>
</t>

<t t-name="FieldColor">
    <div>
        <button class="o_field_color" t-attf-tabindex="#{widget.mode === 'edit' ? 0 : -1}"/>
    </div>
</t>

<t t-name="ColorPicker">
    <div class="o_field_color_picker">
        <ul/>
    </div>
</t>
<t t-name="ColorPickerReadonly">
    <div class="o_field_color_picker_preview">
        <li>
            <a href="#" role="menuitem" t-att-class="'oe_kanban_color_'+active_color" t-att-data-color="active_color" t-att-aria-label="name_color" t-att-title="name_color"/>
        </li>
    </div>
</t>

<t t-name="SignButton">
    <button t-attf-class="btn o_sign_button #{widget.node.attrs.highlight?'btn-primary':'btn-secondary'}">
        <span class="o_sign_label"><t t-esc="widget.node.attrs.string"/></span>
    </button>
</t>

<t t-name="web.IframeWrapper">
    <div class="o_preview_iframe_wrapper">
        <i class="o_iframe_wrapper_spinner fa fa-spinner fa-spin fa-4x" style="color: #875a7b; z-index: 2"/>
        
        <iframe src="about:blank" class="o_preview_iframe" style="display:none"/>
    </div>
</t>

<t t-name="web.PieChart">
    <graph type="pie" t-att-title="title">
        <field t-att-name="modifiers.groupby.split(':')[0]" t-att-interval="modifiers.groupby.split(':')[1]"/>
        <field t-if="modifiers.measure" t-att-name="modifiers.measure" type="measure"/>
    </graph>
</t>

<t t-name="web.FieldBoolean" owl="1">
        <CustomCheckbox disabled="mode === 'readonly'" value="value" class="o_field_boolean" t-on-change="_onChange"/>
    </t>

    <t t-name="web.FieldBadge" owl="1">
        <span class="badge badge-pill o_field_badge" t-esc="_formatValue(value)"/>
    </t>

<div t-name="web.FileUploadProgressBar" class="o_file_upload_progress_bar">
    <div class="o_file_upload_progress_bar_value"/>
    <span class="o_upload_cross fa fa-times-circle" title="Cancel Upload" aria-label="Cancel Upload"/>
</div>

<t t-name="web.ProgressCard">
    <t t-if="widget.viewType === 'kanban'">
        <div class="o_kanban_progress_card o_kanban_record o_kanban_attachment">
            <div class="o_kanban_image">
                <div class="o_kanban_image_wrapper">
                    <div class="o_image o_image_thumbnail" t-att-data-mimetype="widget.type"/>
                </div>
            </div>
            <div class="o_kanban_details">
                <div class="o_kanban_details_wrapper">
                    <div t-att-title="widget.title" t-att-aria-label="widget.title" class="o_kanban_record_title">
                        <span t-esc="widget.title"/>
                    </div>
                    <div class="o_kanban_record_body"/>
                    <div class="o_kanban_record_bottom">
                        <div class="oe_kanban_bottom_left">
                            <div class="o_file_upload_progress_text_left">Processing...</div>
                        </div>
                        <div class="oe_kanban_bottom_right">
                            <span class="o_file_upload_progress_text_right"/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </t>
    <t t-if="widget.viewType === 'list'">
        <div class="o_data_row o_list_progress_card">
            <span class="o_file_upload_upload_title" t-esc="widget.title"/>
            <span class="o_file_upload_progress_text_left">Processing...</span>
            <span class="o_file_upload_progress_text_right"/>
        </div>
    </t>
</t>

<t t-name="KanbanView.buttons">
    <div>
        <button t-if="!noCreate" type="button" t-attf-class="btn #{btnClass} o-kanban-button-new" accesskey="c">
            <t t-esc="create_text || _t('Create')"/>
        </button>
    </div>
</t>

<t t-name="KanbanView.Group">
    <div t-attf-class="o_kanban_group#{widget.data_records.length == 0 ? ' o_kanban_no_records' : ''}" t-att-data-id="widget.id or widget.db_id" role="feed" t-attf-aria-labelledby="kanban_header_#{widget.id or widget.db_id}">
        <div class="o_kanban_header">
            <div class="o_kanban_header_title">
                <span t-attf-id="#kanban_header_#{widget.id or widget.db_id}" class="o_column_title"><t t-esc="widget.title"/></span>
                <span class="o_column_unfold"><i class="fa fa-arrows-h" role="img" aria-label="Unfold" title="Unfold"/></span>
                <span class="o_kanban_config dropdown">
                    <a class="dropdown-toggle o-no-caret" data-toggle="dropdown" href="#"><i class="fa fa-gear" role="img" aria-label="Settings" title="Settings"/></a>
                    <div class="dropdown-menu" role="menu">
                        <a role="menuitem" class="dropdown-item o_kanban_toggle_fold" href="#">Fold</a>
                        <t t-if="widget.grouped_by_m2o">
                            <a t-if="widget.editable and widget.id" role="menuitem" class="dropdown-item o_column_edit" href="#">Edit Stage</a>
                            <a t-if="widget.deletable and widget.id" role="menuitem" class="dropdown-item o_column_delete" href="#">Delete</a>
                        </t>
                        <t t-if="widget.has_active_field and widget.archivable">
                            <a role="menuitem" href="#" class="dropdown-item o_column_archive_records">Archive All</a>
                            <a role="menuitem" href="#" class="dropdown-item o_column_unarchive_records">Unarchive All</a>
                        </t>
                    </div>
                </span>
                <span t-if="widget.quick_create" class="o_kanban_quick_add"><i class="fa fa-plus" role="img" aria-label="Quick add" title="Quick add"/></span>
            </div>
        </div>
        <div t-if="widget.remaining &gt; 0" class="o_kanban_load_more">
            <t t-call="KanbanView.LoadMore"/>
        </div>
    </div>
</t>

<t t-name="KanbanView.LoadMore">
    <a href="#">Load more... (<t t-esc="widget.remaining"/> remaining)</a>
</t>

<t t-name="KanbanView.ColumnQuickCreate">
    <div class="o_column_quick_create">
        <div class="o_quick_create_folded">
            <span class="o_kanban_add_column"><i class="fa fa-plus" role="img" aria-label="Add column" title="Add column"/></span>
            <span class="o_kanban_title">Add a Column</span>
        </div>
        <div class="o_quick_create_unfolded">
            <div class="o_kanban_header">
                <div class="input-group">
                    <input type="text" class="form-control o_input" placeholder="Column title"/>
                    <span class="input-group-append">
                        <button class="btn btn-primary o_kanban_add" type="button">Add</button>
                    </span>
                </div>
                <span t-if="!widget.isMobile" class="o_discard_msg text-muted float-right">Esc to discard</span>
                <t t-if="widget.examples &amp;&amp; !widget.isMobile">
                    <button type="button" class="btn btn-link o_kanban_examples">See examples</button>
                </t>
            </div>
            <div class="o_kanban_muted_record"/>
            <div class="o_kanban_muted_record"/>
            <div class="o_kanban_muted_record"/>
        </div>
    </div>
</t>

<t t-name="KanbanView.RecordQuickCreate.buttons">
    <div>
        <button class="btn btn-primary o_kanban_add">Add</button>
        <button class="btn btn-primary o_kanban_edit">Edit</button>
        <button class="btn btn-secondary o_kanban_cancel ml8">Discard</button>
    </div>
</t>

<t t-name="KanbanColorPicker">
    <t t-foreach="colors" t-as="color">
        <li>
            <a role="menuitem" href="#" t-att-data-color="color_index" t-attf-class="oe_kanban_color_#{color_index}" t-att-title="color" t-att-aria-label="color"/>
        </li>
    </t>
</t>

<t t-name="GraphCustomTooltip">
    <table>
        <tbody>
            <tr>
                <td class="legend-color-guide">
                    <div t-attf-style="background-color: #{color};"/>
                </td>
                <td class="key"><t t-esc="key"/></td>
                <td class="value"><t t-esc="value"/></td>
            </tr>
        </tbody>
    </table>
</t>

<t t-name="KanbanView.ColumnProgressBar">
    <div class="o_kanban_counter">
        <div class="o_kanban_counter_progress progress">
            <t t-foreach="widget.colors" t-as="color">
                <t t-set="count" t-value="widget.subgroupCounts and widget.subgroupCounts[color] or 0"/>
                <div t-attf-class="progress-bar transition-off bg-#{color_value}-full#{count ? ' o_bar_has_records' : ''}#{widget.activeFilter ? ' progress-bar-animated progress-bar-striped' : ''}" t-att-data-filter="color" t-attf-data-original-title="#{count} #{color}" aria-valuemin="0" aria-valuemax="100" t-att-aria-valuenow="count*100" role="progressbar" t-attf-style="width: #{count ? (count * 100 / widget.groupCount) : 0}%;"/>
            </t>
        </div>
        <div class="o_kanban_counter_side"><b><t t-esc="widget.totalCounterValue || 0"/></b></div>
    </div>
</t>

<t t-name="KanbanView.SetCoverModal">
    <div t-if="attachmentIds.length" class="ml32 mr0 o_kanban_cover_container">
        <t t-foreach="attachmentIds" t-as="attachment">
            <div t-attf-class="o_kanban_cover_image#{coverId === attachment.id ? ' o_selected' : ''}">
                <img t-attf-src="/web/image/#{attachment.id}?unique=1" t-att-data-id="attachment.id" t-att-data-name="attachment.name" alt="Attachment"/>
            </div>
        </t>
    </div>
    <div t-else="">There is no available image to be set as cover.</div>
    <span class="d-none">
        <t t-call="HiddenInputFile">
            <t t-set="fileupload_id" t-value="widget.imageUploadID"/>
            <t t-set="fileupload_action" t-translation="off">/web/binary/upload_attachment</t>
            <input type="hidden" name="model" t-att-value="widget.modelName"/>
            <input type="hidden" name="id" t-att-value="widget.id"/>
        </t>
    </span>
</t>


<div t-name="KanbanView.ExamplesDialog" class="o_kanban_examples_dialog">
    <div class="o_kanban_examples_dialog_nav">
        <ul class="nav nav-pills flex-column">
            <t t-foreach="examples" t-as="example">
                <li class="nav-item">
                    <a t-attf-aria-controls="example_#{example_index}" data-toggle="tab" role="tab" t-att-data-example-index="example_index" t-attf-href="#example_#{example_index}" t-attf-class="nav-link#{example_index == 0 and ' active' or ''}"> <t t-esc="example.name"/> </a>
                </li>
            </t>
        </ul>
    </div>
    <div class="o_kanban_examples_dialog_content">
        <div class="tab-content">
            <t t-foreach="examples" t-as="example">
                <div role="tabpanel" t-attf-id="example_#{example_index}" t-attf-class="tab-pane #{example_index == 0 and 'active in' or ''}">
                    <div t-if="example.description" class="o_kanban_examples_description">
                        <t t-raw="example.description"/> 
                    </div>
                    <div class="o_kanban_examples">
                        <t t-foreach="example.columns" t-as="column">
                            <div class="o_kanban_examples_group">
                                <h6><b><t t-esc="column"/></b></h6>
                                <t t-foreach="_.random(1,4)">
                                    <t t-call="KanbanView.ExamplesDialog.RecordGhost"/>
                                </t>
                            </div>
                        </t>
                    </div>
                </div>
            </t>
        </div>
    </div>
</div>
<t t-name="KanbanView.ExamplesDialog.RecordGhost">
    <div class="o_kanban_examples_ghost">
        <div class="o_ghost_content"/>
        <div class="o_ghost_content o_ghost_tag"/>
            <t t-if="example.bullets">
                <t t-if="_.random(0,5) &gt; 3">
                    <t t-raw="example.bullets[_.random(0, example.bullets.length-1)]"/>
                </t>
            </t>
        <img class="float-right o_ghost_avatar" src="/base/static/img/avatar.png" alt="Avatar"/>
    </div>
</t>


<t t-name="KanbanView.ExamplesBackground">
    <div class="o_kanban_example_background_container">
        <div class="o_kanban_example_background">
            <div class="o_kanban_examples">
                <t t-foreach="ghostColumns" t-as="column">
                    <div class="o_kanban_examples_group">
                        <h6><b><t t-esc="column"/></b></h6>
                        <t t-foreach="_.random(2,6)">
                            <t t-call="KanbanView.ExamplesBackground.RecordGhost"/>
                        </t>
                    </div>
                </t>
            </div>
        </div>
    </div>
</t>
<t t-name="KanbanView.ExamplesBackground.RecordGhost">
    <div class="o_kanban_examples_ghost">
        <div class="o_ghost_content"/>
        <div class="o_ghost_content o_ghost_tag"/>
        <img class="float-right o_ghost_avatar" src="/base/static/img/avatar.png" alt="Avatar"/>
    </div>
</t>


<t t-name="KanbanView.MobileTabs">
    <div class="o_kanban_mobile_tabs_container">
        <div class="o_kanban_mobile_tabs">
            <t t-foreach="data" t-as="group">
                <div class="o_kanban_mobile_tab" t-att-data-id="group.res_id or group.id">
                    <span class="o_column_title"><t t-esc="group.value"/></span>
                </div>
            </t>
            <div class="o_kanban_mobile_add_column" t-if="quickCreateEnabled">
                <i class="fa fa-plus " role="img" aria-label="Add column" title="Add column"/>
            </div>
        </div>
    </div>
</t>
<header t-name="Menu">
    <nav class="o_main_navbar">
        <ul class="o_menu_apps"/>
        <a class="o_menu_brand" role="button"/>
        <ul class="o_menu_sections" role="menu"/>
        <ul class="o_menu_systray" role="menu"/>
    </nav>
</header>


<t t-name="AppsMenu">
    <li class="dropdown">
        <a class="full" data-toggle="dropdown" data-display="static" href="#" accesskey="h">
            <i class="fa fa-th-large"/>
        </a>
        <div class="dropdown-menu" role="menu">
            <t t-foreach="widget.getApps()" t-as="app">
            <a role="menuitem" t-attf-href="#menu_id=#{app.menuID}" class="dropdown-item o_app" t-att-data-menu-id="app.menuID" t-att-data-menu-xmlid="app.xmlID" t-att-data-action-id="app.actionID">
                    <t t-esc="app.name"/>
                </a>
            </t>
        </div>
    </li>
</t>

<t t-name="Menu.link">
    <t t-set="depth" t-value="(depth || 0) + 1"/>

    <t t-if="!menu.children.length">
        <t t-set="_link">
            <a role="menuitem" t-attf-href="#menu_id=#{menu.id}&amp;action=#{menu.action ? menu.action.split(',')[1] : ''}" t-att-data-menu="menu.id" t-att-data-action-model="menu.action ? menu.action.split(',')[0] : ''" t-att-data-action-id="menu.action ? menu.action.split(',')[1] : ''" t-att-data-menu-xmlid="menu.xmlid" t-attf-class="#{inNavbar ? '' : 'dropdown-item '}o_menu_entry_lvl_#{depth}" data-toggle="collapse" data-target="#o_navbar_collapse.in">
                <span><t t-esc="menu.name"/></span>
            </a>
        </t>
        <li t-if="inNavbar">
            <t t-raw="_link"/>
        </li>
        <t t-else="">
            <t t-raw="_link"/>
        </t>
    </t>
    <t t-else="">
        <div t-attf-class="dropdown-header o_menu_header_lvl_#{depth}">
            <span><t t-esc="menu.name"/></span>
        </div>
        <t t-foreach="menu.children" t-as="menu">
            <t t-call="Menu.link"/>
        </t>
    </t>
</t>


<t t-name="Menu.sections">
    <t t-foreach="menu_data.children" t-as="first_level_menu">
        <section t-att-class="first_level_menu.id">
            <t t-foreach="first_level_menu.children" t-as="second_level_menu">
                <t t-if="!second_level_menu.children.length">
                    <t t-call="Menu.link">
                        <t t-set="inNavbar" t-value="true"/>
                        <t t-set="menu" t-value="second_level_menu"/>
                    </t>
                </t>
                <t t-else="">
                    <li>
                        <a href="#" class="dropdown-toggle o-no-caret o_menu_header_lvl_1" t-att-data-menu-xmlid="second_level_menu.xmlid" data-toggle="dropdown" data-display="static" role="button" aria-expanded="false">
                            <t t-esc="second_level_menu.name"/>
                        </a>
                        <div class="dropdown-menu" role="menu">
                            <t t-foreach="second_level_menu.children" t-as="third_level_menu">
                                <t t-call="Menu.link">
                                    <t t-set="depth" t-value="1"/>
                                    <t t-set="menu" t-value="third_level_menu"/>
                                </t>
                            </t>
                        </div>
                    </li>
                </t>
            </t>
        </section>
    </t>
</t>

<t t-extend="UserMenu.Actions">
    <t t-jquery=".dropdown-divider" t-operation="before">
        <a role="menuitem" href="#" data-menu="shortcuts" class="dropdown-item d-none d-md-inline-block">Shortcuts</a>
    </t>
</t>

<div t-name="UserMenu.shortcuts">
    <div class="container-fluid">
        <div class="row">
            <div class="offset-md-2 col-md-8">
                <table class="o_shortcut_table text-center">
                    <thead>
                        <tr>
                            <th style="width:50%;">Description</th>
                            <th style="width:25%;" class="text-center">Windows/Linux</th>
                            <th style="width:25%;" class="text-center">Mac</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td align="left">Save a record</td>
                            <td>
                                <span class="o_key">Alt</span> + <span class="o_key">s</span>
                            </td>
                            <td>
                                <span class="o_key">Control</span> + <span class="o_key">Alt</span> + <span class="o_key">s</span>
                            </td>
                        </tr>
                        <tr>
                            <td align="left">Edit a record</td>
                            <td>
                                <span class="o_key">Alt</span> + <span class="o_key">a</span>
                            </td>
                            <td>
                                <span class="o_key">Control</span> + <span class="o_key">Alt</span> + <span class="o_key">a</span>
                            </td>
                        </tr>
                        <tr>
                            <td align="left">Discard a record modification</td>
                            <td>
                                <span class="o_key">Alt</span> + <span class="o_key">j</span>
                            </td>
                            <td>
                                <span class="o_key">Control</span> + <span class="o_key">Alt</span> + <span class="o_key">j</span>
                            </td>
                        </tr>
                        <tr>
                            <td align="left">Create a new record</td>
                            <td>
                                <span class="o_key">Alt</span> + <span class="o_key">c</span>
                            </td>
                            <td>
                                <span class="o_key">Control</span> + <span class="o_key">Alt</span> + <span class="o_key">c</span>
                            </td>
                        </tr>
                        <tr>
                            <td align="left">Open to list view</td>
                            <td>
                                <span class="o_key">Alt</span> + <span class="o_key">l</span>
                            </td>
                            <td>
                                <span class="o_key">Control</span> + <span class="o_key">Alt</span> + <span class="o_key">l</span>
                            </td>
                        </tr>
                        <tr>
                            <td align="left">Open to kanban view</td>
                            <td>
                                <span class="o_key">Alt</span> + <span class="o_key">k</span>
                            </td>
                            <td>
                                <span class="o_key">Control</span> + <span class="o_key">Alt</span> + <span class="o_key">k</span>
                            </td>
                        </tr>
                        <tr>
                            <td align="left">Open the previous record</td>
                            <td>
                                <span class="o_key">Alt</span> + <span class="o_key">p</span>
                            </td>
                            <td>
                                <span class="o_key">Control</span> + <span class="o_key">Alt</span> + <span class="o_key">p</span>
                            </td>
                        </tr>
                        <tr>
                            <td align="left">Open the next record</td>
                            <td>
                                <span class="o_key">Alt</span> + <span class="o_key">n</span>
                            </td>
                            <td>
                                <span class="o_key">Control</span> + <span class="o_key">Alt</span> + <span class="o_key">n</span>
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<t t-extend="FormSelection">
    <t t-jquery=".dropdown-menu.state">$(this).addClass("dropdown-menu-right");</t>
</t>

<t t-name="Notification">
    <div t-attf-class="toast o_notification #{widget.className}" role="alert" aria-live="assertive" aria-atomic="true">
        <t t-set="closeButton">
            <button type="button" class="close o_notification_close" data-dismiss="toast" aria-label="Close">
                <span class="d-inline" aria-hidden="true">×</span>
            </button>
        </t>
        <div t-if="widget.title" class="toast-header">
            <span t-attf-class="fa fa-2x mr-3 #{widget.icon} o_notification_icon" role="img" t-attf-aria-label="Notification #{widget.name}" t-attf-title="Notification #{widget.name}"/>
            <div class="d-flex align-items-center mr-auto font-weight-bold o_notification_title" t-raw="widget.title"/>
            <t t-raw="closeButton"/>
        </div>
        <div t-if="widget.message or widget.subtitle or widget.buttons.length" class="toast-body">
            <t t-if="!widget.title" t-raw="closeButton"/>
            <strong t-if="widget.subtitle" t-raw="widget.subtitle" class="o_notification_subtitle"/>
            <div t-if="widget.message" t-raw="widget.message" class="mr-auto o_notification_content"/>
            <div t-if="widget.buttons.length" class="mt-2 o_notification_buttons">
                <button t-foreach="widget.buttons" t-as="button" type="button" t-attf-class="btn btn-sm #{button.primary ? 'btn-primary' : 'btn-secondary'}">
                    <t t-if="button.icon">
                        <i t-if="button.icon.indexOf('fa-') === 0" t-attf-class="fa fa-fw o_button_icon #{button.icon}" role="img" t-att-aria-label="button.name" t-att-title="button.name"/>
                        <img t-else="" t-att-src="button.icon" t-att-alt="button.name"/>
                    </t>
                    <span t-esc="button.text"/>
                </button>
            </div>
        </div>
    </div>
</t>

<div t-name="web.PivotRenderer" class="o_pivot" owl="1">
        <t t-if="!(props.hasData and props.measures.length) or (props.isSample and !props.isEmbedded)">
            <t t-if="props.noContentHelp" t-call="web.ActionHelper">
                <t t-set="noContentHelp" t-value="props.noContentHelp"/>
            </t>
            <t t-else="" t-call="web.NoContentHelper"/>
        </t>

        <table t-if="props.hasData and props.measures.length" class="table-hover table-sm table-bordered" t-att-class="{ o_enable_linking: !props.disableLinking }">
            <thead>
                <tr t-foreach="props.table.headers" t-as="row" t-key="'header_' + row_index">
                    <t t-foreach="row" t-as="cell" t-key="'header_row_' + cell_index">
                        <t t-if="cell.measure" t-call="web.PivotMeasure"/>
                        <t t-elif="cell.isLeaf !== undefined" t-call="web.PivotHeader">
                            <t t-set="isXAxis" t-value="true"/>
                        </t>
                        <th t-else="1" t-att-colspan="cell.width" t-att-rowspan="cell.height"/>
                    </t>
                </tr>
            </thead>
            <tbody>
                <tr t-foreach="props.table.rows" t-as="row" t-key="'row_' + row_index">
                    <t t-call="web.PivotHeader">
                        <t t-set="isXAxis" t-value="false"/>
                        <t t-set="cell" t-value="row"/>
                    </t>
                    <t t-foreach="row.subGroupMeasurements" t-as="cell" t-key="'row_cell_' + cell_index">
                        <td class="o_pivot_cell_value text-right" t-att-class="{                                 o_empty: cell.value === undefined,                                 'font-weight-bold': cell.isBold,                             }" t-on-click="trigger('open_view', cell)" t-on-mouseover="_onMouseEnter" t-on-mouseout="_onMouseLeave">
                            <t t-if="cell.value !== undefined">
                                <div t-if="cell.originIndexes.length &gt; 1" class="o_variation" t-att-class="{                                          o_positive: cell.value &gt; 0,                                          o_negative: cell.value &lt; 0,                                          o_null: cell.value === 0,                                     }" t-esc="_getFormattedVariation(cell)"/>
                                <div t-elif="props.fields and props.fields[cell.measure].type === 'boolean'" class="o_value">
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" t-attf-id="checkbox_{{cell_index}}_{{row_index}}" disabled="disabled" t-att-checked="cell.value" class="custom-control-input"/>
                                        <label t-attf-for="checkbox_{{cell_index}}_{{row_index}}" class="custom-control-label"/>
                                    </div>
                                </div>
                                <div t-else="1" class="o_value" t-esc="_getFormattedValue(cell)"/>
                            </t>
                        </td>
                    </t>
                </tr>
            </tbody>
        </table>
    </div>

    <t t-name="web.PivotHeader" owl="1">
        <th t-att-colspan="isXAxis ? cell.width : undefined" t-att-rowspan="isXAxis ? cell.height : undefined" t-att-class="{                 o_pivot_header_cell_closed: cell.isLeaf,                 o_pivot_header_cell_opened: !cell.isLeaf,             }" t-attf-style="{{ isXAxis ? undefined : 'padding-left: ' + _getPadding(cell) + 'px;' }}" t-att-title="cell.label" t-on-click.self.prevent="_onHeaderClick(cell, isXAxis ? 'col' : 'row')">
            <span t-on-click.self.prevent="_onHeaderClick(cell, isXAxis ? 'col' : 'row')" t-esc="cell.title"/>
            <t t-if="_isClicked(cell.groupId, isXAxis)" t-call="web.PivotGroupBySelection"/>
        </th>
    </t>

    <t t-name="web.PivotMeasure" owl="1">
        <th class="text-muted" t-att-colspan="cell.width" t-att-rowspan="cell.height" t-att-class="{                 o_pivot_origin_row: cell.originIndexes,                 o_pivot_measure_row: !cell.originIndexes,                 o_pivot_sort_order_asc: cell.order === 'asc',                 o_pivot_sort_order_desc: cell.order === 'desc',             }" t-on-click.prevent="trigger('sort_rows',cell)" t-on-mouseover="_onMouseEnter" t-on-mouseout="_onMouseLeave">
            <t t-esc="cell.title"/>
        </th>
    </t>

    <div t-name="web.PivotGroupBySelection" class="dropdown" owl="1">
        <div class="dropdown-menu o_pivot_field_menu show" data-display="static" role="menu">
            <t t-foreach="props.selectionGroupBys" t-as="field" t-key="field.field.name">
                <t t-if="(field.field.type === 'date') || (field.field.type === 'datetime')">
                    <div role="menuitem" aria-haspopup="true" class="o_inline_dropdown">
                        <a href="#" t-on-click.prevent="_onClickMenuGroupBy(field, 'month')" class="dropdown-item o_pivot_field_selection" t-att-class="{ disabled: field.active }" t-att-data-field="field.name">
                            <t t-esc="field.field.string"/>
                        </a>
                        <div class="dropdown-menu" role="menu">
                            <a role="menuitem" t-att-data-field="field.name" href="#" class="dropdown-item" t-on-click.prevent="_onClickMenuGroupBy(field, 'day')">Day</a>
                            <a role="menuitem" t-att-data-field="field.name" href="#" class="dropdown-item" t-on-click.prevent="_onClickMenuGroupBy(field, 'week')">Week</a>
                            <a role="menuitem" t-att-data-field="field.name" href="#" class="dropdown-item" t-on-click.prevent="_onClickMenuGroupBy(field, 'month')">Month</a>
                            <a role="menuitem" t-att-data-field="field.name" href="#" class="dropdown-item" t-on-click.prevent="_onClickMenuGroupBy(field, 'quarter')">Quarter</a>
                            <a role="menuitem" t-att-data-field="field.name" href="#" class="dropdown-item" t-on-click.prevent="_onClickMenuGroupBy(field, 'year')">Year</a>
                        </div>
                    </div>
                </t>
                <a t-else="" href="#" role="menuitem" class="dropdown-item" t-att-data-field="field.name" t-att-class="{ disabled: field.active }" t-on-click.prevent="_onClickMenuGroupBy(field, false)">
                    <t t-esc="field.field.string"/>
                </a>
            </t>
        </div>
    </div>

<t t-name="rainbow_man.notification">
        <div class="o_reward">
            <svg class="o_reward_rainbow" viewBox="0 0 340 180">
                <path d="M270,170a100,100,0,0,0-200,0" style="stroke:#FF9E80;"/>
                <path d="M290,170a120,120,0,0,0-240,0" style="stroke:#FFE57F;"/>
                <path d="M310,170a140,140,0,0,0-280,0" style="stroke:#80D8FF;"/>
                <path d="M330,170a160,160,0,0,0-320,0" style="stroke:#c794ba;"/>
            </svg>
            <div class="o_reward_stars" t-foreach="[1, 2, 3, 4]" t-as="star">
                <t t-call="rainbow_man.star">
                    <t t-set="class" t-value="star"/>
                </t>
            </div>
            <div class="o_reward_face_group">
                <svg style="display:none">
                    <symbol id="thumb">
                        <path d="M10,52 C6,51 3,48 3,44 C2,42 3,39 5,38 C3,36 2,34 2,32 C2,29 3,27 5,26 C3,24 2,21 2,19 C2,15 7,12 10,12 L23,12 C23,11 23,11 23,11 L23,10 C23,8 24,6 25,4 C27,2 29,2 31,2 C33,2 35,2 36,4 C38,5 39,7 39,10 L39,38 C39,41 37,45 35,47 C32,50 28,51 25,52 L10,52 L10,52 Z" fill="#FBFBFC"/>
                        <polygon fill="#ECF1FF" points="25 11 25 51 5 52 5 12"/>
                        <path d="M31,0 C28,0 26,1 24,3 C22,5 21,7 21,10 L10,10 C8,10 6,11 4,12 C2,14 1,16 1,19 C1,21 1,24 2,26 C1,27 1,29 1,32 C1,34 1,36 2,38 C1,40 0,42 1,45 C1,50 5,53 10,54 L25,54 C29,54 33,52 36,49 C39,46 41,42 41,38 L41,10 C41,4 36,3.38176876e-16 31,0 M31,4 C34,4 37,6 37,10 L37,38 C37,41 35,44 33,46 C31,48 28,49 25,50 L10,50 C7,49 5,47 5,44 C4,41 6,38 9,37 L9,37 C6,37 5,35 5,32 C5,28 6,26 9,26 L9,26 C6,26 5,22 5,19 C5,16 8,14 11,14 L23,14 C24,14 25,12 25,11 L25,10 C25,7 28,4 31,4" id="Shape" fill="#A1ACBA"/>
                    </symbol>
                </svg>
                <span class="o_reward_face" t-attf-style="background-image:url(#{widget.options.img_url});"/>

                <svg class="o_reward_thumbup" viewBox="0 0 42 60">
                    <use href="#thumb"/>
                </svg>

                <div class="o_reward_msg_container">
                    <svg class="o_reward_thumb_right" viewBox="0 0 100 55">
                        <use href="#thumb" transform="scale(-1, 1.2) rotate(-90) translate(-42,-60)"/>
                    </svg>
                    <div class="o_reward_msg">
                        <div class="o_reward_msg_card">
                            <div class="o_reward_msg_content"/>
                            <div class="o_reward_shadow_container">
                                <div class="o_reward_shadow"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </t>
    <t t-name="rainbow_man.star">
        <svg t-attf-class="star{{ star }}" width="35px" height="34px" viewBox="0 0 35 34">
            <path fill="#fff" d="M33,15.9 C26.3557814,13.6951256 21.1575294,8.45974313 19,1.8 C19,1.24771525 18.5522847,0.8 18,0.8 C17.4477153,0.8 17,1.24771525 17,1.8 C14.6431206,8.69377078 9.02624222,13.9736364 2,15.9 C1.36487254,15.9 0.85,16.4148725 0.85,17.05 C0.85,17.6851275 1.36487254,18.2 2,18.2 C8.6215326,20.3844521 13.8155479,25.5784674 16,32.2 C16,32.7522847 16.4477153,33.2 17,33.2 C17.5522847,33.2 18,32.7522847 18,32.2 C20.3568794,25.3062292 25.9737578,20.0263636 33,18.1 C33.6351275,18.1 34.15,17.5851275 34.15,16.95 C34.15,16.3148725 33.6351275,15.8 33,15.8"/>
        </svg>
    </t>
<div t-name="report.client_action">
        <iframe class="o_report_iframe"/>
    </div>

    
    <t t-name="report.client_action.ControlButtons">
        <div class="o_report_buttons">
            <button type="button" class="btn btn-primary o_report_print" title="Print">Print</button>
        </div>
    </t>
<t t-name="web.SearchPanel" owl="1">
    <div class="o_search_panel" t-att-class="props.className">
        <section t-foreach="model.get('sections', s =&gt; !s.empty)" t-as="section" t-key="section.id" t-attf-class="o_search_panel_section o_search_panel_{{ section.type }}">
            <header class="o_search_panel_section_header text-uppercase">
                <i t-attf-class="fa {{ section.icon }} o_search_panel_section_icon mr-2" t-att-style="section.color and ('color: ' + section.color)"/>
                <b t-esc="section.description"/>
            </header>
            <div t-if="section.errorMsg" class="alert alert-warning">
                <span><t t-esc="section.errorMsg"/></span>
            </div>
            <ul t-else="" class="list-group d-block o_search_panel_field">
                <t t-if="section.type === 'category'" t-call="web.SearchPanel.Category">
                    <t t-set="values" t-value="section.rootIds"/>
                </t>
                <t t-elif="section.groups">
                    <li t-foreach="section.sortedGroupIds" t-as="groupId" t-key="groupId" class="o_search_panel_filter_group list-group-item border-0">
                        
                        <t t-set="_section" t-value="section"/>
                        <t t-set="group" t-value="section.groups.get(groupId)"/>
                        <header class="o_search_panel_group_header">
                            <div class="custom-control custom-checkbox">
                                
                                <input type="checkbox" class="custom-control-input" t-attf-id="{{ section.id }}_input_{{ groupId }})" t-on-click="_toggleFilterGroup(section.id, group)"/>
                                <label t-attf-for="{{ section.id }}_input_{{ groupId }})" class="o_search_panel_label custom-control-label" t-att-class="{ o_with_counters: group.enableCounters }" t-att-title="group.tooltip or false">
                                    <span class="o_search_panel_label_title">
                                        <span t-if="group.hex_color" class="mr-1" t-attf-style="color: {{ group.hex_color }};">●</span>
                                        <t t-esc="group.name"/>
                                    </span>
                                </label>
                            </div>
                        </header>
                        <ul class="list-group d-block">
                            <t t-call="web.SearchPanel.FiltersGroup">
                                <t t-set="values" t-value="group.values"/>
                                
                                <t t-set="section" t-value="_section"/>
                            </t>
                        </ul>
                    </li>
                    <ul t-if="section.groups.get(false)" class="list-group d-block">
                        <t t-call="web.SearchPanel.FiltersGroup">
                            <t t-set="group" t-value="section.groups.get(false)"/>
                            <t t-set="values" t-value="group.values"/>
                            
                            <t t-set="section" t-value="section"/>
                        </t>
                    </ul>
                </t>
                <t t-else="" t-call="web.SearchPanel.FiltersGroup">
                    <t t-set="values" t-value="section.values"/>
                </t>
            </ul>
        </section>
    </div>
</t>

<t t-name="web.SearchPanel.Category" owl="1">
    <t t-foreach="values" t-as="valueId" t-key="valueId">
        <t t-set="value" t-value="section.values.get(valueId)"/>
        <li class="o_search_panel_category_value list-group-item border-0">
            <header class="list-group-item-action" t-att-class="{ active: state.active[section.id] === valueId }" t-on-click="_toggleCategory(section, value)">
                <label class="o_search_panel_label mb0" t-att-class="{ o_with_counters: section.enableCounters }">
                    <div class="o_toggle_fold">
                        <i t-if="value.childrenIds.length" t-attf-class="fa fa-caret-{{ state.expanded[section.id][valueId] ? 'down' : 'right' }}"/>
                    </div>
                    <b t-if="value.bold" class="o_search_panel_label_title" t-esc="value.display_name"/>
                    <span t-else="" class="o_search_panel_label_title" t-esc="value.display_name"/>
                </label>
                <span t-if="section.enableCounters and value.__count gt 0" class="o_search_panel_counter text-muted ml-2 small" t-esc="value.__count"/>
            </header>
            <ul t-if="value.childrenIds.length and state.expanded[section.id][valueId]" class="list-group d-block">
                <t t-call="web.SearchPanel.Category">
                    <t t-set="values" t-value="value.childrenIds"/>
                </t>
            </ul>
        </li>
    </t>
</t>

<t t-name="web.SearchPanel.FiltersGroup" owl="1">
    <li t-foreach="[...values.keys()]" t-as="valueId" t-key="valueId" class="o_search_panel_filter_value list-group-item border-0">
        <t t-set="value" t-value="values.get(valueId)"/>
        <div class="custom-control custom-checkbox w-100">
            <input type="checkbox" t-attf-id="{{ section.id }}_input_{{ valueId }}" t-att-checked="state.active[section.id][valueId]" class="custom-control-input" t-on-click="_toggleFilterValue(section.id, valueId)"/>
            <label class="o_search_panel_label custom-control-label" t-attf-for="{{ section.id }}_input_{{ valueId }}" t-att-title="(group and group.tooltip) or false">
                <span class="o_search_panel_label_title" t-esc="value.display_name"/>
                <span t-if="section.enableCounters and value.__count gt 0" class="o_search_panel_counter text-muted ml-2 small" t-esc="value.__count"/>
            </label>
        </div>
    </li>
</t>

<div t-name="CalendarView" class="o_calendar_container">
        <div class="o_calendar_view">
            <div class="o_calendar_buttons" role="toolbar" aria-label="Calendar toolbar"/>
            <div class="o_calendar_widget"/>
        </div>
        <div class="o_calendar_sidebar_container d-none d-md-block">
            <div class="o_calendar_sidebar">
                <div class="o_calendar_mini"/>
            </div>
        </div>
    </div>

    <t t-name="calendar-box">
        <div t-att-style="typeof color === 'string' ? ('background-color:' + color) + ';' : ''" t-attf-class="#{record.is_highlighted ? 'o_event_hightlight' : ''} #{typeof color === 'number' ? _.str.sprintf('o_calendar_color_%s', color) : 'o_calendar_color_1'}">
            <span t-if="showTime" class="fc-time"/>
            <div class="o_event_title" t-esc="record.display_name"/>
        </div>
    </t>

    <t t-name="CalendarView.event.popover.placeholder">
        <div t-attf-class="o_cw_popover popover card shadow #{typeof color === 'number' ? _.str.sprintf('o_calendar_color_%s', color) : ''}" role="tooltip">
            <div class="arrow"/>
            <div class="card-header d-flex justify-content-between py-2 pr-2">
                <h4 class="popover-header border-0 p-0 pt-1"/>
                <span class="o_cw_popover_close ml-4"><i class="fa fa-close small"/></span>
            </div>
            <div class="o_cw_body">
            </div>
        </div>
    </t>

    <t t-name="CalendarView.event.popover">
        <div class="o_cw_body">
            <ul class="list-group list-group-flush">
                <li t-if="!widget.hideDate and widget.eventDate.date" class="list-group-item">
                    <i class="fa fa-fw fa-calendar-o"/>
                    <b class="text-capitalize" t-esc="widget.eventDate.date"/> <small t-if="widget.eventDate.duration"><b t-esc="_.str.sprintf('(%s)', widget.eventDate.duration)"/></small>
                </li>
                <li t-if="!widget.hideTime and widget.eventTime.time" class="list-group-item">
                    <i class="fa fa-fw fa-clock-o"/>
                    <b t-esc="widget.eventTime.time"/> <small t-if="widget.eventTime.duration"><b t-esc="_.str.sprintf('(%s)', widget.eventTime.duration)"/></small>
                </li>
            </ul>
            <ul t-if="widget.isEventDetailsVisible()" class="list-group list-group-flush o_cw_popover_fields_secondary"/>
            <div class="card-footer border-top">
                <a t-if="widget.isEventEditable()" href="#" class="btn btn-primary o_cw_popover_edit">Edit</a>
                <a t-if="widget.isEventDeletable()" href="#" class="btn btn-secondary o_cw_popover_delete ml-2">Delete</a>
            </div>
        </div>
    </t>

    <t t-name="CalendarView.sidebar.filter">
        <t t-set="needCollapse" t-value="widget.filters.length &gt; 2 and widget.title"/>
        <t t-set="collapseTitle" t-value="widget.title and widget.title.split(' ').join('')"/>
        <div class="o_calendar_filter">
            <h5 t-if="needCollapse" type="button" data-toggle="collapse" t-attf-data-target="#o_cw_filter_collapse_#{collapseTitle}" class="d-flex justify-content-between align-items-center">
                <t t-esc="widget.title"/><i class="o_cw_filter_collapse_icon fa fa-chevron-down"/>
            </h5>

            <h5 t-elif="widget.title" t-esc="widget.title"/>

            <div t-attf-class="o_calendar_filter_items #{needCollapse ? 'collapse show' : 0}" aria-expanded="true" t-attf-id="o_cw_filter_collapse_#{collapseTitle}">
                <t t-foreach="widget.filters" t-as="filter" t-if="filter.display == null || filter.display">
                    <t t-set="idForLabel" t-value="_.uniqueId('o_calendar_filter_item_')"/>
                    <t t-set="color" t-value="widget.getColor(filter.color_index)"/>
                    <t t-set="isColorNumber" t-value="typeof color === 'number'"/>

                    <div t-attf-class="o_calendar_filter_item w-100 position-relative mb-2 #{isColorNumber ? _.str.sprintf('o_cw_filter_color_%s', color) : ''}" t-att-data-value="filter.value" t-att-data-id="filter.id">

                        <input type="checkbox" t-att-id="idForLabel" name="selection" class="position-absolute" t-att-checked="filter.active ? true : undefined"/>

                        <label t-att-for="idForLabel" class="d-flex align-items-center m-0">
                            <span t-attf-class="o_cw_filter_input_bg align-items-center d-flex flex-shrink-0 justify-content-center position-relative mr-1 #{widget.avatar_field ? 'o_beside_avatar' : ''}" t-att-style="color and !isColorNumber ? _.str.sprintf('border-color:%s;background-color:%s', color, color) : ''">
                                <i class="fa fa-check position-relative"/>
                            </span>
                            <i t-if="filter.value == 'all'" class="o_cw_filter_avatar fa fa-users fa-fw  flex-shrink-0 mr-1" role="img" aria-label="Avatar" title="Avatar"/>
                            <img t-elif="widget.avatar_field and filter.value" t-attf-src="/web/image/#{widget.avatar_model}/#{filter.value}/#{widget.avatar_field}" class="o_cw_filter_avatar flex-shrink-0 mr-1" alt="Avatar"/>
                            <span class="o_cw_filter_title text-truncate flex-grow" t-esc="filter.label" t-attf-title="#{ ['all', false].includes(filter.value) or !widget.avatar_field ? filter.label : '' }"/>
                        </label>

                        <button t-if="filter.id" class="o_remove btn bg-white text-700 py-0 px-2" title="Remove this favorite from the list" role="img" aria-label="Remove this favorite from the list">
                            <i class="fa fa-times"/>
                        </button>
                    </div>
                </t>
            </div>
        </div>
    </t>

    <t t-name="CalendarView.buttons">
        <div class="o_calendar_buttons">
            <span class="o_calendar_navigation_buttons">
                <t t-call="CalendarView.navigation_buttons"/>
            </span>
            <t t-if="!scaleDrop">
                <span class="o_calendar_scale_buttons">
                    <t t-call="CalendarView.scale_buttons"/>
                </span>
            </t>
        </div>
    </t>

    <t t-name="CalendarView.navigation_buttons">
        <button class="o_calendar_button_prev btn btn-primary" aria-label="Previous" title="Previous"><span class="fa fa-arrow-left"/></button>
        <button class="o_calendar_button_today btn btn-primary">Today</button>
        <button class="o_calendar_button_next btn btn-primary" aria-label="Next" title="Next"><span class="fa fa-arrow-right"/></button>
    </t>

    <t t-name="CalendarView.scale_buttons">
        <div class="btn-group">
            <button type="button" t-if="scales.includes('day')" class="o_calendar_button_day btn btn-secondary">Day</button>
            <button type="button" t-if="scales.includes('week')" class="o_calendar_button_week btn btn-secondary">Week</button>
            <button type="button" t-if="scales.includes('month')" class="o_calendar_button_month btn btn-secondary">Month</button>
            <button type="button" t-if="scales.includes('year')" class="o_calendar_button_year btn btn-secondary">Year</button>
        </div>
    </t>

    <main t-name="CalendarView.quick_create" class="o_calendar_quick_create">
        <div class="form-group">
            <label for="name" class="col-form-label o_form_label">Summary:</label>
            <input type="text" name="name" class="o_input o_required_modifier" t-att-value="widget.dataTemplate.name or None"/>
        </div>
    </main>

    <t t-name="CalendarView.yearEvent.popover">
        <div class="o_cw_body">
            <t t-foreach="groupKeys" t-as="groupKey">
                <div class="font-weight-bold mt-2" t-esc="groupKey"/>
                <t t-foreach="groupedEvents[groupKey]" t-as="event">
                    <t t-set="record" t-value="event.extendedProps.record"/>
                    <a href="#" class="o_cw_popover_link btn-link d-block" t-att-data-id="record.id" t-att-data-title="record.display_name" t-esc="record.display_name"/>
                </t>
            </t>
            <div class="mt-2">
                <a t-if="canCreate" href="#" class="btn-link o_cw_popover_create">
                    <i class="fa fa-plus"/> Create
                </a>
            </div>
        </div>
    </t>

    <t t-name="CalendarView.yearEvent.popover.placeholder">
        <div class="popover o_cw_popover" style="position: relative">
            <div class="arrow"/>
            <div class="popover-header"/>
            <div style="position: absolute; top: 0; right: 0.5rem;">
                <span class="o_cw_popover_close"><i class="fa fa-close small"/></span>
            </div>
            <div class="popover-body"/>
        </div>
    </t>
<div t-name="res_config_dev_tool">
        <div id="developer_tool">
            <h2>Developer Tools</h2>
            <div class="row mt16 o_settings_container">
                <div class="col-12 col-lg-6 o_setting_box" id="devel_tool">
                    <div class="o_setting_right_pane">
                        <a t-if="!widget.isDebug" class="d-block" href="?debug=1">Activate the developer mode</a>
                        <a t-if="!widget.isAssets" class="d-block" href="?debug=assets">Activate the developer mode (with assets)</a>
                        <a t-if="!widget.isTests" class="d-block" href="?debug=assets,tests">Activate the developer mode (with tests assets)</a>
                        <a t-if="widget.isDebug" class="d-block" href="?debug=">Deactivate the developer mode</a>
                        <a t-if="widget.isDebug and !widget.demo_active" class="o_web_settings_force_demo" href="#">Load demo data</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
<div t-name="res_config_edition">
        <div class="col-12 o_setting_box" id="edition">
            <div class="o_setting_right_pane">
                <div class="user-heading">
                    <h3>
                        Odoo <t t-esc="widget.server_version"/>
                        (Community Edition)
                    </h3>
                </div>
                <div>
                    <div class="tab-content">
                        <div role="tabpanel" id="settings" class="tab-pane active text-muted o_web_settings_compact_subtitle">
                            <small>Copyright © 2004 <a target="_blank" href="https://www.odoo.com" style="text-decoration: underline;">Odoo S.A.</a> <a id="license" target="_blank" href="http://www.gnu.org/licenses/lgpl.html" style="text-decoration: underline;">GNU LGPL Licensed</a></small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<div t-name="res_config_invite_users">
        <p class="o_form_label">Invite New Users</p>
        <div class="d-flex">
            <input class="o_user_emails o_input mt8" type="text" placeholder="Enter e-mail address"/>
            <button class="btn btn-primary o_web_settings_invite" data-loading-text="Inviting..."><strong>Invite</strong></button>
        </div>

        <t t-if="widget.pending_users.length">
            <p class="o_form_label pt-3">Pending Invitations:</p>
            <span t-foreach="widget.pending_users" t-as="pending">
                <a href="#" class="badge badge-pill o_web_settings_user" t-att-data-user-id="pending[0]"> <t t-esc="pending[1]"/> </a>
            </span>
            <t t-if="widget.pending_users.length &lt; widget.pending_count">
                <br/>
                <a href="#" class="o_web_settings_more"><t t-esc="widget.pending_count - widget.pending_users.length"/> more </a>
            </t>
        </t>
    </div>
<t t-extend="WebClient.DebugManager.Backend">
    <t t-jquery="a[data-action='select_view']" t-operation="after">
        <t t-if="manager._is_admin">
            <a t-if="manager.consume_tours_enabled" href="#" class="dropdown-item" data-action="consume_tours">Disable Tours</a>
            <a href="#" class="dropdown-item" data-action="start_tour">Start Tour</a>
        </t>
    </t>
</t>

<t t-name="web_tour.ToursDialog">
    <div>
        <t t-call="web_tour.ToursDialog.Table">
            <t t-set="caption" t-value="'Onboarding tours'"/>
            <t t-set="tours" t-value="onboardingTours"/>
        </t>
        <t t-if="testingTours.length" t-call="web_tour.ToursDialog.Table">
            <t t-set="caption" t-value="'Testing tours'"/>
            <t t-set="tours" t-value="testingTours"/>
        </t>
    </div>
</t>

<t t-name="web_tour.ToursDialog.Table">
    <div class="table-responsive">
        <table class="table table-sm table-striped">
            <caption style="caption-side: top; font-size: 14px">
                <t t-esc="caption"/>
            </caption>
            <thead>
                <tr>
                    <th>Sequence</th>
                    <th width="50%">Name</th>
                    <th width="50%">Path</th>
                    <th>Start</th>
                    <th>Test</th>
                </tr>
            </thead>
            <tbody>
                <tr t-foreach="tours" t-as="tour">
                    <td><t t-esc="tour.sequence"/></td>
                    <td><t t-esc="tour.name"/></td>
                    <td><t t-esc="tour.url"/></td>
                    <td><button type="button" class="btn btn-primary fa fa-play o_start_tour" t-att-data-name="tour.name" aria-label="Start tour" title="Start tour"/></td>
                    <td><button type="button" class="btn btn-primary fa fa-cogs o_test_tour" t-att-data-name="tour.name" aria-label="Test tour" title="Test tour"/></td>
                </tr>
            </tbody>
        </table>
    </div>
</t>

<t t-name="mail.activity_items">
        <div class="o_thread_date_separator o_border_dashed" data-toggle="collapse" data-target="#o_chatter_planned_activities">
            <a role="button" class="o_thread_date btn">
                <i class="fa fa-fw fa-caret-down"/>
                Planned activities
                <small class="o_chatter_planned_activities_summary ml8">
                    <span class="badge rounded-circle badge-danger"><t t-esc="nbOverdueActivities"/></span>
                    <span class="badge rounded-circle badge-warning"><t t-esc="nbTodayActivities"/></span>
                    <span class="badge rounded-circle badge-success"><t t-esc="nbPlannedActivities"/></span>
                </small>
            </a>
        </div>
        <div id="o_chatter_planned_activities" class="collapse show">
            <t t-foreach="activities" t-as="activity">
                <div class="o_thread_message" style="margin-bottom: 10px">
                    <div class="o_thread_message_sidebar">
                        <div class="o_avatar_stack">
                            <img t-attf-src="/web/image#{activity.user_id[0] &gt;= 0 ? ('/res.users/' + activity.user_id[0] + '/image_128') : ''}" class="o_thread_message_avatar rounded-circle mb8" t-att-title="activity.user_id[1]" t-att-alt="activity.user_id[1]"/>
                            <i t-att-class="'o_avatar_icon fa ' + activity.icon + ' bg-' + (activity.state == 'planned'? 'success' : (activity.state == 'today'? 'warning' : 'danger')) + '-full'" t-att-title="activity.activity_type_id[1]"/>
                        </div>
                    </div>
                    <div class="o_thread_message_core">
                        <div class="o_mail_info text-muted">
                            <strong><span t-attf-class="o_activity_date o_activity_color_#{activity.state}"><t t-esc="activity.label_delay"/></span></strong>:
                            <strong t-if="activity.summary" class="o_activity_summary"> “<t t-esc="activity.summary"/>”</strong>
                            <strong t-if="!activity.summary"> <t t-esc="activity.activity_type_id[1]"/></strong>
                            <em> for </em>
                            <t t-esc="activity.user_id[1]"/>
                            <a class="btn btn-link btn-info text-muted collapsed o_activity_info ml4" role="button" data-toggle="collapse" t-attf-data-target="#o_chatter_activity_info_#{activity.id}">
                                <i class="fa fa-info-circle" role="img" aria-label="Info" title="Info"/>
                            </a>
                            <div class="o_thread_message_collapse collapse" t-attf-id="o_chatter_activity_info_#{activity.id}">
                                <dl class="dl-horizontal">
                                    <dt>Activity type</dt>
                                    <dd class="mb8">
                                        <t t-esc="activity.activity_type_id[1]"/>
                                    </dd>
                                    <dt>Created on</dt>
                                    <dd class="mb8">
                                        <t t-esc="activity.create_date.format(datetimeFormat)"/>
                                        by
                                        <img t-attf-src="/web/image#{activity.create_uid[0] &gt;= 0 ? ('/res.users/' + activity.create_uid[0] + '/image_128') : ''}" height="18" width="18" class="o_object_fit_cover rounded-circle mr4" t-att-title="activity.create_uid[1]" t-att-alt="activity.create_uid[1]"/>
                                        <b><t t-esc="activity.create_uid[1]"/></b>
                                    </dd>
                                    <dt>Assigned to</dt>
                                    <dd class="mb8">
                                        <img t-attf-src="/web/image#{activity.user_id[0] &gt;= 0 ? ('/res.users/' + activity.user_id[0] + '/image_128') : ''}" height="18" width="18" class="o_object_fit_cover rounded-circle mr4" t-att-title="activity.user_id[1]" t-att-alt="activity.user_id[1]"/>
                                        <b><t t-esc="activity.user_id[1]"/></b>
                                        <em>, due on </em><span t-attf-class="o_activity_color_#{activity.state}"><t t-esc="activity.date_deadline.format(dateFormat)"/></span>
                                    </dd>
                                </dl>
                            </div>
                        </div>
                        <div t-if="activity.note" t-attf-class="o_thread_message_#{activity.activity_decoration ? activity.activity_decoration : 'note'} #{activity.activity_decoration ? 'alert alert-' + activity.activity_decoration : ''}">
                            <t t-raw="activity.note"/>
                        </div>
                        <t t-if="activity.mail_template_ids &amp;&amp; activity.mail_template_ids.length &gt; 0">
                            <div class="mt16" t-att-data-activity-id="activity.id" t-att-data-previous-activity-type-id="activity.activity_type_id[0]">
                                <t t-foreach="activity.mail_template_ids" t-as="mail_template">
                                    <div>
                                        <i class="fa fa-envelope-o" aria-label="Mail" title="Mail" role="img"/>
                                        <span t-esc="mail_template.name"/>:
                                        <span class="o_activity_template_preview" t-att-data-template-id="mail_template.id">Preview</span>
                                        <span class="text-muted">or</span>
                                        <span class="o_activity_template_send" t-att-data-template-id="mail_template.id">Send Now</span>
                                    </div>
                                </t>
                            </div>
                        </t>
                        <div class="o_thread_message_tools btn-group">
                            <t t-call="mail.activity_thread_message_tools"/>
                        </div>
                    </div>
                </div>
            </t>
        </div>
    </t>
    <t t-name="mail.activity_thread_message_tools">
        <div t-if="activity.can_write" class="o_thread_message_tools btn-group">
            <span t-if="activity.activity_category !== 'upload_file'" class="o_mark_as_done" data-toggle="popover" t-att-data-activity-id="activity.id" t-att-data-force-next-activity="activity.force_next" t-att-data-previous-activity-type-id="activity.activity_type_id[0]">
                <a role="button" href="#" class="btn btn-link btn-success text-muted o_activity_link mr8">
                <i class="fa fa-check"/> Mark Done </a>
            </span>
            <span t-if="activity.activity_category === 'upload_file'" class="o_mark_as_done_upload_file" t-att-data-activity-id="activity.id" t-att-data-force-next-activity="activity.force_next" t-att-data-previous-activity-type-id="activity.activity_type_id[0]" t-att-data-fileupload-id="activity.fileuploadID">
                <a role="button" href="#" class="btn btn-link btn-success text-muted o_activity_link mr8">
                <i class="fa fa-upload"/> Upload Document </a>
            </span>
            <span t-if="activity.activity_category === 'upload_file'" class="d-none">
                <t t-call="HiddenInputFile">
                    <t t-set="fileupload_id" t-value="activity.fileuploadID"/>
                    <t t-set="fileupload_action" t-translation="off">/web/binary/upload_attachment</t>
                    <input type="hidden" name="model" t-att-value="activity.res_model"/>
                    <input type="hidden" name="id" t-att-value="activity.res_id"/>
                </t>
            </span>
            <a role="button" href="#" class="btn btn-link btn-secondary text-muted o_edit_activity o_activity_link" t-att-data-activity-id="activity.id">
                <i class="fa fa-pencil"/> Edit
            </a>
            <a role="button" href="#" class="btn btn-link btn-danger text-muted o_unlink_activity o_activity_link" t-att-data-activity-id="activity.id">
                <i class="fa fa-times"/> Cancel
            </a>
        </div>
    </t>
    <t t-name="mail.activity_feedback_form">
        <div>
            <textarea class="form-control" rows="3" id="activity_feedback" placeholder="Write Feedback"/>
            <div class="mt8">
                <t t-if="!force_next">
                    <button type="button" class="btn btn-sm btn-primary o_activity_popover_done_next" t-att-data-previous-activity-type-id="previous_activity_type_id">
                        Done &amp; Schedule Next</button>
                    <button type="button" class="btn btn-sm btn-primary o_activity_popover_done">
                        Done</button>
                    <button type="button" class="btn btn-sm btn-link o_activity_popover_discard">
                        Discard</button>
                </t>
                <t t-else="">
                    <button type="button" class="btn btn-sm btn-primary o_activity_popover_done_next">
                        Done &amp; Launch Next</button>
                </t>
            </div>
        </div>
    </t>
<t t-name="mail.ActivityViewHeader" owl="1">
    <thead>
        <tr>
            <th/>
            <th t-foreach="props.activity_types" t-as="type" t-key="type[0]" class="o_activity_type_cell" t-attf-class="{{ activeFilter.activityTypeId === type[0] ? 'o_activity_filter_' + activeFilter.state : '' }}" t-att-data-activity-type-id="type[0]" t-attf-width="{{100/props.activity_types.length}}%">
                <div>
                    <span t-esc="type[1]"/>
                    <span t-if="type[2].length &gt; 0" class="dropdown pull-right">
                        <i class="fa fa-ellipsis-v fa-fw" data-toggle="dropdown"/>
                        <div class="dropdown-menu">
                            <t t-foreach="type[2]" t-as="template" t-key="template.id">
                                <div title="This action will send an email." class="o_template_element o_send_mail_template" t-att-data-activity-type-id="type[0]" t-att-data-template-id="template.id" t-on-click="_onSendMailTemplateClicked">
                                    <i class="fa fa-envelope fa-fw"/> <t t-esc="template.name"/>
                                </div>
                            </t>
                        </div>
                    </span>
                </div>
                <KanbanColumnProgressBarAdapter Component="widgetComponents.KanbanColumnProgressBar" widgetArgs="[getProgressBarOptions(type[0]), getProgressBarColumnState(type[0])]" t-if="activityTypeIds.includes(type[0])" t-on-set-progress-bar-state="_onSetProgressBarState"/>
                <div t-else="" class="mt24"/>
            </th>
        </tr>
    </thead>
</t>

<t t-name="mail.ActivityViewBody" owl="1">
    <tbody>
        <t t-foreach="activityResIds" t-as="resId" t-key="resId">
            <t t-call="mail.ActivityViewRow"/>
        </t>
    </tbody>
</t>

<t t-name="mail.ActivityViewRow" owl="1">
    <tr class="o_data_row" t-att-data-res-id="resId">
        <t t-set="record" t-value="props.data.find(data =&gt; data.res_id === resId)"/>
        <td t-attf-class="{{ activeFilter.resIds.includes(resId) ? 'o_activity_filter_' + activeFilter.state : '' }}">
            <ActivityRecordAdapter Component="widgetComponents.ActivityRecord" widgetArgs="[record, { qweb: qweb }]"/>
        </td>
        <t t-foreach="props.activity_types" t-as="type" t-key="type[0]">
            <t t-call="mail.ActivityViewCell"/>
        </t>
    </tr>
</t>

<t t-name="mail.ActivityViewCell" owl="1">
    <t t-set="activityGroup" t-value="props.grouped_activities[resId] and props.grouped_activities[resId][type[0]] or {count: 0, ids: [], state: false}"/>
    <td t-if="activityGroup.state" t-att-data-res-id="resId" t-att-data-activity-type-id="type[0]" t-attf-class="o_activity_summary_cell {{activityGroup.state}} {{ activeFilter.resIds.includes(resId) ? 'o_activity_filter_' + activeFilter.state : '' }}">
        <ActivityCellAdapter Component="widgetComponents.ActivityCell" widgetArgs="['activity_ids', props.getKanbanActivityData(activityGroup, resId)]"/>
    </td>
    <td t-else="" t-att-data-res-id="resId" t-att-data-activity-type-id="type[0]" class="o_activity_summary_cell o_activity_empty_cell" t-attf-class="{{ activeFilter.resIds.includes(resId) ? 'o_activity_filter_' + activeFilter.state : '' }}" t-on-click.prevent.stop="_onEmptyCellClicked">
        <i title="Create" class="text-center fa fa-plus"/>
    </td>
</t>

<t t-name="mail.ActivityViewFooter" owl="1">
    <tfoot>
        <tr class="o_data_row">
            <td class="o_record_selector p-3" t-on-click.prevent.stop="trigger('schedule_activity')">
                <span class="fa fa-plus pr-2"/><span>Schedule activity</span>
            </td>
        </tr>
    </tfoot>
</t>

<div t-name="mail.ActivityRenderer" class="o_activity_view" owl="1">
    <t t-if="!props.activity_types.length" t-call="web.NoContentHelper"/>
    <table t-else="" class="table-bordered mb-5">
        <t t-call="mail.ActivityViewHeader"/>
        <t t-call="mail.ActivityViewBody"/>
        <t t-call="mail.ActivityViewFooter"/>
    </table>
</div>

<div t-name="mail.legacy.Composer.emojis" class="o_mail_emoji_container">
        <t t-foreach="emojis" t-as="emoji">
            <span t-att-data-emoji="emoji.sources[0]" class="o_mail_emoji" t-att-title="emoji.description" t-att-aria-label="emoji.description">
                <t t-raw="emoji.unicode"/>
            </span>
        </t>
    </div>

    <t t-name="FieldMany2ManyTagsEmail" t-extend="FieldMany2ManyTag">
        <t t-jquery="[t-attf-class*=badge]" t-operation="replace">
            <div t-attf-class="badge badge-pill dropdown o_tag_color_0 #{el.email.indexOf('@') &lt; 0 ? 'o_tag_error' : ''}" t-att-data-color="color" t-att-data-index="el_index" t-att-data-id="el.id" t-attf-title="Tag color: #{colornames[color]}">
                <span class="o_badge_text" t-att-title="el.email"><t t-esc="el.display_name"/></span>
                <a t-if="!readonly" href="#" class="fa fa-times o_delete" title="Delete" aria-label="Delete"/>
            </div>
        </t>
    </t>
<t t-name="mail.KanbanMany2OneAvatarUser" t-extend="web.Many2OneAvatar">
        <t t-jquery="img" t-operation="attributes">
            <attribute name="t-att-title">value</attribute>
        </t>
        <t t-jquery="span" t-operation="replace"/>
    </t>

<t t-name="mail.systray.ActivityMenu.Previews">
        <t t-set="activities" t-value="widget._activities"/>
        <t t-if="_.isEmpty(activities)">
            <div class="dropdown-item-text text-center o_no_activity">
                <span>No activities planned.</span>
            </div>
        </t>
        <t t-foreach="activities" t-as="activity">
            <div class="o_mail_preview o_systray_activity" t-att-data-res_model="activity.model" t-att-data-model_name="activity.name" t-att-data-domain="activity.domain" data-filter="my">
                <div t-if="activity.icon" class="o_mail_preview_image o_mail_preview_app">
                    <img t-att-src="activity.icon" alt="Activity"/>
                </div>
                <div class="o_preview_info">
                    <div class="o_preview_title">
                        <span class="o_preview_name">
                            <t t-esc="activity.name"/>
                        </span>
                        <div t-if="activity.actions" class="o_mail_activity_action_buttons">
                            <t t-foreach="activity.actions" t-as="action">
                                <button type="button" t-att-title="action.name" t-att-class="'o_mail_activity_action btn btn-link fa ' + action.icon" t-att-data-action_xmlid="action.action_xmlid" t-att-data-res_model="activity.model" t-att-data-model_name="activity.name" t-att-data-domain="activity.domain">
                                </button>
                            </t>
                        </div>
                    </div>
                    <div t-if="activity and activity.type == 'activity'">
                        <button t-if="activity.overdue_count" type="button" class="btn btn-link o_activity_filter_button mr16" t-att-data-res_model="activity.model" t-att-data-model_name="activity.name" data-filter="overdue"><t t-esc="activity.overdue_count"/> Late </button>
                        <span t-if="!activity.overdue_count" class="o_no_activity mr16">0 Late </span>
                        <button t-if="activity.today_count" type="button" class="btn btn-link o_activity_filter_button mr16" t-att-data-res_model="activity.model" t-att-data-model_name="activity.name" data-filter="today"> <t t-esc="activity.today_count"/> Today </button>
                        <span t-if="!activity.today_count" class="o_no_activity mr16">0 Today </span>
                        <button t-if="activity.planned_count" type="button" class="btn btn-link o_activity_filter_button float-right" t-att-data-res_model="activity.model" t-att-data-model_name="activity.name" data-filter="upcoming_all"> <t t-esc="activity.planned_count"/> Future </button>
                        <span t-if="!activity.planned_count" class="o_no_activity float-right">0 Future</span>
                    </div>
                </div>
            </div>
        </t>
    </t>

    <t t-name="mail.systray.ActivityMenu">
        <li class="o_mail_systray_item">
            <a class="dropdown-toggle o-no-caret" data-toggle="dropdown" data-display="static" aria-expanded="false" title="Activities" href="#" role="button">
                <i class="fa fa-clock-o" role="img" aria-label="Activities"/> <span class="o_notification_counter badge badge-pill"/>
            </a>
            <div class="o_mail_systray_dropdown dropdown-menu dropdown-menu-right" role="menu">
                <div class="o_mail_systray_dropdown_items"/>
            </div>
        </li>
    </t>
<t t-extend="WebClient.DebugManager.View">
        <t t-jquery="a[data-action='get_metadata']" t-operation="after">
            <a role="menuitem" href="#" data-action="getMailMessages" class="dropdown-item">Manage Messages</a>
        </t>
    </t>
    
    <t t-name="DocumentViewer.Content">
        <div class="o_viewer_content">
            <t t-set="model" t-value="widget.modelName"/>
            <div class="o_viewer-header">
                <span class="o_image_caption">
                    <i class="fa fa-picture-o mr8" t-if="widget.activeAttachment.fileType == 'image'" role="img" aria-label="Image" title="Image"/>
                    <i class="fa fa-file-text mr8" t-if="widget.activeAttachment.fileType == 'application/pdf'" role="img" aria-label="PDF file" title="PDF file"/>
                    <i class="fa fa-video-camera mr8" t-if="widget.activeAttachment.fileType == 'video'" role="img" aria-label="Video" title="Video"/>
                    <t t-esc="widget.activeAttachment.name"/>
                    <a role="button" href="#" class="o_download_btn ml8 small" data-toggle="tooltip" data-placement="right" title="Download"><i class="fa fa-fw fa-download" role="img" aria-label="Download"/></a>
                </span>
                <a role="button" class="o_close_btn float-right" href="#" aria-label="Close" title="Close">×</a>
            </div>
            <div class="o_viewer_img_wrapper">
                <div class="o_viewer_zoomer">
                    <t t-if="widget.activeAttachment.fileType === 'image'">
                        <div class="o_loading_img text-center">
                            <i class="fa fa-circle-o-notch fa-spin text-gray-light fa-3x fa-fw" role="img" aria-label="Loading" title="Loading"/>
                        </div>
                        <t t-set="unique" t-value="widget.activeAttachment.checksum ? widget.activeAttachment.checksum.slice(-8) : ''"/>
                        <img class="o_viewer_img" t-attf-src="/web/image/#{widget.activeAttachment.id}?unique=#{unique}&amp;model=#{model}" alt="Viewer"/>
                    </t>
                    <iframe t-if="widget.activeAttachment.fileType == 'application/pdf'" class="mt32 o_viewer_pdf" t-attf-src="/web/static/lib/pdfjs/web/viewer.html?file=/web/content/#{widget.activeAttachment.id}?model%3D#{model}%26filename%3D#{window.encodeURIComponent(widget.activeAttachment.name)}"/>
                    <iframe t-if="(widget.activeAttachment.fileType || '').indexOf('text') !== -1" class="mt32 o_viewer_text" t-attf-src="/web/content/#{widget.activeAttachment.id}?model=#{model}"/>
                    <iframe t-if="widget.activeAttachment.fileType == 'youtu'" class="mt32 o_viewer_text" allow="autoplay; encrypted-media" width="560" height="315" t-attf-src="https://www.youtube.com/embed/#{widget.activeAttachment.youtube}"/>
                    <video t-if="widget.activeAttachment.fileType == 'video'" class="o_viewer_video" controls="controls">
                        <source t-attf-src="/web/image/#{widget.activeAttachment.id}?model=#{model}" t-att-data-type="widget.activeAttachment.mimetype"/>
                    </video>
                </div>
            </div>
            <div t-if="widget.activeAttachment.fileType == 'image'" class="o_viewer_toolbar btn-toolbar" role="toolbar">
                <div class="btn-group" role="group">
                    <a role="button" href="#" class="o_viewer_toolbar_btn btn o_zoom_in" data-toggle="tooltip" title="Zoom In"><i class="fa fa-fw fa-plus" role="img" aria-label="Zoom In"/></a>
                    <a role="button" href="#" class="o_viewer_toolbar_btn btn o_zoom_reset disabled" data-toggle="tooltip" title="Reset Zoom"><i class="fa fa-fw fa-search" role="img" aria-label="Reset Zoom"/></a>
                    <a role="button" href="#" class="o_viewer_toolbar_btn btn o_zoom_out disabled" data-toggle="tooltip" title="Zoom Out"><i class="fa fa-fw fa-minus" role="img" aria-label="Zoom Out"/></a>
                </div>
                <div class="btn-group" role="group">
                    <a role="button" href="#" class="o_viewer_toolbar_btn btn o_rotate" data-toggle="tooltip" title="Rotate"><i class="fa fa-fw fa-repeat" role="img" aria-label="Rotate"/></a>
                </div>
                <div class="btn-group" role="group">
                    <a role="button" href="#" class="o_viewer_toolbar_btn btn o_print_btn" data-toggle="tooltip" title="Print"><i class="fa fa-fw fa-print" role="img" aria-label="Print"/></a>
                    <a role="button" href="#" class="o_viewer_toolbar_btn btn o_download_btn" data-toggle="tooltip" title="Download"><i class="fa fa-fw fa-download" role="img" aria-label="Download"/></a>
                </div>
            </div>
        </div>
    </t>

    
    <t t-name="DocumentViewer">
        <div class="modal o_modal_fullscreen" tabindex="-1" data-keyboard="false" role="dialog">
            <t class="o_document_viewer_content_call" t-call="DocumentViewer.Content"/>

            <t t-if="widget.attachment.length !== 1">
                <a class="arrow arrow-left move_previous" href="#">
                    <span class="fa fa-chevron-left" role="img" aria-label="Previous" title="Previous"/>
                </a>
                <a class="arrow arrow-right move_next" href="#">
                    <span class="fa fa-chevron-right" role="img" aria-label="Next" title="Next"/>
                </a>
            </t>
        </div>
    </t>

    
    <t t-name="PrintImage">
        <html>
            <head>
                <script>
                    function onload_img() {
                        setTimeout('print_img()', 10);
                    }
                    function print_img() {
                        window.print();
                        window.close();
                    }
                </script>
            </head>
            <body onload="onload_img()">
                <img t-att-src="src" alt=""/>
            </body>
        </html>
    </t>

<t t-name="mail.KanbanActivity">
    <div class="o_kanban_inline_block dropdown o_mail_activity">
        <a class="dropdown-toggle o-no-caret o_activity_btn" data-toggle="dropdown" role="button">
            
            <span t-att-title="widget.selection[widget.activityState]" role="img" t-att-aria-label="widget.selection[widget.activity_state]"/>
       </a>
        <div class="dropdown-menu o_activity" role="menu"/>
    </div>
</t>

<t t-name="mail.ListActivity" t-extend="mail.KanbanActivity">
    <t t-jquery=".o_mail_activity" t-operation="append">
        <span class="o_activity_summary"/>
    </t>
</t>

<t t-name="mail.KanbanActivityLoading">
    <div class="dropdown-item text-center o_no_activity">
        <span class="fa fa-spinner fa-spin fa-2x" role="img" aria-label="Loading..." title="Loading..."/>
    </div>
</t>

<t t-name="mail.KanbanActivityDropdown">
    <span role="menuitem" t-if="_.isEmpty(records)" class="dropdown-item-text text-center o_no_activity">
        <i>Schedule activities to help you get things done.</i>
    </span>
    <div t-else="" aria-haspopup="true" role="menu" class="o_activity_log_container dropdown-item bg-100 p-0">
        <ul class="o_activity_log list-group list-group-flush mb-2" role="menu">
            <t t-foreach="_.keys(records)" t-as="key">
                <t t-set="logs" t-value="records[key]"/>
                <t t-set="contextual_class" t-value="key == 'planned' ? 'success' : (key == 'today' ? 'warning' : 'danger') "/>

                <li role="menuitem" t-attf-class="o_activity_label list-group-item list-group-item list-group-item-light d-flex justify-content-between align-items-center o_activity_color_{{key}} {{!key_first ? 'mt-2' : ''}}">
                    <strong><t t-esc="selection[key]"/></strong>
                    <span t-attf-class="badge badge-pill badge-{{contextual_class}} border-0 mr-0"><t t-esc="logs.length"/></span>
                </li>
                <t t-foreach="logs" t-as="log">
                    <t t-set="edit_class" t-value="'o_edit_activity'"/>
                    <t t-if="log.force_next">
                        <t t-set="edit_class" t-value=""/>
                    </t>
                    <t class="activities_list_group_item">
                        <t t-call="mail.activities-list-group-item"/>
                    </t>
                    <li t-attf-id="o_activity_form_{{log.id}}" class="o_activity_form list-group-item border-top-0 py-0 mb-2 collapse"/>
                </t>
            </t>
        </ul>
    </div>
    <div class="dropdown-divider m-0"/>
    <div role="menuitem" class="o_schedule_activity dropdown-header p-0 text-center">
        <button class="btn btn-secondary btn-block p-3">
            <i class="fa fa-plus fa-fw"/><strong>Schedule an activity</strong>
        </button>
    </div>
</t>

<t t-name="mail.activities-list-group-item">
    <li t-attf-class="list-group-item o_log_activity d-flex #{log_last ? 'border-bottom' : ''}" role="menuitem">
        <div t-attf-class="o_activity_title o_log_activity #{edit_class}" t-att-data-activity-id="log.id">
            <div t-attf-class="o_activity_title_entry o_mail_activity {{! log.force_next ? 'align-items-center' : 'mb-1'}}">
                <span t-attf-class="fa #{log.icon ? log.icon : 'fa-bell' } fa-fw mr-2 text-center text-muted" role="img" aria-label="Log" title="Log"/>
                <strong class="text-dark o_activity_summary"><t t-esc="log.title_action or log.summary or log.activity_type_id[1]"/></strong>
                <button t-if="! log.force_next and log.can_write" class="btn btn-sm btn-link py-0 o_edit_button"><i class="fa fa-pencil"/></button>
            </div>
            <div class="o_activity_title_entry mt-1" t-if="log.state != 'today'">
                <span class="fa fa-clock-o fa-fw mr-2 text-center text-muted" role="img" aria-label="Deadline" title="Deadline"/>
                <small t-if="log.user_id[0] !== session.uid and log.mail_template_ids" class="mr-1"><t t-esc="log.user_id[1]"/> -</small>
                <small t-att-title="log.date_deadline"><t t-esc="log.label_delay"/></small>
            </div>
            <t t-if="log.mail_template_ids">
                <div t-foreach="log.mail_template_ids" t-as="mail_template" class="o_activity_title_entry mt-2" t-att-data-activity-id="log.id" t-att-data-force-next-activity="log.force_next" t-att-data-previous-activity-type-id="log.activity_type_id[0]">
                    <i class="fa fa-envelope-o fa-fw mr-2 text-center text-muted" aria-label="Mail" title="Mail" role="img"/>
                    <small>
                        <div class="mb-1" t-esc="mail_template.name + ':'"/>
                        <a class="o_activity_template_preview" t-att-data-template-id="mail_template.id" href="#"><b>Preview</b></a>
                        <small>or</small>
                        <a class="o_activity_template_send" t-att-data-template-id="mail_template.id" href="#"><b>Send Now</b></a>
                    </small>
                </div>
            </t>
        </div>
        <div t-if="log.can_write" class="flex-grow-1 text-right">
            <t t-if="log.activity_category === 'upload_file'">
                <a t-att-data-force-next-activity="log.force_next" t-att-data-previous-activity-type-id="log.activity_type_id[0]" t-att-data-activity-id="log.id" class="o_mark_as_done_upload_file o_activity_link o_activity_link_kanban fa fa-upload" title="Upload file" role="img" t-att-data-fileupload-id="log.fileuploadID"/>
                    <span class="d-none">
                        <t t-call="HiddenInputFile">
                            <t t-set="fileupload_id" t-value="log.fileuploadID"/>
                            <t t-set="fileupload_action" t-translation="off">/web/binary/upload_attachment</t>
                            <input type="hidden" name="model" t-att-value="log.res_model"/>
                            <input type="hidden" name="id" t-att-value="log.res_id"/>
                        </t>
                    </span>
            </t>
            <t t-else="">
                <a t-att-data-force-next-activity="log.force_next" t-att-data-previous-activity-type-id="log.activity_type_id[0]" t-att-data-activity-id="log.id" t-attf-href="#o_mark_done_form{{log.id}}" class="o_mark_as_done o_activity_link o_activity_link_kanban fa fa-check-circle" data-toggle="collapse" title="Mark as done" role="img" aria-label="Mark as done"/>
            </t>
        </div>
    </li>
</t>

<div t-name="mail.EmojisDropdown" class="o_mail_emojis_dropdown o_mail_add_emoji dropdown position-relative">
        <button class="btn btn-block dropdown-toggle px-3 py-1" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Add an emoji">
            <i class="fa fa-smile-o"/>
        </button>
        <div class="dropdown-menu dropdown-menu-right border-0 p-2" style="width: 406px">
            <t t-call="mail.legacy.Composer.emojis">
                <t t-set="emojis" t-value="widget.emojis"/>
            </t>
        </div>
    </div>
<t t-name="mail.Activity" owl="1">
        <div class="o_Activity" t-on-click="_onClick">
            <t t-if="activity">
                <div class="o_Activity_sidebar">
                    <div class="o_Activity_user">
                        <t t-if="activity.assignee">
                            <img class="o_Activity_userAvatar" t-attf-src="/web/image/res.users/{{ activity.assignee.id }}/image_128" t-att-alt="activity.assignee.nameOrDisplayName"/>
                        </t>
                        <div class="o_Activity_iconContainer" t-att-class="{                                 'bg-success-full': activity.state === 'planned',                                 'bg-warning-full': activity.state === 'today',                                 'bg-danger-full': activity.state === 'overdue',                             }">
                            <i class="o_Activity_icon fa" t-attf-class="{{ activity.icon }}"/>
                        </div>
                    </div>
                </div>
                <div class="o_Activity_core">
                    <div class="o_Activity_info">
                        <div class="o_Activity_dueDateText" t-att-class="{                                 'o-default': activity.state === 'default',                                 'o-overdue': activity.state === 'overdue',                                 'o-planned': activity.state === 'planned',                                 'o-today': activity.state === 'today',                             }">
                            <t t-esc="delayLabel"/>
                        </div>
                        <t t-if="activity.summary">
                            <div class="o_Activity_summary">
                                <t t-esc="summary"/>
                            </div>
                        </t>
                        <t t-elif="activity.type">
                            <div class="o_Activity_summary o_Activity_type">
                                <t t-esc="activity.type.displayName"/>
                            </div>
                        </t>
                        <t t-if="activity.assignee">
                            <div class="o_Activity_userName">
                                <t t-esc="assignedUserText"/>
                            </div>
                        </t>
                        <a class="o_Activity_detailsButton btn btn-link" t-on-click="_onClickDetailsButton" role="button">
                            <i class="fa fa-info-circle" role="img" title="Info"/>
                        </a>
                    </div>

                    <t t-if="state.areDetailsVisible">
                        <div class="o_Activity_details">
                            <dl class="dl-horizontal">
                                <t t-if="activity.type">
                                    <dt>Activity type</dt>
                                    <dd class="o_Activity_type">
                                        <t t-esc="activity.type.displayName"/>
                                    </dd>
                                </t>
                                <t t-if="activity.creator">
                                    <dt>Created</dt>
                                    <dd class="o_Activity_detailsCreation">
                                        <t t-esc="formattedCreateDatetime"/>
                                        <img class="o_Activity_detailsUserAvatar o_Activity_detailsCreatorAvatar" t-attf-src="/web/image/res.users/{{ activity.creator.id }}/image_128" t-att-title="activity.creator.nameOrDisplayName" t-att-alt="activity.creator.nameOrDisplayName"/>
                                        <span class="o_Activity_detailsCreator">
                                            <t t-esc="activity.creator.nameOrDisplayName"/>
                                        </span>
                                    </dd>
                                </t>
                                <t t-if="activity.assignee">
                                    <dt>Assigned to</dt>
                                    <dd class="o_Activity_detailsAssignation">
                                        <img class="o_Activity_detailsUserAvatar o_Activity_detailsAssignationUserAvatar" t-attf-src="/web/image/res.users/{{ activity.assignee.id }}/image_128" t-att-title="activity.assignee.nameOrDisplayName" t-att-alt="activity.assignee.nameOrDisplayName"/>
                                        <t t-esc="activity.assignee.nameOrDisplayName"/>
                                    </dd>
                                </t>
                                <dt>Due on</dt>
                                <dd class="o_Activity_detailsDueDate">
                                    <span class="o_Activity_deadlineDateText" t-att-class="{                                             'o-default': activity.state === 'default',                                             'o-overdue': activity.state === 'overdue',                                             'o-planned': activity.state === 'planned',                                             'o-today': activity.state === 'today',                                         }">
                                        <t t-esc="formattedDeadlineDate"/>
                                    </span>
                                </dd>
                            </dl>
                        </div>
                    </t>

                    <t t-if="activity.note">
                        <div class="o_Activity_note">
                            <t t-raw="activity.note"/>
                        </div>
                    </t>

                    <t t-if="activity.mailTemplates.length &gt; 0">
                        <div class="o_Activity_mailTemplates">
                            <t t-foreach="activity.mailTemplates" t-as="mailTemplate" t-key="mailTemplate.localId">
                                <MailTemplate class="o_Activity_mailTemplate" activityLocalId="activity.localId" mailTemplateLocalId="mailTemplate.localId"/>
                            </t>
                        </div>
                    </t>

                    <t t-if="activity.canWrite">
                        <div name="tools" class="o_Activity_tools">
                            <t t-if="activity.category !== 'upload_file'">
                                <Popover position="'right'" title="MARK_DONE">
                                    <button class="o_Activity_toolButton o_Activity_markDoneButton btn btn-link" t-att-title="MARK_DONE">
                                        <i class="fa fa-check"/> Mark Done
                                    </button>
                                    <t t-set="opened">
                                        <ActivityMarkDonePopover activityLocalId="props.activityLocalId"/>
                                    </t>
                                </Popover>
                            </t>
                            <t t-else="">
                                <button class="o_Activity_toolButton o_Activity_uploadButton btn btn-link" t-on-click="_onClickUploadDocument">
                                    <i class="fa fa-upload"/> Upload Document
                                </button>
                                <FileUploader attachmentLocalIds="activity.attachments.map(attachment =&gt; attachment.localId)" uploadId="activity.thread.id" uploadModel="activity.thread.model" t-on-o-attachment-created="_onAttachmentCreated" t-ref="fileUploader"/>
                            </t>
                            <button class="o_Activity_toolButton o_Activity_editButton btn btn-link" t-on-click="_onClickEdit">
                                <i class="fa fa-pencil"/> Edit
                            </button>
                            <button class="o_Activity_toolButton o_Activity_cancelButton btn btn-link" t-on-click="_onClickCancel">
                                <i class="fa fa-times"/> Cancel
                            </button>
                        </div>
                    </t>
                </div>
            </t>
        </div>
    </t>

<t t-name="mail.ActivityBox" owl="1">
        <div class="o_ActivityBox">
            <t t-if="chatter and chatter.thread">
                <a role="button" class="o_ActivityBox_title btn" t-on-click="_onClickTitle">
                    <hr class="o_ActivityBox_titleLine"/>
                    <span class="o_ActivityBox_titleText">
                        <i class="fa fa-fw" t-att-class="chatter.isActivityBoxVisible ? 'fa-caret-down' : 'fa-caret-right'"/>
                        Planned activities
                    </span>
                    <t t-if="!chatter.isActivityBoxVisible">
                        <span class="o_ActivityBox_titleBadges">
                            <t t-if="chatter.thread.overdueActivities.length &gt; 0">
                                <span class="o_ActivityBox_titleBadge badge rounded-circle badge-danger">
                                    <t t-esc="chatter.thread.overdueActivities.length"/>
                                </span>
                            </t>
                            <t t-if="chatter.thread.todayActivities.length &gt; 0">
                                <span class="o_ActivityBox_titleBadge badge rounded-circle badge-warning">
                                    <t t-esc="chatter.thread.todayActivities.length"/>
                                </span>
                            </t>
                            <t t-if="chatter.thread.futureActivities.length &gt; 0">
                                <span class="o_ActivityBox_titleBadge badge rounded-circle badge-success">
                                    <t t-esc="chatter.thread.futureActivities.length"/>
                                </span>
                            </t>
                        </span>
                    </t>
                    <hr class="o_ActivityBox_titleLine"/>
                </a>
                <t t-if="chatter.isActivityBoxVisible">
                    <div class="o_ActivityList">
                        <t t-foreach="chatter.thread.activities" t-as="activity" t-key="activity.localId">
                            <Activity class="o_ActivityBox_activity" activityLocalId="activity.localId"/>
                        </t>
                    </div>
                </t>
            </t>
        </div>
    </t>

<t t-name="mail.ActivityMarkDonePopover" owl="1">
        <div class="o_ActivityMarkDonePopover" t-on-keydown="_onKeydown">
            <t t-if="activity">
                <textarea class="form-control o_ActivityMarkDonePopover_feedback" rows="3" placeholder="Write Feedback" t-on-blur="_onBlur" t-ref="feedbackTextarea"/>
                <div class="o_ActivityMarkDonePopover_buttons">
                    <button type="button" class="o_ActivityMarkDonePopover_doneScheduleNextButton btn btn-sm btn-primary" t-on-click="_onClickDoneAndScheduleNext" t-esc="DONE_AND_SCHEDULE_NEXT"/>
                    <t t-if="!activity.force_next">
                        <button type="button" class="o_ActivityMarkDonePopover_doneButton btn btn-sm btn-primary" t-on-click="_onClickDone">
                            Done
                        </button>
                    </t>
                    <button type="button" class="o_ActivityMarkDonePopover_discardButton btn btn-sm btn-link" t-on-click="_onClickDiscard">
                        Discard
                    </button>
                </div>
            </t>
        </div>
    </t>

<t t-name="mail.Attachment" owl="1">
        <div class="o_Attachment" t-att-class="{                 'o-downloadable': props.isDownloadable,                 'o-editable': props.isEditable,                 'o-has-card-details': attachment and detailsMode === 'card',                 'o-temporary': attachment and attachment.isTemporary,                 'o-viewable': attachment and attachment.isViewable,             }" t-att-title="attachment ? attachment.displayName : undefined" t-att-data-attachment-local-id="attachment ? attachment.localId : undefined">
            <t t-if="attachment">
                
                
                <div class="o_Attachment_image o_image" t-on-click="_onClickImage" t-att-class="{                         'o-attachment-viewable': attachment.isViewable,                         'o-details-overlay': detailsMode !== 'card',                         'o-large': props.imageSize === 'large',                         'o-medium': props.imageSize === 'medium',                         'o-small': props.imageSize === 'small',                     }" t-att-href="attachmentUrl" t-att-style="imageStyle" t-att-data-mimetype="attachment.mimetype">
                    <t t-if="(props.showFilename or props.showExtension) and detailsMode === 'hover'">
                        <div class="o_Attachment_imageOverlay">
                            <div class="o_Attachment_details o_Attachment_imageOverlayDetails">
                                <t t-if="props.showFilename">
                                    <div class="o_Attachment_filename">
                                        <t t-esc="attachment.displayName"/>
                                    </div>
                                </t>
                                <t t-if="props.showExtension">
                                    <div class="o_Attachment_extension">
                                        <t t-esc="attachment.extension"/>
                                    </div>
                                </t>
                            </div>
                            <div class="o_Attachment_actions">
                                
                                <t t-if="props.isEditable" t-key="'unlink'">
                                    <div class="o_Attachment_action o_Attachment_actionUnlink" t-att-class="{                                             'o-pretty': attachment.isLinkedToComposer,                                         }" t-on-click="_onClickUnlink" title="Remove">
                                        <i class="fa fa-times"/>
                                    </div>
                                </t>
                                
                                <t t-if="props.isDownloadable and !attachment.isTemporary" t-key="'download'">
                                    <div class="o_Attachment_action o_Attachment_actionDownload" t-on-click="_onClickDownload" title="Download">
                                        <i class="fa fa-download"/>
                                    </div>
                                </t>
                            </div>
                        </div>
                    </t>
                </div>
                
                <t t-if="(props.showFilename or props.showExtension) and detailsMode === 'card'">
                    <div class="o_Attachment_details">
                        <t t-if="props.showFilename">
                            <div class="o_Attachment_filename">
                                <t t-esc="attachment.displayName"/>
                            </div>
                        </t>
                        <t t-if="props.showExtension">
                            <div class="o_Attachment_extension">
                                <t t-esc="attachment.extension"/>
                            </div>
                        </t>
                    </div>
                </t>
                
                <t t-if="detailsMode !== 'hover' and (props.isDownloadable or props.isEditable)">
                    <div class="o_Attachment_aside" t-att-class="{ 'o-has-multiple-action': props.isDownloadable and props.isEditable }">
                        
                        <t t-if="attachment.isTemporary and attachment.isLinkedToComposer">
                            <div class="o_Attachment_asideItem o_Attachment_asideItemUploading" title="Uploading">
                                <i class="fa fa-spin fa-spinner"/>
                            </div>
                        </t>
                        
                        <t t-if="!attachment.isTemporary and attachment.isLinkedToComposer">
                            <div class="o_Attachment_asideItem o_Attachment_asideItemUploaded" title="Uploaded">
                                <i class="fa fa-check"/>
                            </div>
                        </t>
                        
                        <t t-if="props.isEditable">
                            <div class="o_Attachment_asideItem o_Attachment_asideItemUnlink" t-att-class="{ 'o-pretty': attachment.isLinkedToComposer }" t-on-click="_onClickUnlink" title="Remove">
                                <i class="fa fa-times"/>
                            </div>
                        </t>
                        
                        <t t-if="props.isDownloadable and !attachment.isTemporary">
                            <div class="o_Attachment_asideItem o_Attachment_asideItemDownload" t-on-click="_onClickDownload" title="Download">
                                <i class="fa fa-download"/>
                            </div>
                        </t>
                    </div>
                </t>
                <t t-if="state.hasDeleteConfirmDialog">
                    <AttachmentDeleteConfirmDialog attachmentLocalId="props.attachmentLocalId" t-on-dialog-closed="_onDeleteConfirmDialogClosed"/>
                </t>
            </t>
        </div>
    </t>

<t t-name="mail.AttachmentBox" owl="1">
        <div class="o_AttachmentBox">
            <div class="o_AttachmentBox_title">
                <hr class="o_AttachmentBox_dashedLine"/>
                <span class="o_AttachmentBox_titleText">
                    Attachments
                </span>
                <hr class="o_AttachmentBox_dashedLine"/>
            </div>
            <div class="o_AttachmentBox_content">
                <t t-if="isDropZoneVisible.value">
                    <DropZone class="o_AttachmentBox_dropZone" t-on-o-dropzone-files-dropped="_onDropZoneFilesDropped" t-ref="dropzone"/>
                </t>
                <t t-if="thread and thread.allAttachments.length &gt; 0">
                    <AttachmentList class="o_attachmentBox_attachmentList" areAttachmentsDownloadable="true" attachmentLocalIds="thread.allAttachments.map(attachment =&gt; attachment.localId)" attachmentsDetailsMode="'hover'" attachmentsImageSize="'small'" showAttachmentsFilenames="true" t-on-o-attachment-removed="_onAttachmentRemoved"/>
                </t>
                <button class="o_AttachmentBox_buttonAdd btn btn-link" type="button" t-on-click="_onClickAdd">
                    <i class="fa fa-plus-square"/>
                    Add attachments
                </button>
            </div>
            <t t-if="thread">
                <FileUploader attachmentLocalIds="thread.allAttachments.map(attachment =&gt; attachment.localId)" newAttachmentExtraData="newAttachmentExtraData" uploadModel="thread.model" uploadId="thread.id" t-on-o-attachment-created="_onAttachmentCreated" t-ref="fileUploader"/>
            </t>
        </div>
    </t>

<t t-name="mail.AttachmentDeleteConfirmDialog" owl="1">
        <Dialog contentClass="'o_AttachmentDeleteConfirmDialog'" title="getTitle()" size="'medium'" t-ref="dialog">
            <p class="o_AttachmentDeleteConfirmDialog_mainText" t-esc="getBody()"/>
            <t t-set-slot="buttons">
                <button class="o_AttachmentDeleteConfirmDialog_confirmButton btn btn-primary" t-on-click="_onClickOk">Ok</button>
                <button class="o_AttachmentDeleteConfirmDialog_cancelButton btn btn-secondary" t-on-click="_onClickCancel">Cancel</button>
            </t>
        </Dialog>
    </t>
<t t-name="mail.AttachmentList" owl="1">
        <div class="o_AttachmentList">
            <div class="o_AttachmentList_partialList o_AttachmentList_partialListImages">
                <t t-foreach="imageAttachments" t-as="attachment" t-key="attachment.localId">
                    <Attachment class="o_AttachmentList_attachment o_AttachmentList_imageAttachment" attachmentLocalId="attachment.localId" attachmentLocalIds="viewableAttachments.map(attachment =&gt; attachment.localId)" detailsMode="props.attachmentsDetailsMode" imageSize="props.attachmentsImageSize" isDownloadable="props.areAttachmentsDownloadable" isEditable="props.areAttachmentsEditable" showExtension="props.showAttachmentsExtensions" showFilename="props.showAttachmentsFilenames"/>
                </t>
            </div>
            <div class="o_AttachmentList_partialList o_AttachmentList_partialListNonImages">
                <t t-foreach="nonImageAttachments" t-as="attachment" t-key="attachment.localId">
                    <Attachment class="o_AttachmentList_attachment o_AttachmentList_nonImageAttachment" attachmentLocalId="attachment.localId" attachmentLocalIds="viewableAttachments.map(attachment =&gt; attachment.localId)" detailsMode="'card'" imageSize="props.attachmentsImageSize" isDownloadable="props.areAttachmentsDownloadable" isEditable="props.areAttachmentsEditable" showExtension="props.showAttachmentsExtensions" showFilename="props.showAttachmentsFilenames"/>
                </t>
            </div>
        </div>
    </t>

<t t-name="mail.AttachmentViewer" owl="1">
        <div class="o_AttachmentViewer" t-on-click="_onClick" t-on-keydown="_onKeydown" tabindex="0">
            <div class="o_AttachmentViewer_header" t-on-click="_onClickHeader">
                <t t-if="attachmentViewer.attachment.fileType">
                    <div class="o_AttachmentViewer_headerItem o_AttachmentViewer_icon">
                        <t t-if="attachmentViewer.attachment.fileType === 'image'">
                            <i class="fa fa-picture-o" role="img" title="Image"/>
                        </t>
                        <t t-if="attachmentViewer.attachment.fileType === 'application/pdf'">
                            <i class="fa fa-file-text" role="img" title="PDF file"/>
                        </t>
                        <t t-if="attachmentViewer.attachment.isTextFile">
                            <i class="fa fa-file-text" role="img" title="Text file"/>
                        </t>
                        <t t-if="attachmentViewer.attachment.fileType === 'video'">
                            <i class="fa fa-video-camera" role="img" title="Video"/>
                        </t>
                    </div>
                </t>
                <div class="o_AttachmentViewer_headerItem o_AttachmentViewer_name">
                    <t t-esc="attachmentViewer.attachment.displayName"/>
                </div>
                <div class="o_AttachmentViewer_buttonDownload o_AttachmentViewer_headerItem o_AttachmentViewer_headerItemButton" t-on-click="_onClickDownload" role="button" title="Download">
                    <i class="fa fa-download fa-fw" role="img"/>
                </div>
                <div class="o-autogrow"/>
                <div class="o_AttachmentViewer_headerItem o_AttachmentViewer_headerItemButton o_AttachmentViewer_headerItemButtonClose" t-on-click="_onClickClose" role="button" title="Close (Esc)" aria-label="Close">
                    <i class="fa fa-fw fa-times" role="img"/>
                </div>
            </div>
            <div class="o_AttachmentViewer_main" t-att-class="{ o_with_img: attachmentViewer.attachment.fileType === 'image' }" t-on-mousemove="_onMousemoveView">
                <t t-if="attachmentViewer.attachment.fileType === 'image'">
                    <div class="o_AttachmentViewer_zoomer" t-ref="zoomer">
                        <t t-if="attachmentViewer.isImageLoading">
                            <div class="o_AttachmentViewer_loading">
                                <i class="fa fa-3x fa-circle-o-notch fa-fw fa-spin" role="img" title="Loading"/>
                            </div>
                        </t>
                        <img class="o_AttachmentViewer_view o_AttachmentViewer_viewImage" t-on-click="_onClickImage" t-on-mousedown="_onMousedownImage" t-on-wheel="_onWheelImage" t-on-load="_onLoadImage" t-att-src="attachmentViewer.attachment.defaultSource" t-att-style="imageStyle" draggable="false" alt="Viewer" t-key="'image_' + attachmentViewer.attachment.id" t-ref="image_{{ attachmentViewer.attachment.id }}"/>
                    </div>
                </t>
                <t t-if="attachmentViewer.attachment.fileType === 'application/pdf'">
                    <iframe class="o_AttachmentViewer_view o_AttachmentViewer_viewIframe o_AttachmentViewer_viewPdf" t-att-src="attachmentViewer.attachment.defaultSource"/>
                </t>
                <t t-if="attachmentViewer.attachment.isTextFile">
                    <iframe class="o_AttachmentViewer_view o_AttachmentViewer_viewIframe o_text" t-att-src="attachmentViewer.attachment.defaultSource"/>
                </t>
                <t t-if="attachmentViewer.attachment.fileType === 'youtu'">
                    <iframe allow="autoplay; encrypted-media" class="o_AttachmentViewer_view o_AttachmentViewer_viewIframe o_AttachmentViewer_youtube" t-att-src="attachmentViewer.attachment.defaultSource" height="315" width="560"/>
                </t>
                <t t-if="attachmentViewer.attachment.fileType === 'video'">
                    <video class="o_AttachmentViewer_view o_AttachmentViewer_viewVideo" t-on-click="_onClickVideo" controls="controls">
                        <source t-att-data-type="attachmentViewer.attachment.mimetype" t-att-src="attachmentViewer.attachment.defaultSource"/>
                    </video>
                </t>
            </div>
            <t t-if="attachmentViewer.attachment.fileType === 'image'">
                <div class="o_AttachmentViewer_toolbar" role="toolbar">
                    <div class="o_AttachmentViewer_toolbarButton" t-on-click="_onClickZoomIn" title="Zoom In (+)" role="button">
                        <i class="fa fa-fw fa-plus" role="img"/>
                    </div>
                    <div class="o_AttachmentViewer_toolbarButton" t-att-class="{ o_disabled: attachmentViewer.scale === 1 }" t-on-click="_onClickZoomReset" role="button" title="Reset Zoom (0)">
                        <i class="fa fa-fw fa-search" role="img"/>
                    </div>
                    <div class="o_AttachmentViewer_toolbarButton" t-att-class="{ o_disabled: attachmentViewer.scale === MIN_SCALE }" t-on-click="_onClickZoomOut" title="Zoom Out (-)" role="button">
                        <i class="fa fa-fw fa-minus" role="img"/>
                    </div>
                    <div class="o_AttachmentViewer_toolbarButton" t-on-click="_onClickRotate" title="Rotate (r)" role="button">
                        <i class="fa fa-fw fa-repeat" role="img"/>
                    </div>
                    <div class="o_AttachmentViewer_toolbarButton" t-on-click="_onClickPrint" title="Print" role="button">
                        <i class="fa fa-fw fa-print" role="img"/>
                    </div>
                    <div class="o_AttachmentViewer_buttonDownload o_AttachmentViewer_toolbarButton" t-on-click="_onClickDownload" title="Download" role="button">
                        <i class="fa fa-download fa-fw" role="img"/>
                    </div>
                </div>
            </t>
            <t t-if="attachmentViewer.attachments.length &gt; 1">
                <div class="o_AttachmentViewer_buttonNavigation o_AttachmentViewer_buttonNavigationPrevious" t-on-click="_onClickPrevious" title="Previous (Left-Arrow)" role="button">
                    <span class="fa fa-chevron-left" role="img"/>
                </div>
                <div class="o_AttachmentViewer_buttonNavigation o_AttachmentViewer_buttonNavigationNext" t-on-click="_onClickNext" title="Next (Right-Arrow)" role="button">
                    <span class="fa fa-chevron-right" role="img"/>
                </div>
            </t>
        </div>
    </t>

<t t-name="mail.AutocompleteInput" owl="1">
        <input class="o_AutocompleteInput" t-on-blur="_onBlur" t-on-keydown="_onKeydown" t-att-placeholder="props.placeholder"/>
    </t>

<t t-name="mail.ChatWindow" owl="1">
        <div class="o_ChatWindow" tabindex="0" t-att-data-visible-index="chatWindow ? chatWindow.visibleIndex : undefined" t-att-class="{                 'o-focused': chatWindow and chatWindow.isFocused,                 'o-folded': chatWindow and chatWindow.isFolded,                 'o-fullscreen': props.isFullscreen,                 'o-mobile': env.messaging.device.isMobile,                 'o-new-message': chatWindow and !chatWindow.thread,             }" t-on-keydown="_onKeydown" t-on-focusout="_onFocusout" t-att-data-chat-window-local-id="chatWindow ? chatWindow.localId : undefined" t-att-data-thread-local-id="chatWindow ? (chatWindow.thread ? chatWindow.thread.localId : '') : undefined">
            <t t-if="chatWindow">
                <ChatWindowHeader class="o_ChatWindow_header" chatWindowLocalId="chatWindow.localId" hasCloseAsBackButton="props.hasCloseAsBackButton" isExpandable="props.isExpandable" t-on-o-clicked="_onClickedHeader" t-ref="header"/>
                <t t-if="chatWindow.threadView">
                    <ThreadView class="o_ChatWindow_thread" composerAttachmentsDetailsMode="'card'" hasComposer="chatWindow.thread.model !== 'mail.box' and (!chatWindow.thread.mass_mailing or env.messaging.device.isMobile)" hasComposerCurrentPartnerAvatar="false" hasComposerSendButton="env.messaging.device.isMobile" hasSquashCloseMessages="chatWindow.thread.model !== 'mail.box'" threadViewLocalId="chatWindow.threadView.localId" t-on-focusin="_onFocusinThread" t-ref="thread"/>
                </t>
                <t t-if="chatWindow.hasNewMessageForm">
                    <div class="o_ChatWindow_newMessageForm">
                        <span class="o_ChatWindow_newMessageFormLabel">
                            To:
                        </span>
                        <AutocompleteInput class="o_ChatWindow_newMessageFormInput" placeholder="newMessageFormInputPlaceholder" select="_onAutocompleteSelect" source="_onAutocompleteSource" t-ref="input"/>
                    </div>
                </t>
            </t>
        </div>
    </t>

<t t-name="mail.ChatWindowHeader" owl="1">
        <div class="o_ChatWindowHeader" t-att-class="{ 'o-mobile': env.messaging.device.isMobile }" t-on-click="_onClick">
            <t t-if="chatWindow">
                <t t-if="props.hasCloseAsBackButton">
                    <div class="o_ChatWindowHeader_command o_ChatWindowHeader_commandBack o_ChatWindowHeader_commandClose" t-att-class="{ 'o-mobile': env.messaging.device.isMobile }" t-on-click="_onClickClose" title="Close conversation">
                        <i class="fa fa-arrow-left"/>
                    </div>
                </t>
                <t t-if="chatWindow.thread and chatWindow.thread.model === 'mail.channel'">
                    <ThreadIcon class="o_ChatWindowHeader_icon o_ChatWindowHeader_item" threadLocalId="chatWindow.thread.localId"/>
                </t>
                <div class="o_ChatWindowHeader_item o_ChatWindowHeader_name" t-att-title="chatWindow.name">
                    <t t-esc="chatWindow.name"/>
                </div>
                <t t-if="chatWindow.thread and chatWindow.thread.mass_mailing">
                    <i class="fa fa-envelope-o" title="Messages are sent by email" role="img"/>
                </t>
                <t t-if="chatWindow.thread and chatWindow.thread.localMessageUnreadCounter &gt; 0">
                    <div class="o_ChatWindowHeader_counter o_ChatWindowHeader_item">
                        (<t t-esc="chatWindow.thread.localMessageUnreadCounter"/>)
                    </div>
                </t>
                <div class="o-autogrow"/>
                <div class="o_ChatWindowHeader_item o_ChatWindowHeader_rightArea">
                    <t t-if="chatWindow.hasShiftLeft">
                        <div class="o_ChatWindowHeader_command o_ChatWindowHeader_commandShiftLeft" t-att-class="{ 'o-mobile': env.messaging.device.isMobile }" t-on-click="_onClickShiftLeft" title="Shift left">
                            <i class="fa fa-angle-left"/>
                        </div>
                    </t>
                    <t t-if="chatWindow.hasShiftRight">
                        <div class="o_ChatWindowHeader_command o_ChatWindowHeader_commandShiftRight" t-att-class="{ 'o-mobile': env.messaging.device.isMobile }" t-on-click="_onClickShiftRight" title="Shift right">
                            <i class="fa fa-angle-right"/>
                        </div>
                    </t>
                    <t t-if="props.isExpandable">
                        <div class="o_ChatWindowHeader_command o_ChatWindowHeader_commandExpand" t-att-class="{ 'o-mobile': env.messaging.device.isMobile }" t-on-click="_onClickExpand" title="Open in Discuss">
                            <i class="fa fa-expand"/>
                        </div>
                    </t>
                    <t t-if="!props.hasCloseAsBackButton">
                        <div class="o_ChatWindowHeader_command o_ChatWindowHeader_commandClose" t-att-class="{ 'o-mobile': env.messaging.device.isMobile }" t-on-click="_onClickClose" title="Close chat window">
                            <i class="fa fa-close"/>
                        </div>
                    </t>
                </div>
            </t>
        </div>
    </t>

<t t-name="mail.ChatWindowHiddenMenu" owl="1">
        <div class="dropup o_ChatWindowHiddenMenu">
            <div class="dropdown-toggle o_ChatWindowHiddenMenu_dropdownToggle" t-att-class="{ show: env.messaging.chatWindowManager.isHiddenMenuOpen }" t-on-click="_onClickToggle">
                <div class="fa fa-comments-o o_ChatWindowHiddenMenu_dropdownToggleIcon o_ChatWindowHiddenMenu_dropdownToggleItem"/>
                <div class="o_ChatWindowHiddenMenu_dropdownToggleItem o_ChatWindowHiddenMenu_windowCounter">
                    <t t-esc="env.messaging.chatWindowManager.allOrderedHidden.length"/>
                </div>
            </div>
            <ul class="dropdown-menu dropdown-menu-right o_ChatWindowHiddenMenu_list" t-att-class="{ show: env.messaging.chatWindowManager.isHiddenMenuOpen }" role="menu" t-ref="list">
                <t t-foreach="env.messaging.chatWindowManager.allOrderedHidden" t-as="chatWindow" t-key="chatWindow.localId">
                    <li class="o_ChatWindowHiddenMenu_listItem" role="menuitem">
                        <ChatWindowHeader class="o_ChatWindowHiddenMenu_chatWindowHeader" chatWindowLocalId="chatWindow.localId" t-on-o-clicked="_onClickedChatWindow"/>
                    </li>
                </t>
            </ul>
            <t t-if="env.messaging.chatWindowManager.unreadHiddenConversationAmount &gt; 0">
                <div class="badge badge-pill o_ChatWindowHiddenMenu_unreadCounter">
                    <t t-esc="env.messaging.chatWindowManager.unreadHiddenConversationAmount"/>
                </div>
            </t>
        </div>
    </t>

<t t-name="mail.ChatWindowManager" owl="1">
        <div class="o_ChatWindowManager">
            <t t-if="env.isMessagingInitialized()">
                
                <t t-if="env.messaging.chatWindowManager.hasHiddenChatWindows">
                    <ChatWindowHiddenMenu class="o_ChatWindowManager_hiddenMenu"/>
                </t>
                <t t-foreach="env.messaging.chatWindowManager.allOrderedVisible" t-as="chatWindow" t-key="chatWindow.localId">
                    <ChatWindow chatWindowLocalId="chatWindow.localId" hasCloseAsBackButton="env.messaging.device.isMobile" isExpandable="!env.messaging.device.isMobile and !!chatWindow.thread" isFullscreen="env.messaging.device.isMobile"/>
                </t>
            </t>
        </div>
    </t>

<t t-name="mail.Chatter" owl="1">
        <div class="o_Chatter">
            <t t-if="chatter">
                <div class="o_Chatter_fixedPanel">
                    <ChatterTopbar class="o_Chatter_topbar" chatterLocalId="chatter.localId"/>
                    <t t-if="chatter.threadView and chatter.isComposerVisible">
                        <Composer class="o_Chatter_composer" t-att-class="{ 'o-bordered': chatter.hasExternalBorder }" composerLocalId="chatter.thread.composer.localId" hasFollowers="true" hasMentionSuggestionsBelowPosition="true" isCompact="false" isExpandable="true" textInputSendShortcuts="['ctrl-enter', 'meta-enter']" t-on-o-message-posted="_onComposerMessagePosted" t-ref="composer"/>
                    </t>
                </div>
                <div class="o_Chatter_scrollPanel" t-on-scroll="_onScrollPanelScroll" t-ref="scrollPanel">
                    <t t-if="chatter.isAttachmentBoxVisible">
                        <AttachmentBox class="o_Chatter_attachmentBox" threadLocalId="chatter.thread.localId"/>
                    </t>
                    <t t-if="chatter.thread and chatter.hasActivities and chatter.thread.activities.length &gt; 0">
                        <ActivityBox class="o_Chatter_activityBox" chatterLocalId="chatter.localId"/>
                    </t>
                    <t t-if="chatter.threadView">
                        <ThreadView class="o_Chatter_thread" getScrollableElement="getScrollableElement" hasComposer="false" hasScrollAdjust="chatter.hasMessageListScrollAdjust" order="'desc'" threadViewLocalId="chatter.threadView.localId" t-ref="thread"/>
                    </t>
                </div>
            </t>
        </div>
    </t>

<t t-name="mail.ChatterContainer" owl="1">
        <div class="o_ChatterContainer">
            <t t-if="chatter">
                <Chatter chatterLocalId="chatter.localId"/>
            </t>
            <t t-else="">
                <div class="o_ChatterContainer_noChatter"><i class="o_ChatterContainer_noChatterIcon fa fa-spinner fa-spin"/>Please wait...</div>
            </t>
        </div>
    </t>

<t t-name="mail.ChatterTopbar" owl="1">
        <div class="o_ChatterTopbar">
            <t t-if="chatter">
                <div class="o_ChatterTopbar_actions" t-att-class="{'o-has-active-button': chatter.isComposerVisible }">
                    <t t-if="chatter.threadView">
                        <button class="btn btn-link o_ChatterTopbar_button o_ChatterTopbar_buttonSendMessage" type="button" t-att-class="{                                 'o-active': chatter.isComposerVisible and chatter.composer and !chatter.composer.isLog,                                 'o-bordered': chatter.hasExternalBorder,                             }" t-att-disabled="chatter.isDisabled" t-on-click="_onClickSendMessage">
                            Send message
                        </button>
                        <button class="btn btn-link o_ChatterTopbar_button o_ChatterTopbar_buttonLogNote" type="button" t-att-class="{                                 'o-active': chatter.isComposerVisible and chatter.composer and chatter.composer.isLog,                                 'o-bordered': chatter.hasExternalBorder,                             }" t-att-disabled="chatter.isDisabled" t-on-click="_onClickLogNote">
                            Log note
                        </button>
                    </t>
                    <t t-if="chatter.hasActivities">
                        <button class="btn btn-link o_ChatterTopbar_button o_ChatterTopbar_buttonScheduleActivity" type="button" t-att-disabled="chatter.isDisabled" t-on-click="_onClickScheduleActivity">
                            <i class="fa fa-clock-o"/>
                            Schedule activity
                        </button>
                    </t>
                    <div class="o-autogrow"/>
                        <div class="o_ChatterTopbar_rightSection">
                            <button class="btn btn-link o_ChatterTopbar_button o_ChatterTopbar_buttonAttachments" type="button" t-att-disabled="chatter.isDisabled" t-on-click="_onClickAttachments">
                                <i class="fa fa-paperclip"/>
                                <t t-if="chatter.isDisabled or !chatter.isShowingAttachmentsLoading">
                                    <span class="o_ChatterTopbar_buttonCount o_ChatterTopbar_buttonAttachmentsCount" t-esc="chatter.thread ? chatter.thread.allAttachments.length : 0"/>
                                </t>
                                <t t-else="">
                                    <i class="o_ChatterTopbar_buttonAttachmentsCountLoader fa fa-spinner fa-spin" aria-label="Attachment counter loading..."/>
                                </t>
                            </button>
                            <t t-if="chatter.hasFollowers and chatter.thread">
                                <t t-if="chatter.thread.channel_type !== 'chat'">
                                    <FollowButton class="o_ChatterTopbar_button o_ChatterTopbar_followButton" isDisabled="chatter.isDisabled" threadLocalId="chatter.thread.localId"/>
                                </t>
                                <FollowerListMenu class="o_ChatterTopbar_button o_ChatterTopbar_followerListMenu" isDisabled="chatter.isDisabled" threadLocalId="chatter.thread.localId"/>
                            </t>
                        </div>
                </div>
                <t t-if="chatter.hasTopbarCloseButton">
                    <div class="o_ChatterTopbar_buttonClose" title="Close" t-on-click="_onClickClose">
                        <i class="fa fa-times"/>
                    </div>
                </t>
            </t>
        </div>
    </t>

<t t-name="mail.Composer" owl="1">
        <div class="o_Composer" t-att-class="{                 'o-focused': composer and composer.hasFocus,                 'o-has-current-partner-avatar': props.hasCurrentPartnerAvatar,                 'o-has-footer': hasFooter,                 'o-has-header': hasHeader,                 'o-is-compact': props.isCompact,             }" t-on-keydown="_onKeydown">
            <t t-if="composer">
                <t t-if="isDropZoneVisible.value">
                    <DropZone class="o_Composer_dropZone" t-on-o-dropzone-files-dropped="_onDropZoneFilesDropped" t-ref="dropzone"/>
                </t>
                <FileUploader attachmentLocalIds="composer.attachments.map(attachment =&gt; attachment.localId)" newAttachmentExtraData="newAttachmentExtraData" t-ref="fileUploader"/>
                <t t-if="hasHeader">
                    <div class="o_Composer_coreHeader">
                        <t t-if="props.hasThreadName and composer.thread">
                            <span class="o_Composer_threadName">
                                on: <b><t t-esc="composer.thread.displayName"/></b>
                            </span>
                        </t>
                        <t t-if="props.hasFollowers and !composer.isLog">
                            
                            <small class="o_Composer_followers">
                                <b class="text-muted">To: </b>
                                <em class="text-muted">Followers of </em>
                                <b>
                                    <t t-if="composer.thread and composer.thread.name">
                                         "<t t-esc="composer.thread.name"/>"
                                    </t>
                                    <t t-else="">
                                        this document
                                    </t>
                                </b>
                            </small>
                            <ComposerSuggestedRecipientList threadLocalId="composer.thread.localId"/>
                        </t>
                    </div>
                </t>
                <t t-if="composer.thread and composer.thread.model === 'mail.channel' and composer.thread.mass_mailing">
                    <div class="o_Composer_subject">
                        <input class="o_Composer_subjectInput" type="text" placeholder="Subject" t-on-input="_onInputSubject" t-ref="subject"/>
                    </div>
                </t>
                <t t-if="props.hasCurrentPartnerAvatar">
                    <div class="o_Composer_sidebarMain">
                        <img class="o_Composer_currentPartnerAvatar rounded-circle" t-att-src="currentPartnerAvatar" alt=""/>
                    </div>
                </t>
                <div class="o_Composer_coreMain" t-att-class="{                         'o-composer-is-compact': props.isCompact,                         'o-composer-is-extended': composer.thread and composer.thread.mass_mailing,                     }">
                    <TextInput class="o_Composer_textInput" t-att-class="{                             'o-composer-is-compact': props.isCompact,                             'o_Composer_textInput-mobile': env.messaging.device.isMobile,                             'o-has-current-partner-avatar': props.hasCurrentPartnerAvatar,                         }" composerLocalId="composer.localId" hasMentionSuggestionsBelowPosition="props.hasMentionSuggestionsBelowPosition" isCompact="props.isCompact" sendShortcuts="props.textInputSendShortcuts" t-on-o-composer-suggestion-clicked="_onComposerSuggestionClicked" t-on-o-composer-text-input-send-shortcut="_onComposerTextInputSendShortcut" t-on-paste="_onPasteTextInput" t-key="composer.localId" t-ref="textInput"/>
                    <div class="o_Composer_buttons" t-att-class="{ 'o-composer-is-compact': props.isCompact, 'o-mobile': env.messaging.device.isMobile }">
                        <div class="o_Composer_toolButtons" t-att-class="{                                 'o-composer-has-current-partner-avatar': props.hasCurrentPartnerAvatar,                                 'o-composer-is-compact': props.isCompact,                             }">
                            <t t-if="props.isCompact">
                                <div class="o_Composer_toolButtonSeparator"/>
                            </t>
                            <div class="o_Composer_primaryToolButtons" t-att-class="{ 'o-composer-is-compact': props.isCompact }">
                                <Popover position="'top'" t-on-o-emoji-selection="_onEmojiSelection">
                                    
                                    <button class="o_Composer_button o_Composer_buttonEmojis o_Composer_toolButton btn btn-light" t-att-class="{                                             'o-open': false and state.displayed,                                             'o-mobile': env.messaging.device.isMobile,                                         }" t-on-keydown="_onKeydownEmojiButton">
                                        <i class="fa fa-smile-o"/>
                                    </button>
                                    <t t-set="opened">
                                        <EmojisPopover t-ref="emojisPopover"/>
                                    </t>
                                </Popover>
                                <button class="o_Composer_button o_Composer_buttonAttachment o_Composer_toolButton btn btn-light fa fa-paperclip" t-att-class="{ 'o-mobile': env.messaging.device.isMobile }" title="Add attachment" type="button" t-on-click="_onClickAddAttachment"/>
                            </div>
                            <t t-if="props.isExpandable">
                                <div class="o_Composer_secondaryToolButtons">
                                    <button class="btn btn-light fa fa-expand o_Composer_button o_Composer_buttonFullComposer o_Composer_toolButton" t-att-class="{ 'o-mobile': env.messaging.device.isMobile }" title="Full composer" type="button" t-on-click="_onClickFullComposer"/>
                                </div>
                            </t>
                        </div>
                        <t t-if="props.isCompact">
                            <t t-call="mail.Composer.actionButtons"/>
                        </t>
                    </div>
                </div>
                <t t-if="hasFooter">
                    <div class="o_Composer_coreFooter" t-att-class="{ 'o-composer-is-compact': props.isCompact }">
                        <t t-if="props.hasThreadTyping">
                            <ThreadTextualTypingStatus class="o_Composer_threadTextualTypingStatus" threadLocalId="composer.thread.localId"/>
                        </t>
                        <t t-if="composer.attachments.length &gt; 0">
                            <AttachmentList class="o_Composer_attachmentList" t-att-class="{ 'o-composer-is-compact': props.isCompact }" areAttachmentsEditable="true" attachmentsDetailsMode="props.attachmentsDetailsMode" attachmentsImageSize="'small'" attachmentLocalIds="composer.attachments.map(attachment =&gt; attachment.localId)" showAttachmentsExtensions="props.showAttachmentsExtensions" showAttachmentsFilenames="props.showAttachmentsFilenames"/>
                        </t>
                        <t t-if="!props.isCompact">
                            <t t-call="mail.Composer.actionButtons"/>
                        </t>
                    </div>
                </t>
            </t>
        </div>
    </t>

    <t t-name="mail.Composer.actionButtons" owl="1">
        <div class="o_Composer_actionButtons" t-att-class="{ 'o-composer-is-compact': props.isCompact }">
            <t t-if="props.hasSendButton">
                <button class="o_Composer_actionButton o_Composer_button o_Composer_buttonSend btn btn-primary" t-att-class="{                         'fa': env.messaging.device.isMobile,                         'fa-paper-plane-o': env.messaging.device.isMobile,                         'o-last': env.messaging.device.isMobile or !props.hasDiscardButton,                         'o-composer-is-compact': props.isCompact,                         'o-has-current-partner-avatar': props.hasCurrentPartnerAvatar,                     }" t-att-disabled="!composer.canPostMessage ? 'disabled' : ''" type="button" t-on-click="_onClickSend">
                    <t t-if="!env.messaging.device.isMobile"><t t-if="composer.isLog">Log</t><t t-else="">Send</t></t>
                </button>
            </t>
            <t t-if="!env.messaging.device.isMobile and props.hasDiscardButton">
                <button class="o_Composer_actionButton o-last o_Composer_button o_Composer_buttonDiscard btn btn-secondary" t-att-class="{ 'o-composer-is-compact': props.isCompact, 'o-has-current-partner-avatar': props.hasCurrentPartnerAvatar }" type="button" t-on-click="_onClickDiscard">
                    Discard
                </button>
            </t>
        </div>
    </t>

<t t-name="mail.ComposerSuggestedRecipient" owl="1">
        <div class="o_ComposerSuggestedRecipient" t-att-data-partner-id="suggestedRecipientInfo.partner and suggestedRecipientInfo.partner.id ? suggestedRecipientInfo.partner.id : false" t-att-title="ADD_AS_RECIPIENT_AND_FOLLOWER_REASON">
            <t t-if="suggestedRecipientInfo">
                <div class="custom-control custom-checkbox">
                    <input t-attf-id="{{ id }}_checkbox" class="custom-control-input" type="checkbox" t-att-checked="suggestedRecipientInfo.isSelected ? 'checked' : undefined" t-on-change="_onChangeCheckbox" t-ref="checkbox"/>
                    <label class="custom-control-label" t-attf-for="{{ id }}_checkbox">
                        <t t-if="suggestedRecipientInfo.name">
                            <t t-esc="suggestedRecipientInfo.name"/>
                        </t>
                        <t t-if="suggestedRecipientInfo.email">
                            (<t t-esc="suggestedRecipientInfo.email"/>)
                        </t>
                    </label>
                </div>
                <t t-if="!suggestedRecipientInfo.partner">
                    <FormViewDialogComponentAdapter Component="FormViewDialog" params="{                             context: {                                 active_id: suggestedRecipientInfo.thread.id,                                 active_model: 'mail.compose.message',                                 default_email: suggestedRecipientInfo.email,                                 default_name: suggestedRecipientInfo.name,                                 force_email: true,                                 ref: 'compound_context',                             },                             disable_multiple_selection: true,                             on_saved: _onDialogSaved,                             res_id: false,                             res_model: 'res.partner',                             title: PLEASE_COMPLETE_CUSTOMER_S_INFORMATION,                         }" t-ref="dialog"/>
                </t>
            </t>
        </div>
    </t>
<t t-name="mail.ComposerSuggestedRecipientList" owl="1">
        <div class="o_ComposerSuggestedRecipientList">
            <t t-if="thread">
                <t t-foreach="state.hasShowMoreButton ? thread.suggestedRecipientInfoList : thread.suggestedRecipientInfoList.slice(0,3)" t-as="recipientInfo" t-key="recipientInfo.localId">
                    <ComposerSuggestedRecipient suggestedRecipientInfoLocalId="recipientInfo.localId"/>
                </t>
                <t t-if="thread.suggestedRecipientInfoList.length &gt; 3">
                    <t t-if="!state.hasShowMoreButton">
                        <button class="o_ComposerSuggestedRecipientList_showMore btn btn-sm btn-link" t-on-click="_onClickShowMore">
                            Show more
                        </button>
                    </t>
                    <t t-else="">
                        <button class="o_ComposerSuggestedRecipientList_showLess btn btn-sm btn-link" t-on-click="_onClickShowLess">
                            Show less
                        </button>
                    </t>
                </t>
            </t>
        </div>
    </t>
<t t-name="mail.ComposerSuggestion" owl="1">
        <a class="o_ComposerSuggestion dropdown-item" t-att-class="{ 'active': props.isActive }" href="#" t-att-title="title()" role="menuitem" t-on-click="_onClick">
            <t t-if="record">
                <t t-if="isCannedResponse">
                    <span class="o_ComposerSuggestion_part1"><t t-esc="record.source"/></span>
                    <span class="o_ComposerSuggestion_part2"><t t-esc="record.substitution"/></span>
                </t>
                <t t-if="isChannel">
                    <span class="o_ComposerSuggestion_part1"><t t-esc="record.name"/></span>
                </t>
                <t t-if="isCommand">
                    <span class="o_ComposerSuggestion_part1"><t t-esc="record.name"/></span>
                    <span class="o_ComposerSuggestion_part2"><t t-esc="record.help"/></span>
                </t>
                <t t-if="isPartner">
                    <PartnerImStatusIcon class="o_ComposerSuggestion_partnerImStatusIcon" hasBackground="false" partnerLocalId="record.localId"/>
                    <span class="o_ComposerSuggestion_part1"><t t-esc="record.nameOrDisplayName"/></span>
                    <t t-if="record.email">
                        <span class="o_ComposerSuggestion_part2">(<t t-esc="record.email"/>)</span>
                    </t>
                </t>
            </t>
        </a>
    </t>

<t t-name="mail.ComposerSuggestionList" owl="1">
        <div class="o_ComposerSuggestionList" t-att-class="{ 'o-lowPosition': props.isBelow }">
            <div class="o_ComposerSuggestionList_drop" t-att-class="{ 'dropdown': props.isBelow, 'dropup': !props.isBelow }">
                <div class="o_ComposerSuggestionList_list dropdown-menu show">
                    <t t-foreach="composer.mainSuggestedRecords" t-as="record" t-key="record.localId">
                        <ComposerSuggestion composerLocalId="props.composerLocalId" isActive="record === composer.activeSuggestedRecord" modelName="composer.suggestionModelName" recordLocalId="record.localId"/>
                    </t>
                    <t t-if="composer.mainSuggestedRecords.length &gt; 0 and composer.extraSuggestedRecords.length &gt; 0">
                        <div role="separator" class="dropdown-divider"/>
                    </t>
                    <t t-foreach="composer.extraSuggestedRecords" t-as="record" t-key="record.localId">
                        <ComposerSuggestion composerLocalId="props.composerLocalId" isActive="record === composer.activeSuggestedRecord" modelName="composer.suggestionModelName" recordLocalId="record.localId"/>
                    </t>
                </div>
            </div>
        </div>
    </t>

<t t-name="mail.ComposerTextInput" owl="1">
        <div class="o_ComposerTextInput">
            <t t-if="composer">
                <t t-if="composer.hasSuggestions">
                    <ComposerSuggestionList composerLocalId="props.composerLocalId" isBelow="props.hasMentionSuggestionsBelowPosition"/>
                </t>
                <textarea class="o_ComposerTextInput_textarea o_ComposerTextInput_textareaStyle" t-att-class="{ 'o-composer-is-compact': props.isCompact }" t-esc="composer.textInputContent" t-att-placeholder="textareaPlaceholder" t-on-click="_onClickTextarea" t-on-focusin="_onFocusinTextarea" t-on-focusout="_onFocusoutTextarea" t-on-keydown="_onKeydownTextarea" t-on-keyup="_onKeyupTextarea" t-on-input="_onInputTextarea" t-ref="textarea"/>
                
                <textarea class="o_ComposerTextInput_mirroredTextarea o_ComposerTextInput_textareaStyle" t-att-class="{ 'o-composer-is-compact': props.isCompact }" t-esc="composer.textInputContent" t-ref="mirroredTextarea" disabled="1"/>
            </t>
        </div>
    </t>

<t t-name="mail.Dialog" owl="1">
        <div class="o_Dialog">
            <t t-if="dialog">
                <t t-if="dialog.record">
                    <t t-component="{{ dialog.record['constructor'].name }}" class="o_Dialog_component" t-props="{ localId: dialog.record.localId }" t-ref="component"/>
                </t>
                <t t-else="">
                    <span>Only dialog linked to a record is currently supported!</span>
                </t>
            </t>
        </div>
    </t>

<t t-name="mail.DialogManager" owl="1">
        <div class="o_DialogManager">
            <t t-if="env.messaging">
                <t t-foreach="env.messaging.dialogManager.dialogs" t-as="dialog" t-key="dialog.localId">
                    <Dialog class="o_DialogManager_dialog" dialogLocalId="dialog.localId"/>
                </t>
            </t>
        </div>
    </t>

<t t-name="mail.Discuss" owl="1">
        <div class="o_Discuss" t-att-class="{                 'o-adding-item': discuss ? discuss.isAddingChannel or discuss.isAddingChat : false,                 'o-mobile': env.messaging ? env.messaging.device.isMobile : false,             }">
            <t t-if="!env.isMessagingInitialized()">
                <div class="o_Discuss_messagingNotInitialized"><i class="o_Discuss_messagingNotInitializedIcon fa fa-spinner fa-spin"/>Please wait...</div>
            </t>
            <t t-else="">
                <t t-if="!env.messaging.device.isMobile">
                    <DiscussSidebar class="o_Discuss_sidebar"/>
                </t>
                <t t-if="env.messaging.device.isMobile" t-call="mail.Discuss.content"/>
                <t t-else="">
                    <div class="o_Discuss_content">
                        <t t-call="mail.Discuss.content"/>
                    </div>
                </t>
                <t t-if="discuss.hasModerationDiscardDialog">
                    <ModerationDiscardDialog messageLocalIds="discuss.threadView.checkedMessages.map(message =&gt; message.localId)" t-on-dialog-closed="_onDialogClosedModerationDiscard"/>
                </t>
                <t t-if="discuss.hasModerationRejectDialog">
                    <ModerationRejectDialog messageLocalIds="discuss.threadView.checkedMessages.map(message =&gt; message.localId)" t-on-dialog-closed="_onDialogClosedModerationReject"/>
                </t>
            </t>
        </div>
    </t>

    <t t-name="mail.Discuss.content" owl="1">
        <t t-if="env.messaging.device.isMobile and discuss.activeMobileNavbarTabId === 'mailbox'">
            <DiscussMobileMailboxSelection class="o_Discuss_mobileMailboxSelection"/>
        </t>
        <t t-if="env.messaging.device.isMobile and (discuss.isAddingChannel or discuss.isAddingChat)">
            <div class="o_Discuss_mobileAddItemHeader">
                <AutocompleteInput class="o_Discuss_mobileAddItemHeaderInput" isFocusOnMount="true" isHtml="discuss.isAddingChannel" placeholder="discuss.isAddingChannel ? addChannelInputPlaceholder : addChatInputPlaceholder" select="_onMobileAddItemHeaderInputSelect" source="_onMobileAddItemHeaderInputSource" t-on-o-hide="_onHideMobileAddItemHeader"/>
            </div>
        </t>
        <t t-if="discuss.threadView">
            <ThreadView class="o_Discuss_thread" t-att-class="{ 'o-mobile': env.messaging.device.isMobile }" composerAttachmentsDetailsMode="'card'" hasComposer="discuss.thread.model !== 'mail.box'" hasComposerCurrentPartnerAvatar="!env.messaging.device.isMobile" hasComposerThreadTyping="true" hasMessageCheckbox="true" hasSquashCloseMessages="discuss.thread.model !== 'mail.box'" haveMessagesMarkAsReadIcon="discuss.thread === env.messaging.inbox" haveMessagesReplyIcon="discuss.thread === env.messaging.inbox" isDoFocus="discuss.isDoFocus" selectedMessageLocalId="discuss.replyingToMessage and discuss.replyingToMessage.localId" threadViewLocalId="discuss.threadView.localId" t-on-o-focusin-composer="_onFocusinComposer" t-on-o-rendered="_onThreadRendered" t-ref="threadView"/>
        </t>
        <t t-if="!discuss.thread and (!env.messaging.device.isMobile or discuss.activeMobileNavbarTabId === 'mailbox')">
            <div class="o_Discuss_noThread">
                No conversation selected.
            </div>
        </t>
        <t t-if="env.messaging.device.isMobile and discuss.activeMobileNavbarTabId !== 'mailbox'">
            <NotificationList class="o_Discuss_notificationList" filter="discuss.activeMobileNavbarTabId"/>
        </t>
        <t t-if="env.messaging.device.isMobile and !discuss.isReplyingToMessage">
            <MobileMessagingNavbar class="o_Discuss_mobileNavbar" activeTabId="discuss.activeMobileNavbarTabId" tabs="mobileNavbarTabs()" t-on-o-select-mobile-messaging-navbar-tab="_onSelectMobileNavbarTab"/>
        </t>
        <t t-if="discuss.isReplyingToMessage">
            <Composer class="o_Discuss_replyingToMessageComposer" composerLocalId="discuss.replyingToMessage.originThread.composer.localId" hasCurrentPartnerAvatar="!env.messaging.device.isMobile" hasDiscardButton="true" hasThreadName="true" isDoFocus="discuss.isDoFocus" textInputSendShortcuts="['ctrl-enter', 'meta-enter']" t-on-o-focusin-composer="_onFocusinComposer" t-on-o-message-posted="_onReplyingToMessageMessagePosted" t-ref="composer"/>
        </t>
    </t>

<t t-name="mail.DiscussMobileMailboxSelection" owl="1">
        <div class="o_DiscussMobileMailboxSelection">
            <t t-foreach="orderedMailboxes" t-as="mailbox" t-key="mailbox.localId">
                <button class="o_DiscussMobileMailboxSelection_button btn" t-att-class="{                         'btn-primary': discuss.thread === mailbox,                         'btn-secondary': discuss.thread !== mailbox,                         'o-active': discuss.thread === mailbox,                     }" t-on-click="_onClick" t-att-data-mailbox-local-id="mailbox.localId" type="button">
                    <t t-esc="mailbox.name"/>
                </button>
            </t>
        </div>
    </t>

<t t-name="mail.DiscussSidebar" owl="1">
        <div name="root" class="o_DiscussSidebar">
            <div class="o_DiscussSidebar_group o_DiscussSidebar_groupMailbox">
                <t t-foreach="orderedMailboxes" t-as="mailbox" t-key="mailbox.localId">
                    <DiscussSidebarItem class="o_DiscussSidebar_item" threadLocalId="mailbox.localId"/>
                </t>
            </div>
            <hr class="o_DiscussSidebar_separator"/>
            <t t-if="env.models['mail.thread'].all(thread =&gt; thread.isPinned and thread.model === 'mail.channel').length &gt; 19">
                <input class="o_DiscussSidebar_quickSearch" t-on-input="_onInputQuickSearch" placeholder="Quick search..." t-ref="quickSearchInput" t-esc="discuss.sidebarQuickSearchValue"/>
            </t>
            <div class="o_DiscussSidebar_group o_DiscussSidebar_groupChannel">
                <div class="o_DiscussSidebar_groupHeader">
                    <div class="o_DiscussSidebar_groupHeaderItem o_DiscussSidebar_groupTitle o-clickable" t-on-click="_onClickChannelTitle">
                        Channels
                    </div>
                    <div class="o-autogrow"/>
                    <div class="o_DiscussSidebar_groupHeaderItem o_DiscussSidebar_groupHeaderItemAdd fa fa-plus" t-on-click="_onClickChannelAdd" title="Add or join a channel"/>
                </div>
                <div class="o_DiscussSidebar_list">
                    <t t-if="discuss.isAddingChannel">
                        <div class="o_DiscussSidebar_item o_DiscussSidebar_itemNew">
                            <AutocompleteInput class="o_DiscussSidebar_itemNewInput" customClass="'o_DiscussSidebar_newChannelAutocompleteSuggestions'" isFocusOnMount="true" isHtml="true" placeholder="FIND_OR_CREATE_CHANNEL" select="_onAddChannelAutocompleteSelect" source="_onAddChannelAutocompleteSource" t-on-o-hide="_onHideAddingItem"/>
                        </div>
                    </t>
                    <t t-foreach="quickSearchOrderedAndPinnedMultiUserChannels" t-as="channel" t-key="channel.localId">
                        <DiscussSidebarItem class="o_DiscussSidebar_item" threadLocalId="channel.localId"/>
                    </t>
                </div>
            </div>
            <div class="o_DiscussSidebar_group o_DiscussSidebar_groupChat">
                <div class="o_DiscussSidebar_groupHeader">
                    <div class="o_DiscussSidebar_groupHeaderItem o_DiscussSidebar_groupTitle">
                        Direct Messages
                    </div>
                    <div class="o-autogrow"/>
                    <div class="o_DiscussSidebar_groupHeaderItem o_DiscussSidebar_groupHeaderItemAdd fa fa-plus" t-on-click="_onClickChatAdd" title="Start a conversation"/>
                </div>
                <div class="o_DiscussSidebar_list">
                    <t t-if="discuss.isAddingChat">
                        <div class="o_DiscussSidebar_item o_DiscussSidebar_itemNew">
                            <AutocompleteInput class="o_DiscussSidebar_itemNewInput" isFocusOnMount="true" placeholder="'Find or start a conversation...'" select="_onAddChatAutocompleteSelect" source="_onAddChatAutocompleteSource" t-on-o-hide="_onHideAddingItem"/>
                        </div>
                    </t>
                    <t t-foreach="quickSearchPinnedAndOrderedChats" t-as="chat" t-key="chat.localId">
                        <DiscussSidebarItem class="o_DiscussSidebar_item" threadLocalId="chat.localId"/>
                    </t>
                </div>
            </div>
        </div>
    </t>

<t t-name="mail.DiscussSidebarItem" owl="1">
        <div class="o_DiscussSidebarItem" t-att-class="{                 'o-active': thread and discuss.thread === thread,                 'o-starred-box': thread and thread === env.messaging.starred,                 'o-unread': thread and thread.localMessageUnreadCounter &gt; 0,             }" t-on-click="_onClick" t-att-data-thread-local-id="thread ? thread.localId : undefined" t-att-data-thread-name="thread ? thread.displayName : undefined">
            <t t-if="thread">
                <div class=" o_DiscussSidebarItem_activeIndicator o_DiscussSidebarItem_item" t-att-class="{ 'o-item-active': discuss.thread === thread }"/>
                <ThreadIcon class="o_DiscussSidebarItem_item" threadLocalId="thread.localId"/>
                <t t-if="thread.channel_type === 'chat' and discuss.renamingThreads.includes(thread)">
                    <div class="o_DiscussSidebarItem_item o_DiscussSidebarItem_name o-editable">
                        <EditableText class="o_DiscussSidebarItem_nameInput" placeholder="thread.correspondent ? thread.correspondent.name : thread.name" value="thread.displayName" t-on-o-cancel="_onCancelRenaming" t-on-o-clicked="_onClickedEditableText" t-on-o-validate="_onValidateEditableText"/>
                    </div>
                </t>
                <t t-else="">
                    <div class="o_DiscussSidebarItem_item o_DiscussSidebarItem_name" t-att-class="{ 'o-item-unread': thread.localMessageUnreadCounter &gt; 0 }">
                        <t t-esc="thread.displayName"/>
                    </div>
                    <t t-if="thread.mass_mailing">
                        <i class="fa fa-envelope-o" title="Messages are sent by email" role="img"/>
                    </t>
                </t>
                <div class="o-autogrow o_DiscussSidebarItem_item"/>
                <t t-if="thread.model !== 'mail.box'">
                    <div class="o_DiscussSidebarItem_commands o_DiscussSidebarItem_item">
                        <t t-if="thread.channel_type === 'channel'">
                            <div class="fa fa-cog o_DiscussSidebarItem_command o_DiscussSidebarItem_commandSettings" t-on-click="_onClickSettings" title="Channel settings" role="img"/>
                            <t t-if="!thread.message_needaction_counter and !thread.group_based_subscription">
                                <div class="o_DiscussSidebarItem_command o_DiscussSidebarItem_commandLeave fa fa-times" t-on-click="_onClickLeave" title="Leave this channel" role="img"/>
                            </t>
                        </t>
                        <t t-if="thread.channel_type === 'chat'">
                            <div class="o_DiscussSidebarItem_command o_DiscussSidebarItem_commandRename fa fa-cog" t-on-click="_onClickRename" title="Rename conversation" role="img"/>
                        </t>
                        <t t-if="hasUnpin()">
                            <t t-if="!thread.localMessageUnreadCounter">
                                <div class="fa fa-times o_DiscussSidebarItem_command o_DiscussSidebarItem_commandUnpin" t-on-click="_onClickUnpin" title="Unpin conversation" role="img"/>
                            </t>
                        </t>
                    </div>
                </t>
                <t t-if="counter &gt; 0">
                    <div class="o_DiscussSidebarItem_counter o_DiscussSidebarItem_item badge badge-pill">
                        <t t-esc="counter"/>
                    </div>
                </t>
            </t>
        </div>
    </t>

<t t-name="mail.DropZone" owl="1">
        <div class="o_DropZone" t-att-class="{ 'o-dragging-inside': state.isDraggingInside }" t-on-dragenter="_onDragenter" t-on-dragleave="_onDragleave" t-on-dragover="_onDragover" t-on-drop="_onDrop">
            <h4>
                Drag Files Here <i class="fa fa-download"/>
            </h4>
        </div>
    </t>

<t t-name="mail.EditableText" owl="1">
        <input class="o_EditableText" t-att-value="props.value" t-on-blur="_onBlur" t-on-click="_onClick" t-on-keydown="_onKeydown" t-att-placeholder="props.placeholder"/>
    </t>

<t t-name="mail.EmojisPopover" owl="1">
        <div class="o_EmojisPopover">
            <t t-foreach="emojis" t-as="emoji" t-key="emoji.unicode">
                <span class="o_EmojisPopover_emoji" t-on-click="_onClickEmoji" t-att-title="emoji.description" t-att-data-source="emoji.sources[0]" t-att-data-unicode="emoji.unicode">
                    <t t-esc="emoji.unicode"/>
                </span>
            </t>
        </div>
    </t>

<t t-name="mail.FileUploader" owl="1">
        <div class="o_FileUploader">
            <input class="o_FileUploader_input" t-on-change="_onChangeAttachment" multiple="true" type="file" t-ref="fileInput" t-key="'fileInput'"/>
        </div>
    </t>

<t t-name="mail.FollowButton" owl="1">
        <div class="o_FollowButton">
            <t t-if="thread.isCurrentPartnerFollowing">
                <button class="o_FollowButton_unfollow btn btn-link" t-att-class="{ 'o-following': !state.isUnfollowButtonHighlighted, 'o-unfollow': state.isUnfollowButtonHighlighted }" t-att-disabled="props.isDisabled" t-on-click="_onClickUnfollow" t-on-mouseenter="_onMouseEnterUnfollow" t-on-mouseleave="_onMouseLeaveUnfollow">
                    <t t-if="state.isUnfollowButtonHighlighted">
                        <i class="fa fa-times"/> Unfollow
                    </t>
                    <t t-else="">
                        <i class="fa fa-check"/> Following
                    </t>
                </button>
            </t>
            <t t-else="">
                <button class="o_FollowButton_follow btn btn-link" t-att-disabled="props.isDisabled" t-on-click="_onClickFollow">
                    Follow
                </button>
            </t>
        </div>
    </t>

<t t-name="mail.Follower" owl="1">
        <div class="o_Follower">
            <t t-if="follower">
                <a class="o_Follower_details" t-att-class="{ 'o-inactive': !follower.isActive }" href="#" t-on-click="_onClickDetails">
                    <img class="o_Follower_avatar" t-attf-src="/web/image/{{ follower.resModel }}/{{ follower.resId }}/image_128" alt="Avatar"/>
                    <span class="o_Follower_name" t-esc="follower.name or follower.displayName"/>
                </a>
                <t t-if="follower.isEditable">
                    <button class="btn btn-icon o_Follower_button o_Follower_editButton" title="Edit subscription" t-on-click="_onClickEdit">
                        <i class="fa fa-pencil"/>
                    </button>
                    <button class="btn btn-icon o_Follower_button o_Follower_removeButton" title="Remove this follower" t-on-click="_onClickRemove">
                        <i class="fa fa-remove"/>
                    </button>
                </t>
            </t>
        </div>
    </t>

<t t-name="mail.FollowerListMenu" owl="1">
        <div class="o_FollowerListMenu" t-on-keydown="_onKeydown">
            <div class="o_FollowerListMenu_followers" t-ref="dropdown">
                <button class="o_FollowerListMenu_buttonFollowers btn btn-link" t-att-disabled="props.isDisabled" t-on-click="_onClickFollowersButton" title="Show Followers">
                    <i class="fa fa-user"/>
                    <span class="o_FollowerListMenu_buttonFollowersCount pl-1" t-esc="thread.followers.length"/>
                </button>

                <t t-if="state.isDropdownOpen">
                    <div class="o_FollowerListMenu_dropdown dropdown-menu dropdown-menu-right" role="menu">
                        <t t-if="thread.channel_type !== 'chat'">
                            <a class="o_FollowerListMenu_addFollowersButton dropdown-item" href="#" role="menuitem" t-on-click="_onClickAddFollowers">
                                Add Followers
                            </a>
                        </t>
                        <a class="o_FollowerListMenu_addChannelsButton dropdown-item" href="#" role="menuitem" t-on-click="_onClickAddChannels">
                            Add Channels
                        </a>
                        <t t-if="thread.followers.length &gt; 0">
                            <div role="separator" class="dropdown-divider"/>
                            <t t-foreach="thread.followers" t-as="follower" t-key="follower.localId">
                                <Follower class="o_FollowerMenu_follower dropdown-item" followerLocalId="follower.localId" t-on-click="_onClickFollower"/>
                            </t>
                        </t>
                    </div>
                </t>
            </div>
        </div>
    </t>

<t t-name="mail.FollowerSubtype" owl="1">
        <div class="o_FollowerSubtype">
            <label class="o_FollowerSubtype_label">
                <input class="o_FollowerSubtype_checkbox" type="checkbox" t-att-checked="follower.selectedSubtypes.includes(followerSubtype) ? 'checked': ''" t-on-change="_onChangeCheckbox"/>
                <t t-esc="followerSubtype.name"/>
            </label>
        </div>
    </t>

<t t-name="mail.FollowerSubtypeList" owl="1">
        <div class="o_FollowerSubtypeList modal-dialog">
            <t t-if="followerSubtypeList">
                <div class="modal-content">
                    <header class="modal-header">
                        <h4 class="modal-title">
                            Edit Subscription of <t t-esc="followerSubtypeList.follower.name"/>
                        </h4>
                        <i class="o_FollowerSubtypeList_closeButton close fa fa-times" aria-label="Close" t-on-click="_onClickCancel"/>
                    </header>
                    <main class="modal-body">
                        <div class="o_FollowerSubtypeList_subtypes">
                            <t t-foreach="followerSubtypeList.follower.subtypes" t-as="subtype" t-key="subtype.id">
                                <FollowerSubtype class="o_FollowerSubtypeList_subtype" followerLocalId="followerSubtypeList.follower.localId" followerSubtypeLocalId="subtype.localId"/>
                            </t>
                        </div>
                    </main>
                    <div class="modal-footer">
                        <button class="o-apply btn btn-primary" t-on-click="_onClickApply">
                            Apply
                        </button>
                        <button class="o-cancel btn btn-secondary" t-on-click="_onClickCancel">
                            Cancel
                        </button>
                    </div>
                </div>
            </t>
        </div>
    </t>

<t t-name="mail.MailTemplate" owl="1">
        <div class="o_MailTemplate">
            <t t-if="mailTemplate">
                <i class="fa fa-envelope-o" title="Mail" role="img"/>
                <span class="o_MailTemplate_name" t-esc="mailTemplate.name"/>
                <span>:</span>
                <button class="o_MailTemplate_button o_MailTemplate_preview btn btn-link" t-att-data-mail-template-id="mailTemplate.id" t-on-click="_onClickPreview">
                    Preview
                </button>
                <span class="o_MailTemplate_text">or</span>
                <button class="o_MailTemplate_button o_MailTemplate_send btn btn-link" t-att-data-mail-template-id="mailTemplate.id" t-on-click="_onClickSend">
                    Send Now
                </button>
            </t>
        </div>
    </t>

<t t-name="mail.Message" owl="1">
        <div class="o_Message" t-att-class="{                 'o-clicked': state.isClicked,                 'o-discussion': message and (message.is_discussion or message.is_notification),                 'o-mobile': env.messaging.device.isMobile,                 'o-not-discussion': message and !(message.is_discussion or message.is_notification),                 'o-notification': message and message.message_type === 'notification',                 'o-selected': props.isSelected,                 'o-squashed': props.isSquashed,                 'o-starred': message and message.isStarred,             }" t-on-click="_onClick" t-att-data-message-local-id="message and message.localId">
            <t t-if="message" name="rootCondition">
                <div class="o_Message_sidebar" t-att-class="{ 'o-message-squashed': props.isSquashed }">
                    <t t-if="!props.isSquashed">
                        <div class="o_Message_authorAvatarContainer o_Message_sidebarItem">
                            <img class="o_Message_authorAvatar rounded-circle" t-att-class="{ o_Message_authorRedirect: hasAuthorOpenChat, o_redirect: hasAuthorOpenChat }" t-att-src="avatar" t-on-click="_onClickAuthorAvatar" t-att-title="hasAuthorOpenChat ? OPEN_CHAT : ''" alt="Avatar"/>
                            <t t-if="message.author and message.author.im_status">
                                <PartnerImStatusIcon class="o_Message_partnerImStatusIcon" t-att-class="{                                         'o-message-not-discussion': !(message.is_discussion or message.is_notification),                                         'o-message-selected': props.isSelected,                                         'o_Message_partnerImStatusIcon-mobile': env.messaging.device.isMobile,                                     }" hasOpenChat="hasAuthorOpenChat" partnerLocalId="message.author.localId"/>
                            </t>
                        </div>
                    </t>
                    <t t-else="">
                        <div class="o_Message_date o_Message_sidebarItem o-message-squashed" t-att-class="{ 'o-message-selected': props.isSelected }">
                            <t t-esc="shortTime"/>
                        </div>
                        <div class="o_Message_commands o_Message_sidebarCommands o_Message_sidebarItem o-message-squashed" t-att-class="{ 'o-message-selected': props.isSelected, 'o-mobile': env.messaging.device.isMobile }">
                            <t t-if="message.message_type !== 'notification'">
                                <div class="o_Message_command o_Message_commandStar fa" t-att-class="{                                         'fa-star': message.isStarred,                                         'fa-star-o': !message.isStarred,                                         'o-message-selected': props.isSelected,                                         'o-message-starred': message.isStarred,                                         'o-mobile': env.messaging.device.isMobile,                                     }" t-on-click="_onClickStar"/>
                            </t>
                        </div>
                        <t t-if="message.isCurrentPartnerAuthor and threadView and threadView.thread and threadView.thread.hasSeenIndicators">
                            <MessageSeenIndicator class="o_Message_seenIndicator o-message-squashed" messageLocalId="message.localId" threadLocalId="threadView.thread.localId"/>
                        </t>
                    </t>
                </div>
                <div class="o_Message_core">
                    <t t-if="!props.isSquashed">
                        <div class="o_Message_header">
                            <t t-if="message.author">
                                <div class="o_Message_authorName o_Message_authorRedirect o_redirect" t-on-click="_onClickAuthorName" title="Open profile">
                                    <t t-esc="message.author.nameOrDisplayName"/>
                                </div>
                            </t>
                            <t t-elif="message.email_from">
                                <a class="o_Message_authorName" t-attf-href="mailto:{{ message.email_from }}?subject=Re: {{ message.subject ? message.subject : '' }}">
                                    <t t-esc="message.email_from"/>
                                </a>
                            </t>
                            <t t-else="">
                                <div class="o_Message_authorName">
                                    Anonymous
                                </div>
                            </t>
                            <div class="o_Message_date o_Message_headerDate" t-att-class="{ 'o-message-selected': props.isSelected }" t-att-title="datetime">
                                - <t t-esc="message.dateFromNow"/>
                            </div>
                            <t t-if="message.isCurrentPartnerAuthor and threadView and threadView.thread and threadView.thread.hasSeenIndicators">
                                <MessageSeenIndicator class="o_Message_seenIndicator" messageLocalId="message.localId" threadLocalId="threadView.thread.localId"/>
                            </t>
                            <t t-if="threadView and message.originThread and message.originThread !== threadView.thread">
                                <div class="o_Message_originThread" t-att-class="{ 'o-message-selected': props.isSelected }">
                                    <t t-if="message.originThread.model === 'mail.channel'">
                                        (from <a class="o_Message_originThreadLink" t-att-href="message.originThread.url" t-on-click="_onClickOriginThread"><t t-if="message.originThread.name">#<t t-esc="message.originThread.name"/></t><t t-else="">channel</t></a>)
                                    </t>
                                    <t t-else="">
                                        on <a class="o_Message_originThreadLink" t-att-href="message.originThread.url" t-on-click="_onClickOriginThread"><t t-if="message.originThread.name"><t t-esc="message.originThread.name"/></t><t t-else="">document</t></a>
                                    </t>
                                </div>
                            </t>
                            <t t-if="message.moderation_status === 'pending_moderation' and !message.isModeratedByCurrentPartner">
                                <span class="o_Message_moderationPending o-author" title="Your message is pending moderation.">Pending moderation</span>
                            </t>
                            <t t-if="threadView and message.originThread and message.originThread === threadView.thread and message.notifications.length &gt; 0">
                                <t t-if="message.failureNotifications.length &gt; 0">
                                    <span class="o_Message_notificationIconClickable o-error" t-on-click="_onClickFailure">
                                        <t t-if="message.message_type === 'sms'">
                <i class="o_Message_notificationIcon fa fa-mobile"/> SMS
            </t>
            <t t-else=""><t t-if="message.message_type === 'snailmail'">
                <i class="o_Message_notificationIcon fa fa-paper-plane"/>
            </t>
            <t t-else=""><i name="failureIcon" class="o_Message_notificationIcon fa fa-envelope"/>
                                    </t>
        </t>
        </span>
                                </t>
                                <t t-else="">
                                    <Popover>
                                        <span class="o_Message_notificationIconClickable">
                                            <t t-if="message.message_type === 'sms'">
                <i class="o_Message_notificationIcon fa fa-mobile"/> SMS
            </t>
            <t t-else=""><t t-if="message.message_type === 'snailmail'">
                <i class="o_Message_notificationIcon fa fa-paper-plane"/>
            </t>
            <t t-else=""><i name="notificationIcon" class="o_Message_notificationIcon fa fa-envelope-o"/>
                                        </t>
        </t>
        </span>
                                        <t t-set="opened">
                                            <t t-if="message.message_type === 'snailmail'">
                <SnailmailNotificationPopover messageLocalId="message.localId"/>
            </t>
            <t t-else=""><NotificationPopover notificationLocalIds="message.notifications.map(notification =&gt; notification.localId)"/>
                                        </t>
        </t>
                                    </Popover>
                                </t>
                            </t>
                            <div class="o_Message_commands o_Message_headerCommands" t-att-class="{ 'o-mobile': env.messaging.device.isMobile }">
                                <t t-if="!message.isTemporary and ((message.message_type !== 'notification' and message.originThread and message.originThread.model === 'mail.channel') or !message.isTransient) and message.moderation_status !== 'pending_moderation'">
                                    <span class="o_Message_command o_Message_commandStar o_Message_headerCommand fa" t-att-class="{                                             'fa-star': message.isStarred,                                             'fa-star-o': !message.isStarred,                                             'o-message-selected': props.isSelected,                                             'o-message-starred': message.isStarred,                                             'o-mobile': env.messaging.device.isMobile,                                         }" t-on-click="_onClickStar" title="Mark as Todo"/>
                                </t>
                                <t t-if="props.hasReplyIcon">
                                    <span class="o_Message_command o_Message_commandReply o_Message_headerCommand fa fa-reply" t-att-class="{                                             'o-message-selected': props.isSelected,                                             'o-mobile': env.messaging.device.isMobile,                                         }" t-on-click="_onClickReply" title="Reply"/>
                                </t>
                                <t t-if="props.hasMarkAsReadIcon">
                                    <span class="o_Message_command o_Message_commandMarkAsRead o_Message_headerCommand fa fa-check" t-att-class="{                                             'o-message-selected': props.isSelected,                                             'o-mobile': env.messaging.device.isMobile,                                         }" t-on-click="_onClickMarkAsRead" title="Mark as Read"/>
                                </t>
                            </div>
                        </div>
                        <t t-if="message.isModeratedByCurrentPartner">
                            <div class="o_Message_moderationSubHeader">
                                <t t-if="threadView and props.hasCheckbox and message.hasCheckbox">
                                    <input class="o_Message_checkbox" type="checkbox" t-att-checked="message.isChecked(threadView.thread, threadView.stringifiedDomain) ? 'checked': ''" t-on-change="_onChangeCheckbox" t-ref="checkbox"/>
                                </t>
                                <span class="o_Message_moderationPending">Pending moderation:</span>
                                <a class="o_Message_moderationAction o-accept" href="#" title="Accept" t-on-click="_onClickModerationAccept">Accept</a>
                                <a class="o_Message_moderationAction o-reject" href="#" title="Remove message with explanation" t-on-click="_onClickModerationReject">Reject</a>
                                <a class="o_Message_moderationAction o-discard" href="#" title="Remove message without explanation" t-on-click="_onClickModerationDiscard">Discard</a>
                                <a class="o_Message_moderationAction o-allow" href="#" title="Add this email address to white list of people" t-on-click="_onClickModerationAllow">Always Allow</a>
                                <a class="o_Message_moderationAction o-ban" href="#" title="Ban this email address" t-on-click="_onClickModerationBan">Ban</a>
                            </div>
                        </t>
                    </t>
                    <div class="o_Message_content" t-ref="content">
                        <div class="o_Message_prettyBody" t-ref="prettyBody"/>
                        <t t-if="message.subtype_description and !message.isBodyEqualSubtypeDescription">
                            <p t-esc="message.subtype_description"/>
                        </t>
                        <t t-if="trackingValues.length &gt; 0">
                            <ul class="o_Message_trackingValues">
                                <t t-foreach="trackingValues" t-as="value" t-key="value.id">
                                    <li>
                                        <div class="o_Message_trackingValue">
                                            <div class="o_Message_trackingValueFieldName o_Message_trackingValueItem" t-esc="value.changed_field"/>
                                            <t t-if="value.old_value">
                                                <div class="o_Message_trackingValueOldValue o_Message_trackingValueItem" t-esc="value.old_value"/>
                                            </t>
                                            <div class="o_Message_trackingValueSeparator o_Message_trackingValueItem fa fa-long-arrow-right" title="Changed" role="img"/>
                                            <t t-if="value.new_value">
                                                <div class="o_Message_trackingValueNewValue o_Message_trackingValueItem" t-esc="value.new_value"/>
                                            </t>
                                        </div>
                                    </li>
                                </t>
                            </ul>
                        </t>
                    </div>
                    <t t-if="message.subject and !message.isSubjectSimilarToOriginThreadName and threadView and threadView.thread and (threadView.thread.mass_mailing or [env.messaging.inbox, env.messaging.history].includes(threadView.thread))">
                        <p class="o_Message_subject">Subject: <t t-esc="message.subject"/></p>
                    </t>
                    <t t-if="message.attachments and message.attachments.length &gt; 0">
                        <div class="o_Message_footer">
                            <AttachmentList class="o_Message_attachmentList" areAttachmentsDownloadable="true" areAttachmentsEditable="message.author === env.messaging.currentPartner" attachmentLocalIds="message.attachments.map(attachment =&gt; attachment.localId)" attachmentsDetailsMode="props.attachmentsDetailsMode"/>
                        </div>
                    </t>
                </div>
                <t t-if="state.hasModerationBanDialog">
                    <ModerationBanDialog messageLocalIds="[message.localId]" t-on-dialog-closed="_onDialogClosedModerationBan"/>
                </t>
                <t t-if="state.hasModerationDiscardDialog">
                    <ModerationDiscardDialog messageLocalIds="[message.localId]" t-on-dialog-closed="_onDialogClosedModerationDiscard"/>
                </t>
                <t t-if="state.hasModerationRejectDialog">
                    <ModerationRejectDialog messageLocalIds="[message.localId]" t-on-dialog-closed="_onDialogClosedModerationReject"/>
                </t>
            
            <t t-if="snailmailState.hasDialog">
                <SnailmailErrorDialog messageLocalId="message.localId" t-on-dialog-closed="_onDialogClosedSnailmailError"/>
            </t>
        </t>
        </div>
    </t>

<t t-name="mail.MessageAuthorPrefix" owl="1">
        <span class="o_MessageAuthorPrefix">
            <t t-if="message">
                <t t-if="message.author and message.author === env.messaging.currentPartner">
                    <i class="o_MessageAuthorPrefixIcon fa fa-mail-reply"/>You:
                </t>
                <t t-elif="thread and message.author !== thread.correspondent">
                    <t t-esc="message.author.nameOrDisplayName"/>:
                </t>
            </t>
        </span>
    </t>

<t t-name="mail.MessageList" owl="1">
        <div class="o_MessageList" t-att-class="{ 'o-empty': threadView and threadView.messages.length === 0, 'o-has-message-selection': props.selectedMessageLocalId }" t-on-scroll="onScroll">
            <t t-if="threadView">
                
                <t t-if="threadView.nonEmptyMessages.length === 0">
                    <div class="o_MessageList_empty o_MessageList_item">
                        <t t-if="threadView.thread === env.messaging.inbox">
                            <div class="o_MessageList_emptyTitle">
                                Congratulations, your inbox is empty
                            </div>
                            New messages appear here.
                        </t>
                        <t t-elif="threadView.thread === env.messaging.starred">
                            <div class="o_MessageList_emptyTitle">
                                No starred messages
                            </div>
                            You can mark any message as 'starred', and it shows up in this mailbox.
                        </t>
                        <t t-elif="threadView.thread === env.messaging.history">
                            <div class="o_MessageList_emptyTitle o-neutral-face-icon">
                                No history messages
                            </div>
                            Messages marked as read will appear in the history.
                        </t>
                        <t t-elif="threadView.thread === env.messaging.moderation">
                            <div class="o_MessageList_emptyTitle">
                                You have no messages to moderate.
                            </div>
                            Messages pending moderation appear here.
                        </t>
                        <t t-else="">
                            There are no messages in this conversation.
                        </t>
                    </div>
                </t>
                
                <t t-if="props.order === 'asc' and orderedMessages.length &gt; 0">
                    <t t-call="mail.MessageList.loadMore"/>
                </t>
                
                <t t-set="current_day" t-value="0"/>
                <t t-set="prev_message" t-value="0"/>
                <t t-foreach="orderedMessages" t-as="message" t-key="message.localId">
                    <t t-if="message === threadView.thread.messageAfterNewMessageSeparator">
                        <div class="o_MessageList_separator o_MessageList_separatorNewMessages o_MessageList_item" t-att-class="{ 'o-disable-animation': env.disableAnimation }" t-transition="fade">
                            <hr class="o_MessageList_separatorLine o_MessageList_separatorLineNewMessages"/><span class="o_MessageList_separatorLabel o_MessageList_separatorLabelNewMessages">New messages</span>
                        </div>
                    </t>
                    <t t-if="!message.isEmpty">
                        <t t-set="message_day" t-value="getDateDay(message)"/>
                        <t t-if="current_day !== message_day">
                            <div class="o_MessageList_separator o_MessageList_separatorDate o_MessageList_item">
                                <hr class="o_MessageList_separatorLine"/><span class="o_MessageList_separatorLabel o_MessageList_separatorLabelDate"><t t-esc="message_day"/></span><hr class="o_MessageList_separatorLine"/>
                                <t t-set="current_day" t-value="message_day"/>
                                <t t-set="isMessageSquashed" t-value="false"/>
                            </div>
                        </t>
                        <t t-else="">
                            <t t-set="isMessageSquashed" t-value="shouldMessageBeSquashed(prev_message, message)"/>
                        </t>
                        <Message class="o_MessageList_item o_MessageList_message" t-att-class="{                                 'o-has-message-selection': props.selectedMessageLocalId,                             }" hasMarkAsReadIcon="props.haveMessagesMarkAsReadIcon" hasCheckbox="props.hasMessageCheckbox" hasReplyIcon="props.haveMessagesReplyIcon" isSelected="props.selectedMessageLocalId === message.localId" isSquashed="isMessageSquashed" messageLocalId="message.localId" threadViewLocalId="threadView.localId" t-ref="{{ message.localId }}"/>
                        <t t-set="prev_message" t-value="message"/>
                    </t>
                </t>
                
                <t t-if="props.order === 'desc' and orderedMessages.length &gt; 0">
                    <t t-call="mail.MessageList.loadMore"/>
                </t>
            </t>
        </div>
    </t>

    <t t-name="mail.MessageList.loadMore" owl="1">
        <t t-if="threadView.threadCache.isLoadingMore">
            <div class="o_MessageList_item o_MessageList_isLoadingMore">
                <i class="o_MessageList_isLoadingMoreIcon fa fa-spin fa-spinner"/>
                Loading...
            </div>
        </t>
        <t t-elif="!threadView.threadCache.isAllHistoryLoaded and !threadView.thread.isTemporary">
            <a class="o_MessageList_item o_MessageList_loadMore" href="#" t-on-click="_onClickLoadMore" t-ref="loadMore">
                Load more
            </a>
        </t>
    </t>

<t t-name="mail.MessageSeenIndicator" owl="1">
        <span class="o_MessageSeenIndicator" t-att-class="{ 'o-all-seen': messageSeenIndicator and messageSeenIndicator.hasEveryoneSeen }" t-att-title="indicatorTitle">
            <t t-if="messageSeenIndicator and !messageSeenIndicator.isMessagePreviousToLastCurrentPartnerMessageSeenByEveryone">
                <t t-if="messageSeenIndicator.hasSomeoneFetched or messageSeenIndicator.hasSomeoneSeen">
                    <i class="o_MessageSeenIndicator_icon o-first fa fa-check"/>
                </t>
                <t t-if="messageSeenIndicator.hasSomeoneSeen">
                    <i class="o_MessageSeenIndicator_icon o-second fa fa-check"/>
                </t>
            </t>
        </span>
    </t>
<t t-name="mail.MessagingMenu" owl="1">
        <li class="o_MessagingMenu" t-att-class="{ 'o-is-open': messagingMenu ? messagingMenu.isOpen : false, 'o-mobile': env.messaging ? env.messaging.device.isMobile : false }">
            <a class="o_MessagingMenu_toggler" t-att-class="{ 'o-no-notification': messagingMenu ? !messagingMenu.counter : false }" href="#" title="Conversations" role="button" t-att-aria-expanded="messagingMenu and messagingMenu.isOpen ? 'true' : 'false'" aria-haspopup="true" t-on-click="_onClickToggler">
                <i class="o_MessagingMenu_icon fa fa-comments" role="img" aria-label="Messages"/>
                <t t-if="!env.isMessagingInitialized()">
                    <i class="o_MessagingMenu_loading fa fa-spinner fa-spin"/>
                </t>
                <t t-elif="messagingMenu.counter &gt; 0">
                    <span class="o_MessagingMenu_counter badge badge-pill">
                        <t t-esc="messagingMenu.counter"/>
                    </span>
                </t>
            </a>
            <t t-if="messagingMenu and messagingMenu.isOpen">
                <div class="o_MessagingMenu_dropdownMenu dropdown-menu dropdown-menu-right" t-att-class="{ 'o-mobile': env.messaging.device.isMobile, 'o-messaging-not-initialized': !env.messaging.isInitialized }" role="menu">
                    <t t-if="!env.messaging.isInitialized">
                        <span><i class="o_MessagingMenu_dropdownLoadingIcon fa fa-spinner fa-spin"/>Please wait...</span>
                    </t>
                    <t t-else="">
                        <div class="o_MessagingMenu_dropdownMenuHeader" t-att-class="{ 'o-mobile': env.messaging.device.isMobile }">
                            <t t-if="!env.messaging.device.isMobile">
                                <t t-foreach="['all', 'chat', 'channel']" t-as="tabId" t-key="tabId">
                                    <button class="o_MessagingMenu_tabButton o-desktop btn btn-link" t-att-class="{ 'o-active': messagingMenu.activeTabId === tabId, }" t-on-click="_onClickDesktopTabButton" type="button" role="tab" t-att-data-tab-id="tabId">
                                        <t t-if="tabId === 'all'">All</t>
                                        <t t-elif="tabId === 'chat'">Chat</t>
                                        <t t-elif="tabId === 'channel'">Channels</t>
                                    </button>
                                </t>
                            </t>
                            <t t-if="env.messaging.device.isMobile">
                                <t t-call="mail.MessagingMenu.newMessageButton"/>
                            </t>
                            <div class="o-autogrow"/>
                            <t t-if="!env.messaging.device.isMobile and !discuss.isOpen">
                                <t t-call="mail.MessagingMenu.newMessageButton"/>
                            </t>
                            <t t-if="env.messaging.device.isMobile and messagingMenu.isMobileNewMessageToggled">
                                <AutocompleteInput class="o_MessagingMenu_mobileNewMessageInput" customClass="id + '_mobileNewMessageInputAutocomplete'" isFocusOnMount="true" placeholder="mobileNewMessageInputPlaceholder" select="_onMobileNewMessageInputSelect" source="_onMobileNewMessageInputSource" t-on-o-hide="_onHideMobileNewMessage"/>
                            </t>
                        </div>
                        <NotificationList class="o_MessagingMenu_notificationList" t-att-class="{ 'o-mobile': env.messaging.device.isMobile }" filter="messagingMenu.activeTabId"/>
                        <t t-if="env.messaging.device.isMobile">
                            <MobileMessagingNavbar class="o_MessagingMenu_mobileNavbar" activeTabId="messagingMenu.activeTabId" tabs="tabs" t-on-o-select-mobile-messaging-navbar-tab="_onSelectMobileNavbarTab"/>
                        </t>
                    </t>
                </div>
            </t>
        </li>
    </t>

    <t t-name="mail.MessagingMenu.newMessageButton" owl="1">
        <button class="o_MessagingMenu_newMessageButton btn" t-att-class="{                 'btn-link': !env.messaging.device.isMobile,                 'btn-secondary': env.messaging.device.isMobile,                 'o-mobile': env.messaging.device.isMobile,             }" t-on-click="_onClickNewMessage" type="button">
            New message
        </button>
    </t>

<t t-name="mail.MobileMessagingNavbar" owl="1">
        <div class="o_MobileMessagingNavbar">
            <t t-foreach="props.tabs" t-as="tab" t-key="tab.id">
                <div class="o_MobileMessagingNavbar_tab" t-att-class="{ 'o-active': props.activeTabId === tab.id }" t-on-click="_onClick" t-att-data-tab-id="tab.id">
                    <t t-if="tab.icon">
                        <span class="o_MobileMessagingNavbar_tabIcon" t-att-class="tab.icon"/>
                    </t>
                    <span class="o_MobileMessagingNavbar_tabLabel"><t t-esc="tab.label"/></span>
                </div>
            </t>
        </div>
    </t>

<t t-name="mail.ModerationBanDialog" owl="1">
        <Dialog contentClass="'o_ModerationBanDialog'" title="CONFIRMATION" size="'medium'" t-ref="dialog">
            <t t-if="messages.length === 1">
                <p>You are going to ban the following user:</p>
            </t>
            <t t-else="">
                <p>You are going to ban the following users:</p>
            </t>
            <ul class="my-5">
                <t t-foreach="messages" t-as="message" t-key="message.localId">
                    <li t-esc="message.email_from"/>
                </t>
            </ul>
            <p>Do you confirm the action?</p>
            <t t-set-slot="buttons">
                <button class="o-ban btn btn-primary" t-on-click="_onClickBan">Ban</button>
                <button class="o-cancel btn btn-secondary" t-on-click="_onClickCancel">Cancel</button>
            </t>
        </Dialog>
    </t>
<t t-name="mail.ModerationDiscardDialog" owl="1">
        <Dialog contentClass="'o_ModerationDiscardDialog'" title="getTitle()" size="'medium'" t-ref="dialog">
            <p t-esc="getBody()"/>
            <p>Do you confirm the action?</p>
            <t t-set-slot="buttons">
                <button class="o-discard btn btn-primary" t-on-click="_onClickDiscard">Discard</button>
                <button class="o-cancel btn btn-secondary" t-on-click="_onClickCancel">Cancel</button>
            </t>
        </Dialog>
    </t>
<t t-name="mail.ModerationRejectDialog" owl="1">
        <Dialog contentClass="'o_ModerationRejectDialog'" title="SEND_EXPLANATION_TO_AUTHOR" size="'medium'" t-ref="dialog">
            <input class="o_ModerationRejectDialog_title form-control" type="text" placeholder="Subject" autofocus="autofocus" t-model="state.title"/>
            <textarea class="o_ModerationRejectDialog_comment form-control mt16" placeholder="Mail Body" t-model="state.comment"/>
            <t t-set-slot="buttons">
                <button class="o-reject btn btn-primary" t-on-click="_onClickReject">Reject</button>
                <button class="o-cancel btn btn-secondary" t-on-click="_onClickCancel">Cancel</button>
            </t>
        </Dialog>
    </t>
<t t-name="mail.NotificationAlert" owl="1">
        <div class="o_NotificationAlert">
            <t t-if="env.isMessagingInitialized()">
                <center t-if="isNotificationBlocked" class="o_notification_alert alert alert-primary">
                    Odoo Push notifications have been blocked. Go to your browser settings to allow them.
                </center>
            </t>
        </div>
    </t>

<t t-name="mail.NotificationGroup" owl="1">
        <div class="o_NotificationGroup" t-on-click="_onClick">
            <t t-if="group">
                <div class="o_NotificationGroup_sidebar">
                    <div class="o_NotificationGroup_imageContainer o_NotificationGroup_sidebarItem">
                        <img class="o_NotificationGroup_image rounded-circle" t-att-src="image()" alt="Message delivery failure image"/>
                    </div>
                </div>
                <div class="o_NotificationGroup_content">
                    <div class="o_NotificationGroup_header">
                        <span class="o_NotificationGroup_name">
                            <t t-esc="group.res_model_name"/>
                        </span>
                        <span class="o_NotificationGroup_counter">
                            (<t t-esc="group.notifications.length"/>)
                        </span>
                        <span class="o-autogrow"/>
                        <span class="o_NotificationGroup_date">
                            <t t-esc="group.date.fromNow()"/>
                        </span>
                    </div>
                    <div class="o_NotificationGroup_core">
                        <span class="o_NotificationGroup_coreItem o_NotificationGroup_inlineText">
                            <t t-if="group.notification_type === 'email'">
                                An error occurred when sending an email.
                            </t>
                        
            <t t-if="group.notification_type === 'sms'">
                An error occurred when sending an SMS.
            </t>
        
            <t t-if="group.notification_type === 'snail'">
                An error occurred when sending a letter with Snailmail.
            </t>
        </span>
                        <span class="o-autogrow"/>
                        <span class="o_NotificationGroup_coreItem o_NotificationGroup_markAsRead fa fa-check" title="Discard message delivery failures" t-on-click="_onClickMarkAsRead" t-ref="markAsRead"/>
                    </div>
                </div>
            </t>
        </div>
    </t>

<t t-name="mail.NotificationList" owl="1">
        <div class="o_NotificationList" t-att-class="{ 'o-empty': notifications.length === 0 }">
            <t t-if="notifications.length === 0">
                <div class="o_NotificationList_noConversation">
                    No conversation yet...
                </div>
            </t>
            <t t-else="">
                <t t-foreach="notifications" t-as="notification" t-key="notification.uniqueId">
                    <t t-if="notification.type === 'thread' and notification.thread">
                        <ThreadPreview class="o_NotificationList_preview" t-att-class="{ 'o-mobile': env.messaging.device.isMobile }" threadLocalId="notification.thread.localId"/>
                    </t>
                    <t t-if="notification.type === 'thread_needaction' and notification.thread">
                        <ThreadNeedactionPreview class="o_NotificationList_preview" t-att-class="{ 'o-mobile': env.messaging.device.isMobile }" threadLocalId="notification.thread.localId"/>
                    </t>
                    <t t-if="notification.notificationGroup">
                        <NotificationGroup class="o_NotificationList_group" notificationGroupLocalId="notification.notificationGroup.localId"/>
                    </t>
                    <t t-if="notification.type === 'odoobotRequest'">
                        <NotificationRequest class="o_NotificationList_notificationRequest" t-att-class="{ 'o-mobile': env.messaging.device.isMobile }"/>
                    </t>
                    <t t-if="!notification_last">
                        <div class="o_NotificationList_separator"/>
                    </t>
                </t>
            </t>
        </div>
    </t>

<t t-name="mail.NotificationPopover" owl="1">
        <div class="o_NotificationPopover">
            <t t-foreach="notifications" t-as="notification" t-key="notification.localId">
                <div class="o_NotificationPopover_notification">
                    <i class="o_NotificationPopover_notificationIcon" t-att-class="iconClass" t-att-title="iconTitle" role="img"/>
                    <t t-if="notification.partner">
                        <span class="o_NotificationPopover_notificationPartnerName" t-esc="notification.partner.nameOrDisplayName"/>
                    </t>
                </div>
            </t>
        </div>
    </t>

<t t-name="mail.NotificationRequest" owl="1">
        <div class="o_NotificationRequest" t-on-click="_onClick">
            <div class="o_NotificationRequest_sidebar">
                <div class="o_NotificationRequest_imageContainer o_NotificationRequest_sidebarItem">
                    <img class="o_NotificationRequest_image rounded-circle" src="/mail/static/src/img/odoobot.png" alt="Avatar of OdooBot"/>
                    <PartnerImStatusIcon class="o_NotificationRequest_partnerImStatusIcon" t-att-class="{ 'o-mobile': env.messaging.device.isMobile }" partnerLocalId="env.messaging.partnerRoot.localId"/>
                </div>
            </div>
            <div class="o_NotificationRequest_content">
                <div class="o_NotificationRequest_header">
                    <span class="o_NotificationRequest_name" t-att-class="{ 'o-mobile': env.messaging.device.isMobile }">
                        <t t-esc="getHeaderText()"/>
                    </span>
                </div>
                <div class="o_NotificationRequest_core">
                    <span class="o_NotificationRequest_coreItem o_NotificationRequest_inlineText">
                        Enable desktop notifications to chat.
                    </span>
                </div>
            </div>
        </div>
    </t>

<t t-name="mail.PartnerImStatusIcon" owl="1">
        <span class="o_PartnerImStatusIcon fa-stack" t-att-class="{                 'o-away': partner and partner.im_status === 'away',                 'o-background': !props.hasBackground,                 'o-bot': partner and env.messaging.partnerRoot === partner,                 'o-has-open-chat': props.hasOpenChat,                 'o-offline': partner and partner.im_status === 'offline',                 'o-online': partner and partner.im_status === 'online',             }" t-on-click="_onClick" t-att-data-partner-local-id="partner ? partner.localId : undefined">
            <t t-if="partner" name="rootCondition">
                <t t-if="props.hasBackground">
                    <i class="o_PartnerImStatusIcon_outerBackground fa fa-circle fa-stack-1x"/>
                    <i class="o_PartnerImStatusIcon_innerBackground fa fa-circle fa-stack-1x"/>
                </t>
                <t t-if="partner.im_status === 'online'">
                    <i class="o_PartnerImStatusIcon_icon o-online fa fa-circle fa-stack-1x" title="Online" role="img" aria-label="User is online"/>
                </t>
                <t t-if="partner.im_status === 'away'">
                    <i class="o_PartnerImStatusIcon_icon o-away fa fa-circle fa-stack-1x" title="Idle" role="img" aria-label="User is idle"/>
                </t>
                <t t-if="partner.im_status === 'offline'">
                    <i class="o_PartnerImStatusIcon_icon o-offline fa fa-circle-o fa-stack-1x" title="Offline" role="img" aria-label="User is offline"/>
                </t>
                <t t-if="partner === env.messaging.partnerRoot">
                    <i class="o_PartnerImStatusIcon_icon o-bot fa fa-heart fa-stack-1x" title="Bot" role="img" aria-label="User is a bot"/>
                </t>
            </t>
        </span>
    </t>

<t t-name="mail.ThreadIcon" owl="1">
        <div class="o_ThreadIcon">
            <t t-if="thread" name="rootCondition">
                <t t-if="thread.channel_type === 'channel'">
                    <t t-if="thread.public === 'private'">
                        
                        <div class="o_ThreadIcon_channelPrivate fa fa-lock" title="Private channel"/>
                    </t>
                    <t t-else="">
                        <div class="o_ThreadIcon_channelPublic fa fa-hashtag" title="Public channel"/>
                    </t>
                </t>
                <t t-elif="thread.channel_type === 'chat' and thread.correspondent">
                    <t t-if="thread.orderedOtherTypingMembers.length &gt; 0">
                        <ThreadTypingIcon class="o_ThreadIcon_typing" animation="'pulse'" title="thread.typingStatusText"/>
                    </t>
                    <t t-elif="thread.correspondent.im_status === 'online'">
                        <div class="o_ThreadIcon_online fa fa-circle" title="Online"/>
                    </t>
                    <t t-elif="thread.correspondent.im_status === 'offline'">
                        <div class="o_ThreadIcon_offline fa fa-circle-o" title="Offline"/>
                    </t>
                    <t t-elif="thread.correspondent.im_status === 'away'">
                        <div class="o_ThreadIcon_away fa fa-circle" title="Away"/>
                    </t>
                    <t t-elif="thread.correspondent === env.messaging.partnerRoot">
                        <div class="o_ThreadIcon_online fa fa-heart" title="Bot"/>
                    </t>
                    <t t-else="" name="noImStatusCondition">
                        <div class="o_ThreadIcon_noImStatus fa fa-question-circle" title="No IM status available"/>
                    </t>
                </t>
                <t t-elif="thread.model === 'mail.box'">
                    <t t-if="thread === env.messaging.inbox">
                        <div class="o_ThreadIcon_mailboxInbox fa fa-inbox"/>
                    </t>
                    <t t-elif="thread === env.messaging.starred">
                        <div class="o_ThreadIcon_mailboxStarred fa fa-star-o"/>
                    </t>
                    <t t-elif="thread === env.messaging.history">
                        <div class="o_ThreadIcon_mailboxHistory fa fa-history"/>
                    </t>
                    <t t-elif="thread === env.messaging.moderation">
                        <div class="o_ThreadIcon_mailboxModeration fa fa-envelope"/>
                    </t>
                </t>
            </t>
        </div>
    </t>

<t t-name="mail.ThreadNeedactionPreview" owl="1">
        
        <div class="o_ThreadNeedactionPreview" t-on-click="_onClick" t-att-data-thread-local-id="thread ? thread.localId : undefined">
            <t t-if="thread">
                <div class="o_ThreadNeedactionPreview_sidebar">
                    <div class="o_ThreadNeedactionPreview_imageContainer o_ThreadNeedactionPreview_sidebarItem">
                        <img class="o_ThreadNeedactionPreview_image" t-att-src="image()" alt="Thread Image"/>
                        <t t-if="thread.correspondent and thread.correspondent.im_status">
                            <PartnerImStatusIcon class="o_ThreadNeedactionPreview_partnerImStatusIcon" t-att-class="{                                     'o-mobile': env.messaging.device.isMobile,                                 }" partnerLocalId="thread.correspondent.localId"/>
                        </t>
                    </div>
                </div>
                <div class="o_ThreadNeedactionPreview_content">
                    <div class="o_ThreadNeedactionPreview_header">
                        <span class="o_ThreadNeedactionPreview_name" t-att-class="{ 'o-mobile': env.messaging.device.isMobile }">
                            <t t-esc="thread.displayName"/>
                        </span>
                        <span class="o_ThreadNeedactionPreview_counter">
                            (<t t-esc="thread.needactionMessagesAsOriginThread.length"/>)
                        </span>
                        <span class="o-autogrow"/>
                        <t t-if="thread.lastNeedactionMessageAsOriginThread">
                            <span class="o_ThreadNeedactionPreview_date">
                                <t t-esc="thread.lastNeedactionMessageAsOriginThread.date.fromNow()"/>
                            </span>
                        </t>
                    </div>
                    <div class="o_ThreadNeedactionPreview_core">
                        <span class="o_ThreadNeedactionPreview_coreItem o_ThreadNeedactionPreview_inlineText" t-att-class="{ 'o-empty': inlineLastNeedactionMessageAsOriginThreadBody.length === 0 }">
                            <t t-if="thread.lastNeedactionMessageAsOriginThread and thread.lastNeedactionMessageAsOriginThread.author">
                                <MessageAuthorPrefix messageLocalId="thread.lastNeedactionMessageAsOriginThread.localId" threadLocalId="thread.localId"/>
                            </t>
                            <t t-esc="inlineLastNeedactionMessageAsOriginThreadBody"/>
                        </span>
                        <span class="o-autogrow"/>
                        <span class="o_ThreadNeedactionPreview_coreItem o_ThreadNeedactionPreview_markAsRead fa fa-check" title="Mark as Read" t-on-click="_onClickMarkAsRead" t-ref="markAsRead"/>
                    </div>
                </div>
            </t>
        </div>
    </t>

<t t-name="mail.ThreadPreview" owl="1">
        
        <div class="o_ThreadPreview" t-att-class="{ 'o-muted': thread and thread.localMessageUnreadCounter === 0 }" t-on-click="_onClick" t-att-data-thread-local-id="thread ? thread.localId : undefined">
            <t t-if="thread">
                <div class="o_ThreadPreview_sidebar">
                    <div class="o_ThreadPreview_imageContainer o_ThreadPreview_sidebarItem">
                        <img class="o_ThreadPreview_image rounded-circle" t-att-src="image()" alt="Thread Image"/>
                        <t t-if="thread.correspondent and thread.correspondent.im_status">
                            <PartnerImStatusIcon class="o_ThreadPreview_partnerImStatusIcon" t-att-class="{                                     'o-mobile': env.messaging.device.isMobile,                                     'o-muted': thread.localMessageUnreadCounter === 0,                                 }" partnerLocalId="thread.correspondent.localId"/>
                        </t>
                    </div>
                </div>
                <div class="o_ThreadPreview_content">
                    <div class="o_ThreadPreview_header">
                        <span class="o_ThreadPreview_name" t-att-class="{ 'o-mobile': env.messaging.device.isMobile, 'o-muted': thread.localMessageUnreadCounter === 0 }">
                            <t t-esc="thread.displayName"/>
                        </span>
                        <t t-if="thread.localMessageUnreadCounter &gt; 0">
                            <span class="o_ThreadPreview_counter" t-att-class="{ 'o-muted': thread.localMessageUnreadCounter === 0 }">
                                (<t t-esc="thread.localMessageUnreadCounter"/>)
                            </span>
                        </t>
                        <span class="o-autogrow"/>
                        <t t-if="thread.lastMessage">
                            <span class="o_ThreadPreview_date" t-att-class="{ 'o-muted': thread.localMessageUnreadCounter === 0 }">
                                <t t-esc="thread.lastMessage.date.fromNow()"/>
                            </span>
                        </t>
                    </div>
                    <div class="o_ThreadPreview_core">
                        <span class="o_ThreadPreview_coreItem o_ThreadPreview_inlineText" t-att-class="{ 'o-empty': inlineLastMessageBody.length === 0 }">
                            <t t-if="thread.lastMessage and thread.lastMessage.author">
                                <MessageAuthorPrefix messageLocalId="thread.lastMessage.localId" threadLocalId="thread.localId"/>
                            </t>
                            <t t-esc="inlineLastMessageBody"/>
                        </span>
                        <span class="o-autogrow"/>
                        <t t-if="thread.localMessageUnreadCounter &gt; 0">
                            <span class="o_ThreadPreview_coreItem o_ThreadPreview_markAsRead fa fa-check" title="Mark as Read" t-on-click="_onClickMarkAsRead" t-ref="markAsRead"/>
                        </t>
                    </div>
                </div>
            </t>
        </div>
    </t>

<t t-name="mail.ThreadTextualTypingStatus" owl="1">
        <div class="o_ThreadTextualTypingStatus">
            <t t-if="thread and thread.orderedOtherTypingMembers.length &gt; 0">
                <ThreadTypingIcon animation="'pulse'" size="'medium'"/>
                <span class="o_ThreadTextualTypingStatus_separator"/>
                <span t-esc="thread.typingStatusText"/>
            </t>
        </div>
    </t>

<t t-name="mail.ThreadTypingIcon" owl="1">
        <div class="o_ThreadTypingIcon" t-att-title="props.title">
            <span class="o_ThreadTypingIcon_dot o_ThreadTypingIcon_dot1" t-att-class="{                 'o-animationBounce': props.animation === 'bounce',                 'o-animationPulse': props.animation === 'pulse',                 'o-sizeMedium': props.size === 'medium',                 'o-sizeSmall': props.size === 'small',             }"/>
            <span class="o_ThreadTypingIcon_separator"/>
            <span class="o_ThreadTypingIcon_dot o_ThreadTypingIcon_dot2" t-att-class="{                 'o-animationBounce': props.animation === 'bounce',                 'o-animationPulse': props.animation === 'pulse',                 'o-sizeMedium': props.size === 'medium',                 'o-sizeSmall': props.size === 'small',             }"/>
            <span class="o_ThreadTypingIcon_separator"/>
            <span class="o_ThreadTypingIcon_dot o_ThreadTypingIcon_dot3" t-att-class="{                 'o-animationBounce': props.animation === 'bounce',                 'o-animationPulse': props.animation === 'pulse',                 'o-sizeMedium': props.size === 'medium',                 'o-sizeSmall': props.size === 'small',             }"/>
        </div>
    </t>

<t t-name="mail.ThreadView" owl="1">
        <div class="o_ThreadView" t-att-data-correspondent-id="threadView and threadView.thread and threadView.thread.correspondent and threadView.thread.correspondent.id" t-att-data-thread-local-id="threadView and threadView.thread and threadView.thread.localId">
            <t t-if="threadView">
                <t t-if="threadView.isLoading and !threadView.threadCache.isLoaded" name="loadingCondition">
                    <div class="o_ThreadView_loading">
                        <span><i class="o_ThreadView_loadingIcon fa fa-spinner fa-spin" title="Loading..." role="img"/>Loading...</span>
                    </div>
                </t>
                <t t-elif="threadView.threadCache.isLoaded or threadView.thread.isTemporary">
                    <MessageList class="o_ThreadView_messageList" getScrollableElement="props.getScrollableElement" hasMessageCheckbox="props.hasMessageCheckbox" hasScrollAdjust="props.hasScrollAdjust" hasSquashCloseMessages="props.hasSquashCloseMessages" haveMessagesMarkAsReadIcon="props.haveMessagesMarkAsReadIcon" haveMessagesReplyIcon="props.haveMessagesReplyIcon" order="props.order" selectedMessageLocalId="props.selectedMessageLocalId" threadViewLocalId="threadView.localId" t-ref="messageList"/>
                </t>
                <t t-elif="props.hasComposer">
                    <div class="o-autogrow"/>
                </t>
                <t t-if="props.hasComposer">
                    <Composer class="o_ThreadView_composer" attachmentsDetailsMode="props.composerAttachmentsDetailsMode" composerLocalId="threadView.thread.composer.localId" hasCurrentPartnerAvatar="props.hasComposerCurrentPartnerAvatar" hasSendButton="props.hasComposerSendButton" hasThreadTyping="props.hasComposerThreadTyping" isCompact="(threadView.thread.model === 'mail.channel' and threadView.thread.mass_mailing) ? false : undefined" isDoFocus="props.isDoFocus" showAttachmentsExtensions="props.showComposerAttachmentsExtensions" showAttachmentsFilenames="props.showComposerAttachmentsFilenames" textInputSendShortcuts="threadView.textInputSendShortcuts" t-ref="composer"/>
                </t>
            </t>
        </div>
    </t>

<t t-name="mail.widgets.UserStatus">
        <span>
            <t t-if="status == 'online'">
                <i class="o_mail_user_status o_user_online fa fa-circle" title="Online" role="img" aria-label="User is online"/>
            </t>
            <t t-if="status == 'away'">
                <i class="fa fa-circle o_mail_user_status o_user_idle" title="Idle" role="img" aria-label="User is idle"/>
            </t>
            <t t-if="status == 'offline'">
                <i class="o_mail_user_status fa fa-circle-o" title="Offline" role="img" aria-label="User is offline"/>
            </t>
            <t t-if="status == 'bot'">
                <i class="o_mail_user_status o_user_online fa fa-heart" title="Bot" role="img" aria-label="User is a bot"/>
            </t>
        </span>
    </t>

<t t-name="mail.widgets.Discuss">
        <div class="o_widget_Discuss"/>
    </t>

    
    <t t-name="mail.widgets.Discuss.DiscussControlButtons">
        <div>
            <button class="o_widget_Discuss_controlPanelButtonInvite o_invite o_hidden btn btn-primary" type="button" title="Invite people">Invite</button>
            <button class="o_widget_Discuss_controlPanelButtonMarkAllRead o_hidden btn btn-secondary" type="button" title="Mark all as read">Mark all read</button>
            <button class="o_widget_Discuss_controlPanelButtonUnstarAll o_unstar_all o_hidden btn btn-secondary" type="button" title="Unstar all messages">Unstar all</button>
            <button class="o_widget_Discuss_controlPanelButtonMobileNewMessage o_mobile_new_message o_hidden btn btn-secondary" type="button" title="New Message">New Message</button>
            <button class="o_widget_Discuss_controlPanelButtonMobileNewChannel o_mobile_new_channel o_hidden btn btn-secondary" title="New Channel" type="button">New Channel</button>
            <button class="o_widget_Discuss_controlPanelButtonSelectAll btn btn-secondary o_hidden" title="Select all messages">Select All</button>
            <button class="o_widget_Discuss_controlPanelButtonUnselectAll btn btn-secondary o_hidden" title="Unselect all messages">Unselect All</button>
            <button class="o_widget_Discuss_controlPanelButtonModeration btn btn-secondary o_hidden o-accept" title="Accept selected messages">Accept</button>
            <button class="o_widget_Discuss_controlPanelButtonModeration btn btn-secondary o_hidden o-reject" title="Reject selected messages">Reject</button>
            <button class="o_widget_Discuss_controlPanelButtonModeration btn btn-secondary o_hidden o-discard" title="Discard selected messages">Discard</button>
        </div>
    </t>

<t t-name="mail.widgets.DiscussInvitePartnerDialog">
        <div>
            <input class="o_dialog o_input o_invite_partner" type="text"/>
        </div>
    </t>

<t t-name="mail.widgets.MessagingMenu">
        <li class="o_widget_SystrayMessagingItem"/>
    </t>

<t t-name="product.report_pricelist_qty">
        <span>
            <div class="input-group">
                <input type="number" name="qty_to_add" class="o_input o_product_qty form-control text-right" value="1" min="1"/>
                <div class="input-group-append">
                    <button class="btn btn-secondary o_add_qty text-right form-control" type="submit" title="Add a quantity">
                        <i class="fa fa-plus"/>
                    </button>
                </div>
            </div>
            <span class="o_badges">
                <t t-set="quantities" t-value="widget.quantities"/>
                <t t-call="product.report_pricelist_qty_badges"/>
            </span>
        </span>
    </t>

    <t t-name="product.report_pricelist_search">
        <form class="form-inline ml-4 o_pricelist_report_form">
            <div class="form-group">
                <label class="font-weight-bold">Pricelist:</label>
                <div class="row">
                    <div class="col mr-4">
                        <span class="o_pricelist"/>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="font-weight-bold" for="qty_to_add">Quantities:</label>
                <div class="row">
                    <div class="col">
                        <span class="o_product_qty"/>
                    </div>
                </div>
            </div>
        </form>
    </t>

    <t t-name="product.report_pricelist_qty_badges">
        <t t-foreach="quantities" t-as="qty">
            <span class="badge badge-pill border" t-att-data-qty="qty">
                <t t-esc="qty"/>
                <i class="fa fa-close o_remove_qty" title="Remove quantity"/>
            </span>
        </t>
    </t>

<t t-name="web_editor.snippet_overlay">
        <div class="oe_overlay">
            <div class="o_handles">
                
                <div class="o_handle n readonly"/>
                <div class="o_handle e readonly"/>
                <div class="o_handle w readonly"/>
                <div class="o_handle s readonly"/>

                <div class="o_overlay_options_wrap">
                    
                    <div class="o_overlay_move_options">
                        
                        <div class="o_move_handle"/>
                    </div>
                    <button type="button" class="oe_snippet_remove fa fa-trash"/>
                </div>
            </div>
        </div>
    </t>
    <t t-name="web_editor.customize_block_options_section">
        <we-customizeblock-options>
            <we-title>
                <span t-esc="name"/>
                <we-top-button-group>
                    <we-button class="fa fa-fw fa-clone oe_snippet_clone o_we_link o_we_hover_success" title="Duplicate Container" aria-label="Duplicate Container"/>
                    <we-button class="fa fa-fw fa-trash oe_snippet_remove o_we_link o_we_hover_danger" title="Remove Block" aria-label="Remove Block"/>
                </we-top-button-group>
            </we-title>
        </we-customizeblock-options>
    </t>
    <t t-name="web_editor.outdated_block_message">
        <we-alert>
            <we-title>This block is outdated</we-title>
            <span>To make changes, drop this block and use the new options in the last version.</span>
        </we-alert>
    </t>

    
    <div t-name="web_editor.snippet.option.colorpicker" class="colorpicker">
        <div class="o_we_colorpicker_switch_panel d-flex justify-content-end px-2">
            <t t-if="widget.withCombinations">
                <button type="button" tabindex="1" class="o_we_colorpicker_switch_pane_btn active" data-target="color-combinations">
                    <span>Combinations</span>
                </button>
                <button type="button" tabindex="2" t-attf-class="o_we_colorpicker_switch_pane_btn #{widget.withCombinations ? '' : 'active'}" data-target="theme-colors">
                    <span>Custom</span>
                </button>
            </t>
            <button t-if="widget.resetButton" type="button" class="my-1 ml-auto o_we_color_btn o_colorpicker_reset">
                <t t-if="widget.withCombinations">None</t>
                <t t-else="">Reset</t>
            </button>
        </div>
        <div t-attf-class="o_colorpicker_sections #{widget.withCombinations ? '' : 'd-none'} pt-2 px-2 pb-3 bg-black-25" data-color-tab="color-combinations">
            
            <t t-foreach="5" t-as="i">
                <t t-call="web_editor.colorpalette.combination.btn">
                    <t t-set="number" t-value="i + 1"/>
                </t>
            </t>
        </div>
        <div t-attf-class="o_colorpicker_sections #{widget.withCombinations ? 'd-none' : ''} py-3 px-2 bg-black-25" data-color-tab="theme-colors"/>
    </div>
    <t t-name="web_editor.colorpalette.combination.btn">
        <button type="button" class="o_we_color_btn o_we_color_combination_btn" t-att-data-color="number" t-attf-title="Preset #{number}">
            <t t-call="web_editor.color.combination.preview"/>
        </button>
    </t>
    <t t-name="web_editor.color.combination.preview">
        <div class="o_we_cc_preview_wrapper d-flex justify-content-between">
            <h1 class="o_we_color_combination_btn_title">Title</h1>
            <p class="o_we_color_combination_btn_text flex-grow-1">Text</p>
            <span class="o_we_color_combination_btn_btn btn btn-sm btn-primary o_btn_preview mr-1"><small>Button</small></span>
            <span class="o_we_color_combination_btn_btn btn btn-sm btn-secondary o_btn_preview"><small>Button</small></span>
        </div>
    </t>

    <t t-name="web_editor.many2one.button">
        <div class="btn-group">
            <a role="button" href="#" class="btn btn-secondary dropdown-toggle d-none" data-toggle="dropdown" data-hover="dropdown" title="Search Contact" aria-label="Search Contact">
                <i class="fa fa-search"/>
            </a>
            <ul class="dropdown-menu contact_menu d-block list-group list-group-flush mx-1" role="menu">
                <li class="px-1"><a role="menuitem" class="dropdown-item pl-1 pr-2"><i class="fa fa-search"/><input href="#" type="email" placeholder="Search" class="ml-2" autocomplete="off"/></a></li>
            </ul>
        </div>
    </t>

    <t t-name="web_editor.many2one.search">
        <t t-foreach="contacts" t-as="item">
            <li class="list-group-item px-2"><a role="menuitem" href="#" t-att-data-id="item.id" t-att-data-name="item.display_name"><t t-esc="item.display_name"/> <t t-if="item.city or item.country_id"><small class="text-muted">(<t t-esc="item.city"/> <t t-esc="item.country_id and item.country_id[1]"/>)</small></t></a></li>
        </t>
    </t>
<t t-name="web_editor.FieldTextHtml.button.translate">
        <div class="btn-group float-right">
            <button t-if="widget.field.translate" class="o_field_translate btn btn-secondary" style="height: 24px; padding: 1px 17px 0px 5px" aria-label="Translate" title="Translate">
                <span class="fa fa-language fa-lg oe_input_icon"/>
            </button>
        </div>
    </t>

    <t t-name="web_editor.FieldTextHtml.fullscreen">
        <span style="margin: 5px; position: fixed; top: 0; right: 0; z-index: 2000;">
            <button class="o_fullscreen btn btn-primary" style="width: 24px; height: 24px; background-color: #337ab7; border: 1px solid #2e6da4; border-radius: 4px; padding: 0; position: relative;">
                <img src="/web_editor/font_to_img/61541/rgb(255,255,255)/16" style="position: absolute; top: 3px; left: 4px;" alt="Fullscreen"/>
            </button>
        </span>
    </t>

<t t-name="wysiwyg.iframeContent"><head>
            <meta charset="utf-8"/>
            <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
            <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
            <t t-foreach="assets || []" t-as="asset">
                <t t-foreach="asset.cssLibs || []" t-as="cssLib">
                    <link type="text/css" rel="stylesheet" t-att-href="cssLib"/>
                </t>
                <t t-foreach="asset.cssContents || []" t-as="cssContent">
                    <style type="text/css" t-raw="cssContent"/>
                </t>
                <t t-foreach="asset.jsLibs || []" t-as="jsLib">
                    <script type="text/javascript" t-att-src="jsLib"/>
                </t>
                <t t-foreach="asset.jsContents || []" t-as="jsContent" t-if="jsContent.indexOf('inline asset') !== -1">
                    <script type="text/javascript" t-raw="jsContent"/>
                </t>
            </t>
            <script type="text/javascript">
                odoo.define('web.session', function () {
                    return window.top.odoo.__DEBUG__.services['web.session'];
                });

                odoo.define('root.widget', function (require) {
                    'use strict';
                    var Widget = require('web.Widget');
                    var widget = new Widget();
                    widget.appendTo(document.body);
                    return widget;
                });

                odoo.define('web.core.top', function (require) {
                    var core = require('web.core');
                    core.qweb.templates = window.top.odoo.__DEBUG__.services['web.core'].qweb.templates;
                });
            </script>
        </head>
        <body id="iframe_target" class="o_in_iframe">
            <div id="web_editor-top-edit"/>
            <div id="wrapwrap">
                <main>
                    <div data-oe-model="model" data-oe-type="html" class="o_editable oe_structure"/>
                </main>
            </div>
            <script type="text/javascript">
                odoo.define('web_editor.wysiwyg.iniframe', function (require) {
                    'use strict';
                    var editor = require('web_editor.editor');

                    window._summernoteSlave = $.summernote;
                    window._summernoteSlave.iframe = true;
                    window._summernoteSlave.lang = window.top.$.summernote.lang;
                    if (window.top.<t t-esc="updateIframeId"/>) {
                        window.top.<t t-esc="updateIframeId"/>(editor.Class, <t t-esc="avoidDoubleLoad"/>);
                    }
                });
            </script>
        </body>
    </t>

    
    
    

    
    <form t-name="wysiwyg.widgets.alt" action="#">
        <div class="form-group row">
            <label class="col-md-3 col-form-label" for="alt" title="'Alt tag' specifies an alternate text for an image, if the image cannot be displayed (slow connection, missing image, screen reader ...).">
               Description <small>(ALT Tag)</small>
            </label>
            <div class="col-md-8">
                <input class="form-control" id="alt" required="required" t-att-value="widget.alt" type="text"/>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-md-3 col-form-label" for="title" title="'Title tag' is shown as a tooltip when you hover the picture.">
               Tooltip  <small>(TITLE Tag)</small>
            </label>
            <div class="col-md-8">
                <input class="form-control" id="title" required="required" t-att-value="widget.tag_title" type="text"/>
            </div>
        </div>
    </form>

    
    <div t-name="wysiwyg.widgets.media">
        <ul class="nav nav-tabs" role="tablist">
            <li t-if="!widget.options.noImages" class="nav-item"><a t-attf-class="nav-link #{widget.isImageActive() ? 'active' : ''}" id="editor-media-image-tab" data-toggle="tab" href="#editor-media-image" role="tab" aria-controls="editor-media-image" t-att-aria-selected="widget.isImageActive().toString()">Image</a></li>
            <li t-if="!widget.options.noDocuments" class="nav-item"><a t-attf-class="nav-link #{widget.isDocumentActive() ? 'active' : ''}" id="editor-media-document-tab" data-toggle="tab" href="#editor-media-document" role="tab" aria-controls="editor-media-document" t-att-aria-selected="widget.isDocumentActive().toString()">Document</a></li>
            <li t-if="!widget.options.noIcons" class="nav-item"><a t-attf-class="nav-link #{widget.isIconActive() ? 'active' : ''}" id="editor-media-icon-tab" data-toggle="tab" href="#editor-media-icon" role="tab" aria-controls="editor-media-icon" t-att-aria-selected="widget.isIconActive().toString()">Pictogram</a></li>
            <li t-if="!widget.options.noVideos" class="nav-item"><a t-attf-class="nav-link #{widget.isVideoActive() ? 'active' : ''}" id="editor-media-video-tab" data-toggle="tab" href="#editor-media-video" role="tab" aria-controls="editor-media-video" t-att-aria-selected="widget.isVideoActive().toString()">Video</a></li>
        </ul>
        
        <div class="tab-content">
            <div t-if="!widget.options.noImages" t-attf-class="tab-pane fade #{widget.isImageActive() ? 'show active': ''}" id="editor-media-image" role="tabpanel" aria-labelledby="editor-media-image-tab"/>
            <div t-if="!widget.options.noDocuments" t-attf-class="tab-pane fade #{widget.isDocumentActive() ? 'show active': ''}" id="editor-media-document" role="tabpanel" aria-labelledby="editor-media-document-tab"/>
            <div t-if="!widget.options.noIcons" t-attf-class="tab-pane fade #{widget.isIconActive() ? 'show active': ''}" id="editor-media-icon" role="tabpanel" aria-labelledby="editor-media-icon-tab"/>
            <div t-if="!widget.options.noVideos" t-attf-class="tab-pane fade #{widget.isVideoActive() ? 'show active': ''}" id="editor-media-video" role="tabpanel" aria-labelledby="editor-media-video-tab"/>
        </div>
    </div>

    <t t-name="wysiwyg.widgets.media.search">
        <div class="input-group ml-auto">
            <input type="text" class="form-control o_we_search" t-att-placeholder="searchPlaceholder.trim()"/>
            <div class="input-group-append">
                <div class="input-group-text o_we_search_icon">
                    <i class="fa fa-search" title="Search" role="img" aria-label="Search"/>
                </div>
            </div>
        </div>
    </t>

    
    <t t-name="wysiwyg.widgets.file">
        <form>
            <t t-call="wysiwyg.widgets.files.submenu"/>
            <div class="form-text o_we_error_text"/>
            <div class="o_we_existing_attachments"/>
            <div class="mt-4 text-center mx-auto o_we_load_more">
                <button class="btn btn-primary o_load_more d-none" type="button">Load more...</button>
                <div class="mt-4 o_load_done_msg d-none">
                    <span><i>All images have been loaded</i></span>
                </div>
            </div>
        </form>
    </t>

    <t t-name="wysiwyg.widgets.files.submenu">
        <div class="form-inline align-items-center py-4">
            <input type="file" class="d-none o_file_input" name="upload" t-att-accept="widget.options.accept" t-att-multiple="widget.options.multiImages &amp;&amp; 'multiple'"/>

            <div class="btn-group">
                <button type="button" class="btn btn-primary o_upload_media_button">
                    <t t-esc="uploadText"/>
                </button>
            </div>

            <div class="input-group align-items-center ml-2">
                <input type="text" class="form-control o_we_url_input o_we_horizontal_collapse o_we_transition_ease" name="url" t-att-placeholder="urlPlaceholder"/>
                <div class="input-group-append align-items-center">
                    <button type="button" class="btn btn-secondary o_upload_media_url_button">
                        <t t-esc="addText"/>
                    </button>
                    <div class="ml-2">
                        <span class="o_we_url_success text-success d-none fa fa-lg fa-check" title="The URL seems valid."/>
                        <span class="o_we_url_warning text-warning d-none fa fa-lg fa-warning" t-att-title="urlWarningTitle"/>
                        <span class="o_we_url_error text-danger d-none fa fa-lg fa-times" title="The URL does not seem to work."/>
                    </div>
                </div>
            </div>
            <t t-raw="0"/>
            <t t-call="wysiwyg.widgets.media.search"/>
        </div>
    </t>

    <t t-name="wysiwyg.widgets.image">
        <t t-call="wysiwyg.widgets.file">
            <t t-set="uploadText">Upload an image</t>
            <t t-set="urlPlaceholder">https://www.odoo.com/logo.png</t>
            <t t-set="addText">Add URL</t>
            <t t-set="searchPlaceholder">Search an image</t>
            <t t-set="urlWarningTitle">The URL does not contain any image. The file will be added in the document section.</t>
            <div class="d-flex justify-content-end flex-grow-1 pr-3">
                <div t-attf-class="custom-control custom-switch #{__debug__ and 'd-flex' or 'd-none'} align-items-center mr-2">
                    <input class="o_we_show_optimized ml-2 custom-control-input" type="checkbox" id="o_we_show_optimized_switch"/>
                    <label class="custom-control-label" for="o_we_show_optimized_switch">
                        Show optimized images
                    </label>
                </div>
                <select class="custom-select o_we_search_select">
                    <option value="all">All</option>
                    <option value="database">My Images</option>
                    <option t-if="widget.options.useMediaLibrary" value="media-library">Illustrations</option>
                </select>
            </div>
        </t>
    </t>

    <t t-name="wysiwyg.widgets.document">
        <t t-call="wysiwyg.widgets.file">
            <t t-set="uploadText">Upload a document</t>
            <t t-set="urlPlaceholder">https://www.odoo.com/mydocument</t>
            <t t-set="addText">Add document</t>
            <t t-set="searchPlaceholder">Search a document</t>
            <t t-set="urlWarningTitle">The URL contains an image. The file will be added in the image section.</t>
        </t>
    </t>

    <t t-name="wysiwyg.widgets.image.optimize">
        <form class="o_we_image_optimize_dialog">
            <div class="row">
                <div class="o_we_config_column col-lg-6">
                    <div class="form-group">
                        <label class="o_we_title_label" for="o_we_name_input">
                            Name
                            <i class="fa fa-question-circle-o" title="Give a relevant name to your file to optimize search engine results."/>
                        </label>
                        <input type="text" class="form-control" id="o_we_name_input" name="filename" aria-describedby="nameHelp" t-att-value="widget.attachment.name" required="required"/>
                    </div>

                    <small t-if="widget.disableResize" class="form-text text-muted o_we_no_resize">
                        <span class="fa fa-info-circle"/> Resizing is not supported for images of type <t t-esc="widget.attachment.mimetype"/>.
                    </small>
                    <div t-else="1" class="form-group">
                        <label class="o_we_title_label" for="o_we_name_input">
                            Size
                            <i class="fa fa-question-circle-o" title="Reduce the size as much as possible to increase performance."/>
                        </label>
                        <div class="form-row align-items-center">
                            <div class="col">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text">Width</div>
                                    </div>
                                    <input type="number" class="form-control" id="o_we_width" name="width" aria-describedby="sizeHelp" min="1" t-att-max="widget.image_width" t-att-value="widget.defaultWidth"/>
                                    <div class="input-group-append">
                                        <div class="input-group-text">px</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-auto">
                                <i class="fa fa-times"/>
                            </div>
                            <div class="col">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text">Height</div>
                                    </div>
                                    <input type="number" class="form-control" id="o_we_height" name="height" aria-describedby="sizeHelp" min="1" t-att-max="widget.image_height" t-att-value="widget.defaultHeight"/>
                                    <div class="input-group-append">
                                        <div class="input-group-text">px</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-text small text-right">
                            <i class="fa fa-info-circle text-info"/>
                            <span>Or choose a preset:</span>
                            <t t-foreach="widget.suggestedWidths" t-as="suggestedWidth">
                                <span t-if="suggestedWidth_index &gt; 0">-</span>
                                <a href="#" class="o_we_width_preset" t-att-data-width="suggestedWidth.width" t-esc="suggestedWidth.text"/>
                            </t>
                        </div>
                    </div>

                    <small t-if="widget.disableQuality" class="form-text text-muted o_we_no_quality">
                        <span class="fa fa-info-circle"/> Changing the quality is not supported for images of type <t t-esc="widget.attachment.mimetype"/>.
                    </small>
                    <div class="form-group" t-else="1">
                        <t t-if="widget.toggleQuality">
                            <div class="custom-control custom-switch">
                                <input type="checkbox" class="custom-control-input" id="o_we_optimize_quality" t-att-checked="widget.isExisting ? undefined : 'checked'" aria-describedby="toggleQualityHelp"/>
                                <label class="custom-control-label" for="o_we_optimize_quality">
                                    Optimize
                                    <i class="fa fa-question-circle-o" title="This reduces the quality to increase performance."/>
                                </label>
                            </div>
                        </t>
                        <t t-else="1">
                            <label class="o_we_title_label" for="o_we_quality_input">
                                Quality
                                <i class="fa fa-question-circle-o" title="Reduce the quality as much as possible to increase performance."/>
                            </label>
                            <div class="form-row align-items-center">
                                <div class="col-sm-10">
                                    <input type="range" class="custom-range align-middle o_we_quality_range" id="quality_range" name="quality_range" min="1" max="100" step="1" aria-describedby="rangeQualityHelp" t-att-value="widget.defaultQuality"/>
                                </div>
                                <div class="col-sm-2">
                                    <input type="number" class="form-control" id="o_we_quality_input" name="quality" min="1" max="100" step="1" aria-describedby="rangeQualityHelp" t-att-value="widget.defaultQuality"/>
                                </div>
                            </div>
                        </t>
                    </div>
                </div>
                <div class="o_we_preview_column col-lg-6">
                    <h4>Preview</h4>
                    <div class="mw-100 o_we_preview_area">
                        <img class="img o_we_preview_image" alt="Image Preview"/>
                    </div>
                </div>
            </div>
        </form>
    </t>

    <t t-name="wysiwyg.widgets.image.existing.attachments">
        <div class="o_we_existing_attachments o_we_images d-flex flex-wrap w-100 justify-content-between align-items-stretch my-0">
            <t t-if="!widget.hasContent()">
                <div t-if="widget.needle" class="o_nocontent_help">
                    <p class="o_empty_folder_image">No images found.</p>
                    <p class="o_empty_folder_subtitle">You can upload images with the button located in the top left of the screen.</p>
                </div>
                <div t-else="" class="o_we_search_prompt">
                    <h2>Get the perfect image by searching in our library of copyright free photos and illustrations.</h2>
                </div>
            </t>
            <t t-else="">
                <t t-if="['all', 'database'].includes(widget.searchService)" t-foreach="attachments" t-as="attachment">
                    <t t-call="wysiwyg.widgets.image.existing.attachment"/>
                </t>
                <t t-if="['all', 'media-library'].includes(widget.searchService)" t-foreach="libraryMedia" t-as="media">
                    <t t-call="wysiwyg.widgets.image.library_media"/>
                </t>
                
                <t t-foreach="20">
                    <div class="o_we_attachment_placeholder"/>
                </t>
            </t>
        </div>
    </t>

    <t t-name="wysiwyg.widgets.image.existing.attachment">
        <t t-set="isOptimized" t-value="!!attachment.original_id"/>
        <div t-attf-class="o_existing_attachment_cell position-relative bg-light #{isOptimized and 'o_we_attachment_optimized d-none' or ''} align-items-center justify-content-center" t-att-data-id="attachment.id">
            <t t-call="wysiwyg.widgets.file.existing.remove"/>
            <div class="o_we_media_dialog_img_wrapper">
                <img class="img img-fluid o_we_attachment_highlight" t-attf-src="#{attachment.thumbnail_src or attachment.image_src}" t-att-alt="attachment.name" t-att-title="attachment.name"/>
            </div>
            <span t-if="isOptimized" class="badge badge-success">Optimized</span>
        </div>
    </t>

    <t t-name="wysiwyg.widgets.image.library_media">
        <div t-attf-class="o_existing_attachment_cell position-relative bg-light align-items-center justify-content-center o_library_media_cell" t-att-data-media-id="media.id">
            <div class="o_we_media_dialog_img_wrapper">
                <img class="img img-fluid o_we_attachment_highlight" t-attf-src="#{media.thumbnail_url}" t-att-title="media.tooltip or ''" crossorigin="anonymous"/>
                <a t-if="media.author" class="o_we_media_author" t-att-href="media.author_link" target="_blank" t-esc="media.author"/>
            </div>
        </div>
    </t>

    <t t-name="wysiwyg.widgets.document.existing.attachments">
        <div class="o_we_existing_attachments o_we_documents">
            <div t-if="!attachments.length" class="o_nocontent_help">
                <p class="o_empty_folder_image">No documents found.</p>
                <p class="o_empty_folder_subtitle">You can upload documents with the button located in the top left of the screen.</p>
            </div>
            <div t-else="" class="row mx-auto">
                <t t-foreach="attachments" t-as="attachment">
                    <div class="col-2 o_existing_attachment_cell o_we_attachment_highlight my-2" t-att-data-id="attachment.id">
                        <t t-call="wysiwyg.widgets.file.existing.remove"/>

                        <div t-att-data-url="attachment.url" role="img" t-att-aria-label="attachment.name" t-att-title="attachment.name" t-att-data-mimetype="attachment.mimetype" t-attf-class="o_image d-flex align-items-center justify-content-center"/>
                        <small class="o_file_name" t-esc="attachment.name"/>
                    </div>
                </t>
            </div>
        </div>
    </t>

    <t t-name="wysiwyg.widgets.file.existing.remove">
        <t t-set="removeTitle" t-if="attachment.res_model === 'ir.ui.view'">This file is a public view attachment.</t>
        <t t-set="removeTitle" t-else="">This file is attached to the current record.</t>
        <i class="fa fa-trash o_existing_attachment_remove p-2" t-att-title="removeTitle" role="img" t-att-aria-label="removeTitle"/>
    </t>

    <t t-name="wysiwyg.widgets.image.existing.error">
        <div class="form-text">
            <p>The image could not be deleted because it is used in the
               following pages or views:</p>
            <ul t-as="view" t-foreach="views">
                <li>
                    <a t-attf-href="/web#model=ir.ui.view&amp;id=#{view.id}">
                        <t t-esc="view.name"/>
                    </a>
                </li>
            </ul>
        </div>
    </t>

    
    <t t-name="wysiwyg.widgets.font-icons">
        <form action="#">
            <div class="form-inline align-items-center py-4">
                <t t-call="wysiwyg.widgets.media.search">
                    <t t-set="searchPlaceholder">Search a pictogram</t>
                </t>
            </div>
            <div class="font-icons-icons">
                <t t-call="wysiwyg.widgets.font-icons.icons">
                    <t t-set="iconsParser" t-value="widget.iconsParser"/>
                </t>
            </div>
        </form>
    </t>
    <t t-name="wysiwyg.widgets.font-icons.icons">
        <t t-as="data" t-foreach="iconsParser">
            <span t-foreach="data.cssData" t-as="cssData" t-att-data-id="cssData.names[0]" t-att-title="cssData.names[0]" t-att-aria-label="cssData.names[0]" role="img" t-attf-class="font-icons-icon #{data.base} #{cssData.names[0]}" t-att-data-alias="cssData.names.join(',')"/>
        </t>
    </t>

    
    <t t-name="wysiwyg.widgets.video">
        <form action="#" class="row">
            <div class="col mt-4 o_video_dialog_form">
                <div class="form-group mb-2" id="o_video_form_group">
                    <label class="col-form-label" for="o_video_text">
                        Video code <small>(URL or Embed)</small>
                    </label>
                    <textarea class="form-control" id="o_video_text" placeholder="Copy-paste your URL or embed code here"/>
                </div>
                <div class="text-right">
                    <small class="text-muted">Accepts <b><i>Youtube</i></b>, <b><i>Vimeo</i></b>, <b><i>Dailymotion</i></b> and <b><i>Youku</i></b> videos</small>
                </div>
                <div class="o_video_dialog_options d-none mt-4">
                    <div class="o_youtube_option o_vimeo_option o_dailymotion_option">
                      <label class="o_switch mb0">
                        <input id="o_video_autoplay" type="checkbox"/><span/>
                        <span style="margin-right: 8px;">Autoplay</span>
                        <span class="small text-muted" style="margin-left: auto;">Videos are muted when autoplay is enabled</span>
                      </label>
                    </div>
                    <div class="o_youtube_option o_vimeo_option">
                        <label class="o_switch mb0"><input id="o_video_loop" type="checkbox"/><span/>Loop</label>
                    </div>
                    <div class="o_youtube_option o_dailymotion_option">
                        <label class="o_switch mb0"><input id="o_video_hide_controls" type="checkbox"/><span/>Hide player controls</label>
                    </div>
                    <div class="o_youtube_option">
                        <label class="o_switch mb0"><input id="o_video_hide_fullscreen" type="checkbox"/><span/>Hide fullscreen button</label>
                    </div>
                    <div class="o_youtube_option">
                        <label class="o_switch mb0"><input id="o_video_hide_yt_logo" type="checkbox"/><span/>Hide Youtube logo</label>
                    </div>
                    <div class="o_dailymotion_option">
                        <label class="o_switch mb0"><input id="o_video_hide_dm_logo" type="checkbox"/><span/>Hide Dailymotion logo</label>
                    </div>
                    <div class="o_dailymotion_option">
                        <label class="o_switch mb0"><input id="o_video_hide_dm_share" type="checkbox"/><span/>Hide sharing button</label>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div id="video-preview" class="p-3">
                    <div class="o_video_dialog_preview_text small mb-2 d-none">Preview</div>
                    <div class="media_iframe_video">
                        <div class="media_iframe_video_size"/>
                        <iframe class="o_video_dialog_iframe" allowfullscreen="allowfullscreen" frameborder="0" src=""/>
                    </div>
                </div>
            </div>
        </form>
    </t>


    
    <div t-name="wysiwyg.widgets.link" class="o_link_dialog">
        <div class="row">
            <form class="col-lg-8">
                <div t-attf-class="form-group row#{widget.needLabel ? '' : ' d-none'}">
                    <label class="col-form-label col-md-3" for="o_link_dialog_label_input">Link Label</label>
                    <div class="col-md-9">
                        <input type="text" name="label" class="form-control" id="o_link_dialog_label_input" required="required" t-att-value="widget.data.text"/>
                    </div>
                </div>
                <div id="o_url_input" t-attf-class="form-group row o_url_input#{widget.isButton ? ' d-none' : ''}">
                    <label class="col-form-label col-md-3" for="o_link_dialog_url_input">URL or Email</label>
                    <div class="col-md-9">
                        <input type="text" name="url" class="form-control" id="o_link_dialog_url_input" required="required"/>
                        <div class="form-check o_strip_domain d-none">
                            <input type="checkbox" id="o_link_dialog_url_strip_domain" checked="checked" class="form-check-input"/>
                            <label for="o_link_dialog_url_strip_domain" class="form-check-label font-weight-normal">
                                Autoconvert to relative link
                            </label>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-form-label col-md-3">Type</label>
                    <div class="col-md-9 d-flex align-items-center">
                        <div t-attf-class="#{widget.colorCombinationClass ? ('p-2 ' + widget.colorCombinationClass) : ''}">
                            <t t-foreach="widget.colorsData" t-as="colorData">
                                <label role="button" class="m-0 mr-2">
                                    <input type="radio" name="link_style_color" class="d-none link-style" t-att-value="colorData.type"/>
                                    <span t-esc="colorData.label" t-attf-class="o_btn_preview btn btn-sm btn-#{colorData.btnPreview} #{colorData.type ? '' : 'px-0'}"/>
                                </label>
                            </t>
                        </div>
                    </div>
                </div>
                <div id="o_link_dialog_button_opts_collapse" class="collapse">
                    <div class="form-group row">
                        <label class="col-form-label col-md-3">Size</label>
                        <div class="col-md-9">
                            <select name="link_style_size" class="form-control link-style">
                                <option value="sm">Small</option>
                                <option value="" selected="selected">Medium</option>
                                <option value="lg">Large</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-form-label col-md-3">Style</label>
                        <div class="col-md-9">
                            <select name="link_style_shape" class="form-control link-style">
                                <option value="" selected="selected">Default</option>
                                <option value="rounded-circle">Default + Rounded</option>
                                <option value="outline">Outline</option>
                                <option value="outline,rounded-circle">Outline + Rounded</option>
                                <option value="fill">Fill</option>
                                <option value="fill,rounded-circle">Fill + Rounded</option>
                                <option value="flat">Flat</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div t-if="!widget.isButton" class="form-group row">
                    <div class="offset-md-3 col-md-9">
                        <label class="o_switch">
                            <input type="checkbox" name="is_new_window" t-att-checked="widget.data.isNewWindow ? 'checked' : undefined"/>
                            <span/>
                            Open in new window
                        </label>
                    </div>
                </div>
            </form>
            <div class="col-lg-4 o_link_dialog_preview">
                <div class="form-group text-center">
                    <label>Preview</label>
                    <div t-attf-class="#{widget.colorCombinationClass ? ('p-2 ' + widget.colorCombinationClass) : ''}" style="overflow-x: auto; max-width: 100%; max-height: 200px;">
                        <a href="#" id="link-preview" aria-label="Preview" title="Preview"/>
                    </div>
                </div>
            </div>
        </div>
    </div>

    
    <div t-name="wysiwyg.widgets.crop" class="o_we_crop_widget" contenteditable="false">
        <div class="o_we_cropper_wrapper">
            <img class="o_we_cropper_img"/>
            <div class="o_we_crop_buttons text-center mt16 position-absolute o_we_no_overlay" contenteditable="false">
                <div class="btn-group btn-group-toggle" title="Aspect Ratio" data-toggle="buttons">
                    <t t-foreach="widget.aspectRatios" t-as="ratio">
                        <t t-set="is_active" t-value="ratio === widget.aspectRatio"/>
                        <label t-attf-class="btn #{is_active and 'active' or ''}" data-action="ratio" t-att-data-value="ratio">
                            <input type="radio"/><t t-esc="ratio_value.label"/>
                        </label>
                    </t>
                </div>
                <div class="btn-group" role="group">
                    <button type="button" title="Zoom In" data-action="zoom" data-value="0.1"><i class="fa fa-fw fa-search-plus"/></button>
                    <button type="button" title="Zoom Out" data-action="zoom" data-value="-0.1"><i class="fa fa-fw fa-search-minus"/></button>
                </div>
                <div class="btn-group" role="group">
                    <button type="button" title="Rotate Left" data-action="rotate" data-value="-90"><i class="fa fa-fw fa-rotate-left"/></button>
                    <button type="button" title="Rotate Right" data-action="rotate" data-value="90"><i class="fa fa-fw fa-rotate-right"/></button>
                </div>
                <div class="btn-group" role="group">
                    <button type="button" title="Flip Horizontal" data-action="flip" data-scale-direction="scaleX"><i class="fa fa-fw fa-arrows-h"/></button>
                    <button type="button" title="Flip Vertical" data-action="flip" data-scale-direction="scaleY"><i class="fa fa-fw fa-arrows-v"/></button>
                </div>
                <div class="btn-group" role="group">
                    <button type="button" title="Reset Image" data-action="reset"><i class="fa fa-refresh"/> Reset Image</button>
                </div>
                <div class="btn-group" role="group">
                    <button type="button" title="Apply" data-action="apply" class="btn btn-primary"><i class="fa fa-check"/> Apply</button>
                    <button type="button" title="Discard" data-action="discard" class="btn btn-danger"><i class="fa fa-times"/> Discard</button>
                </div>
            </div>
        </div>
    </div>

<div t-name="wysiwyg.plugin.font.paletteButton" t-attf-class="note-btn-group btn-group {{className}}">
        <button type="button" class="note-btn btn btn-light btn-sm dropdown-toggle" tabindex="-1" data-toggle="dropdown"><i t-att-class="icon"/></button>
        <div class="dropdown-menu"/>
    </div>

    <div t-name="wysiwyg.plugin.font.colorPalette" class="note-palette">
        <button type="button" class="note-color-reset btn btn-light note-color-btn bg-undefined">
            <t t-esc="lang.color.resetToDefault"/></button>
        <div class="note-holder">
            <div class="note-color-palette">
                <h6 class="mt-2">Theme colors</h6>
                <div class="o_theme_color_placeholder"/>
                <h6 class="mt-2">Transparent colors</h6>
                <div class="o_transparent_color_placeholder"/>
                <h6 class="mt-2">Common colors</h6>
                <div class="o_common_color_placeholder">
                    <div class="note-color-row" t-foreach="colors" t-as="rowColors">
                        <button t-foreach="rowColors" t-as="color" type="button" class="note-color-btn" data-toggle="button" tabindex="-1" t-attf-style="background-color:{{color}}" t-att-data-value="color" t-att-title="color"/>
                    </div>
                </div>
            </div>
            <h6 class="note-custom-color mt8">
                <t t-esc="lang.color.customColor"/>
            </h6>
            <button class="note-custom-color-btn note-color-btn" style="display: none;"/>
        </div>
    </div>
<t t-name="web_editor.editorbar">
        <div id="web_editor-toolbars"/>
    </t>

    
    
    

    
    <t t-name="web_editor.background_position_overlay">
        <div class="o_we_background_position_overlay oe_overlay">
            <div class="o_we_overlay_content position-absolute">
                <div class="o_overlay_background"/>
                <div class="o_we_overlay_buttons position-absolute d-flex m-1" style="top: 0">
                    <button class="btn btn-primary mr-1 o_btn_apply">Apply</button>
                    <button class="btn btn-danger o_btn_discard">Discard</button>
                </div>
            </div>
        </div>
    </t>
    
    <t t-name="web_editor.dialog.save_snippet">
        <div>
            <div class="form-group form-row">
                <label class="col-form-label col-md-3" for="snippetName">Name</label>
                <div class="col-md-9">
                    <input type="text" class="form-control o_we_snippet_name_input" id="snippetName" t-att-value="currentSnippetName"/>
                </div>
            </div>
        </div>
    </t>
<t t-name="web_editor.ace_view_editor">
    <div class="o_ace_view_editor">
        <div class="form-inline o_ace_view_editor_title">
            <div class="btn-group o_ace_type_switcher">
                <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">XML (HTML)</button>
                <div class="dropdown-menu" role="menu">
                    <a role="menuitem" href="#" class="dropdown-item o_ace_type_switcher_choice" data-type="xml">XML (HTML)</a>
                    <a role="menuitem" href="#" class="dropdown-item o_ace_type_switcher_choice" data-type="scss">SCSS (CSS)</a>
                    <a role="menuitem" href="#" class="dropdown-item o_ace_type_switcher_choice" data-type="js">JS</a>
                </div>
            </div>
            <select id="ace-view-list" class="o_res_list"/>
            <select id="ace-scss-list" class="o_res_list d-none"/>
            <select id="ace-js-list" class="o_res_list d-none"/>
            <label class="o_include_option oe_include_bundles">
                <div class="dropdown">
                    <button class="btn btn-primary dropdown-toggle" type="button" id="o_dropdown_filter_views" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Filter
                    </button>
                    <div class="dropdown-menu" aria-labelledby="o_dropdown_filter_views">
                        <a class="dropdown-item o_ace_filter active" data-type="xml" data-value="default" href="#">Only Views</a>
                        <a class="dropdown-item o_ace_filter" data-type="xml" data-value="all" href="#">Views and Assets bundles</a>
                    </div>
                </div>
            </label>
            <label class="o_include_option o_include_all_scss d-none">
                <div class="dropdown">
                    <button class="btn btn-primary dropdown-toggle" type="button" id="o_dropdown_filter_assets" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Filter
                    </button>
                    <div class="dropdown-menu" aria-labelledby="o_dropdown_filter_assets">
                        <a class="dropdown-item o_ace_filter active" data-type="scss" data-value="custom" href="#">Only Custom SCSS Files</a>
                        <a class="dropdown-item o_ace_filter" data-type="scss" data-value="restricted" href="#">Only Page SCSS Files</a>
                        <a class="dropdown-item o_ace_filter" data-type="scss" data-value="all" href="#">All SCSS Files</a>
                    </div>
                </div>
            </label>
            <div class="o_button_section">
                <button data-action="save" type="submit" class="btn btn-primary">Save</button>
                <button data-action="close" type="button" class="btn btn-secondary">Close</button>
            </div>
        </div>
        <div id="ace-view-id">
            <div class="float-right mb-2">
                <button data-action="reset" type="button" class="btn btn-sm btn-danger"><i class="fa fa-undo"/> Reset</button>
                <button data-action="format" type="button" class="btn btn-sm btn-link">Format</button>
            </div>
            <span class="o_ace_editor_resource_info"/>
            <div class="alert alert-warning alert-dismissible mt-2 mb-0" role="alert">
                Editing a built-in file through this editor is not advised, as it will prevent it from being updated during future App upgrades.
                <button type="button" class="close" aria-label="Close">
                    <span>×</span>
                </button>
            </div>
        </div>
        <div id="ace-view-editor"/>
    </div>
</t>

<t t-name="portal.chatter_message_count">
        <t t-set="count" t-value="widget.get('message_count')"/>
        <div class="o_message_counter">
            <t t-if="count">
                <span class="fa fa-comments"/>
                <span class="o_message_count"> <t t-esc="count"/></span>
                <t t-if="count == 1">comment</t>
                <t t-else="">comments</t>
            </t>
            <t t-else="">
                There are no comments for now.
            </t>
        </div>
    </t>

    
    <t t-name="portal.Composer">
        <div class="o_portal_chatter_composer" t-if="widget.options['allow_composer']">
            <t t-set="discussion_url" t-value="window.encodeURI(window.location.href.split('#')[0] + '#discussion')"/>
            <t t-if="!widget.options['display_composer']">
                <h4>Leave a comment</h4>
                <p>You must be <a t-attf-href="/web/login?redirect=#{discussion_url}">logged in</a> to post a comment.</p>
            </t>
            <t t-if="widget.options['display_composer']">
                <div class="media">
                    <img alt="Avatar" class="o_portal_chatter_avatar" t-attf-src="/web/image/res.partner/#{widget.options['partner_id']}/image_128/50x50" t-if="!widget.options['is_user_public'] or !widget.options['token']"/>
                    <div class="media-body">
                        <form class="o_portal_chatter_composer_form" t-attf-action="/mail/chatter_post" method="POST">
                            <input type="hidden" name="csrf_token" t-att-value="widget.options['csrf_token']"/>
                            <div class="mb32">
                                <textarea rows="4" name="message" class="form-control" placeholder="Write a message..."/>
                                <input type="hidden" name="res_model" t-att-value="widget.options['res_model']"/>
                                <input type="hidden" name="res_id" t-att-value="widget.options['res_id']"/>
                                <input type="hidden" name="token" t-att-value="widget.options['token']" t-if="widget.options['token']"/>
                                <input type="hidden" name="pid" t-att-value="widget.options['pid']" t-if="widget.options['pid']"/>
                                <input type="hidden" name="hash" t-att-value="widget.options['hash']" t-if="widget.options['hash']"/>
                                <input type="hidden" name="sha_in" t-att-value="widget.options['sha_in']" t-if="widget.options['sha_in']"/>
                                <input type="hidden" name="sha_time" t-att-value="widget.options['sha_time']" t-if="widget.options['sha_time']"/>
                                <input type="hidden" name="redirect" t-att-value="discussion_url"/>
                                <input type="hidden" name="attachment_ids" class="o_portal_chatter_attachment_ids"/>
                                <input type="hidden" name="attachment_tokens" class="o_portal_chatter_attachment_tokens"/>
                                <div class="alert alert-danger mt8 mb0 o_portal_chatter_composer_error" style="display:none;" role="alert">
                                    Oops! Something went wrong. Try to reload the page and log in.
                                </div>
                                <div class="o_portal_chatter_attachments mt-3"/>
                                <div class="mt8">
                                    <button t-attf-class="o_portal_chatter_composer_btn btn btn-primary" type="submit">Send</button>
                                    <button class="o_portal_chatter_attachment_btn btn btn-secondary" type="button" title="Add attachment">
                                        <i class="fa fa-paperclip"/>
                                    </button>
                                </div>
                            </div>
                        </form>
                        <form class="d-none">
                            <input type="file" class="o_portal_chatter_file_input" multiple="multiple"/>
                        </form>
                    </div>
                </div>
            </t>
        </div>
    </t>

    <t t-name="portal.Chatter.Attachments">
        <div t-if="attachments.length" class="row">
            <div t-foreach="attachments" t-as="attachment" class="col-lg-2 col-md-3 col-sm-6">
                <div class="o_portal_chatter_attachment mb-2 position-relative text-center" t-att-data-id="attachment.id">
                    <button t-if="showDelete and attachment.state == 'pending'" class="o_portal_chatter_attachment_delete btn btn-sm btn-outline-danger" title="Delete">
                        <i class="fa fa-times"/>
                    </button>
                    <a t-attf-href="/web/content/#{attachment.id}?download=true&amp;access_token=#{attachment.access_token}" target="_blank">
                        <div class="oe_attachment_embedded o_image" t-att-title="attachment.name" t-att-data-mimetype="attachment.mimetype"/>
                        <div class="o_portal_chatter_attachment_name"><t t-esc="attachment.name"/></div>
                    </a>
                </div>
            </div>
        </div>
    </t>

    

    <t t-name="portal.chatter_messages">
        <div class="o_portal_chatter_messages">
            <t t-foreach="widget.get('messages') || []" t-as="message">
                <div class="media o_portal_chatter_message" t-att-id="'message-' + message.id">
                    <img class="o_portal_chatter_avatar" t-att-src="message.author_avatar_url" alt="avatar"/>
                    <div class="media-body">
                        <t t-call="portal.chatter_internal_toggle" t-if="widget.options['is_user_employee']"/>

                        <div class="o_portal_chatter_message_title">
                            <h5 class="mb-1"><t t-esc="message.author_id[1]"/></h5>
                            <p class="o_portal_chatter_puslished_date"><t t-esc="message.published_date_str"/></p>
                        </div>
                        <t t-raw="message.body"/>

                        <div class="o_portal_chatter_attachments">
                            <t t-call="portal.Chatter.Attachments">
                                <t t-set="attachments" t-value="message.attachment_ids"/>
                            </t>
                        </div>
                    </div>
                </div>
            </t>
        </div>
    </t>

    
    <t t-name="portal.chatter_internal_toggle">
        <div t-attf-class="float-right o_portal_chatter_js_is_internal #{message.is_internal and 'o_portal_message_internal_on' or 'o_portal_message_internal_off'}" t-att-data-message-id="message.id" t-att-data-is-internal="message.is_internal">
            <button class="btn btn-danger" title="Currently restricted to internal employees, click to make it available to everyone viewing this document.">Employees Only</button>
            <button class="btn btn-success" title="Currently available to everyone viewing this document, click to restrict to internal employees.">Visible</button>
        </div>
    </t>

    <t t-name="portal.pager">
        <div class="o_portal_chatter_pager">
            <t t-if="!_.isEmpty(widget.get('pager'))">
                <ul class="pagination" t-if="widget.get('pager')['pages'].length &gt; 1">
                    <li t-if="widget.get('pager')['page'] != widget.get('pager')['page_previous']" t-att-data-page="widget.get('pager')['page_previous']" class="page-item o_portal_chatter_pager_btn">
                        <a href="#" class="page-link"><i class="fa fa-chevron-left" role="img" aria-label="Previous" title="Previous"/></a>
                    </li>
                    <t t-foreach="widget.get('pager')['pages']" t-as="page">
                        <li t-att-data-page="page" t-attf-class="page-item #{page == widget.get('pager')['page'] ? 'o_portal_chatter_pager_btn active' : 'o_portal_chatter_pager_btn'}">
                            <a href="#" class="page-link"><t t-esc="page"/></a>
                        </li>
                    </t>
                    <li t-if="widget.get('pager')['page'] != widget.get('pager')['page_next']" t-att-data-page="widget.get('pager')['page_next']" class="page-item o_portal_chatter_pager_btn">
                        <a href="#" class="page-link"><i class="fa fa-chevron-right" role="img" aria-label="Next" title="Next"/></a>
                    </li>
                </ul>
            </t>
        </div>
    </t>

    <t t-name="portal.Chatter">
        <div class="o_portal_chatter p-0">
            <div class="o_portal_chatter_header">
                <t t-call="portal.chatter_message_count"/>
            </div>
            <hr t-if="widget.options['allow_composer']"/>
            <div class="o_portal_chatter_composer"/>
            <hr/>
            <t t-call="portal.chatter_messages"/>
            <div class="o_portal_chatter_footer">
                <t t-call="portal.pager"/>
            </div>
        </div>
    </t>

<t t-name="portal.portal_signature">
        <form method="POST">
            <input type="hidden" name="csrf_token" t-att-value="widget.csrf_token"/>
            <div class="o_web_sign_name_and_signature"/>
            <div class="o_portal_sign_controls my-3">
                <div class="text-right my-3">
                    <button type="submit" class="o_portal_sign_submit btn btn-primary" disabled="disabled">
                        <i class="fa fa-check"/>
                        <t t-esc="widget.sendLabel"/>
                    </button>
                </div>
            </div>
        </form>
    </t>
    
    <t t-name="portal.portal_signature_success">
        <div class="alert alert-success" role="status">
            <span t-if="widget.message" t-esc="widget.message"/>
            <span t-else="">Thank You!</span>
            <a t-if="widget.redirect_url" t-att-href="widget.redirect_url">
                <t t-if="widget.redirect_message" t-esc="widget.redirect_message"/>
                <t t-else="">Click here to see your document.</t>
            </a>
        </div>
    </t>
    
    <t t-name="portal.portal_signature_error">
        <div class="o_portal_sign_error_msg alert alert-danger" role="status">
            <t t-esc="widget.error"/>
        </div>
    </t>
<t t-name="ShowPaymentInfo">
        <div>
            <t t-if="outstanding">
                <div>
                    <strong class="float-left" id="outstanding"><t t-esc="title"/></strong>
                </div>
            </t>
            <table style="width:100%;">
                <t t-foreach="lines" t-as="line">
                    <tr>
                    <t t-if="outstanding">
                        <td>
                            <a title="assign to invoice" role="button" class="oe_form_field btn btn-link outstanding_credit_assign" t-att-data-id="line.id" style="margin-right: 10px;" href="#" data-toggle="tooltip">Add</a>
                        </td>
                        <td style="max-width: 30em;">
                            <div class="oe_form_field" style="margin-right: 30px; text-overflow: ellipsis; overflow: hidden; white-space: nowrap;" t-att-title="line.date" data-toggle="tooltip"><t t-esc="line.journal_name"/></div>
                        </td>
                    </t>
                    <t t-if="!outstanding">
                        <td>
                           <a role="button" tabindex="0" class="js_payment_info fa fa-info-circle" t-att-index="line.index" style="margin-right:5px;" aria-label="Info" title="Payment Info" data-toggle="tooltip"/>
                        </td>
                        <td>
                            <i class="o_field_widget text-right o_payment_label">Paid on <t t-esc="line.date"/></i>
                        </td>
                    </t>
                        <td style="text-align:right;">
                            <span class="oe_form_field oe_form_field_float oe_form_field_monetary" style="margin-left: -10px;">
                                <t t-if="line.position === 'before'">
                                    <t t-esc="line.currency"/>
                                </t>
                                <t t-esc="line.amount"/>
                                <t t-if="line.position === 'after'">
                                    <t t-esc="line.currency"/>
                                </t>
                            </span>
                        </td>
                    </tr>
                </t>
            </table>
        </div>
    </t>

    <t t-name="PaymentPopOver">
        <div>
            <table>
                <tr>
                    <td><strong>Amount: </strong></td>
                    <td>
                        <t t-if="position === 'before'">
                            <t t-esc="currency"/>
                        </t>
                        <t t-esc="amount"/>
                        <t t-if="position === 'after'">
                            <t t-esc="currency"/>
                        </t>
                    </td>
                </tr>
                 <tr>
                    <td><strong>Memo: </strong></td>
                    <td>
                        <div style="width: 200px; word-wrap: break-word">
                            <t t-esc="ref"/>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><strong>Date: </strong></td>
                    <td><t t-esc="date"/></td>
                </tr>
                <tr>
                    <td><strong>Payment Journal: </strong></td>
                    <td><t t-esc="journal_name"/><span t-if="payment_method_name"> (<t t-esc="payment_method_name"/>)</span></td>
                </tr>
            </table>
        </div>
        <button class="btn btn-sm btn-primary js_unreconcile_payment float-left" t-att-partial-id="partial_id" t-att-payment-id="payment_id" t-att-move-id="move_id" style="margin-top:5px; margin-bottom:5px;" groups="account.group_account_invoice">Unreconcile</button>
        <button class="btn btn-sm btn-secondary js_open_payment float-right" t-att-payment-id="account_payment_id" t-att-move-id="move_id" style="margin-top:5px; margin-bottom:5px;">View</button>
    </t>

<div t-name="account.ResequenceRenderer" owl="1" class="d-block">
        <table t-if="data.changeLines.length" class="table table-sm">
            <thead><tr>
                <th>Date</th>
                <th>Before</th>
                <th>After</th>
            </tr></thead>
            <tbody t-foreach="data.changeLines" t-as="changeLine" t-key="changeLine.id">
                <ChangeLine changeLine="changeLine" ordering="data.ordering"/>
            </tbody>
        </table>
    </div>

    <t t-name="account.ResequenceChangeLine" owl="1">
        <tr>
            <td t-esc="props.changeLine.date"/>
            <td t-esc="props.changeLine.current_name"/>
            <td t-if="props.ordering == 'keep'" t-esc="props.changeLine.new_by_name" t-attf-class="{{ props.changeLine.new_by_name != props.changeLine.new_by_date ? 'animate' : ''}}"/>
            <td t-else="" t-esc="props.changeLine.new_by_date" t-attf-class="{{ props.changeLine.new_by_name != props.changeLine.new_by_date ? 'animate' : ''}}"/>
        </tr>
    </t>
<t t-name="account.BillsHiddenUploadForm">
        <div class="d-none o_vendor_bill_upload">
            <t t-call="HiddenInputFile">
                <t t-set="multi_upload" t-value="true"/>
                <t t-set="fileupload_id" t-value="widget.fileUploadID"/>
                <t t-set="fileupload_action" t-translation="off">/web/binary/upload_attachment</t>
                <input type="hidden" name="model" value=""/>
                <input type="hidden" name="id" value="0"/>
            </t>
        </div>
    </t>

    <t t-extend="ListView.buttons" t-name="BillsListView.buttons">
        <t t-jquery="button.o_list_button_add" t-operation="after">
            <button type="button" class="btn btn-secondary o_button_upload_bill">
                Upload
            </button>
        </t>
    </t>
<t t-name="accountJournalDashboardActivity">
        <t t-foreach="activities" t-as="activity">
            <div class="row">
                <div class="col-8 o_mail_activity">
                    <a href="#" t-att-class="(activity.status == 'late' ? 'o_activity_color_overdue ' : ' ') + (activity.activity_category == 'tax_report' ? 'o_open_vat_report' : 'see_activity')" t-att-data-res-id="activity.res_id" t-att-data-id="activity.id" t-att-data-model="activity.res_model">
                        <t t-esc="activity.name"/>
                    </a>
                </div>
                <div class="col-4 text-right">
                    <span><t t-esc="activity.date"/></span>
                </div>
            </div>
        </t>
        <a t-if="more_activities" class="pull-right see_all_activities" href="#">See all activities</a>
    </t>

<div t-name="account.GroupedListTemplate" owl="1" class="d-block">
        <table t-if="data.groups_vals.length" class="table table-sm o_list_table table table-sm table-hover table-striped o_list_table_grouped">
            <thead><tr>
                <t t-foreach="data.options.columns" t-as="col">
                    <th t-esc="col['label']" t-attf-class="{{col['class']}}"/>
                </t>
            </tr></thead>
            <t t-foreach="data.groups_vals" t-as="group_vals">
                <ListGroup group_vals="group_vals" options="data.options"/>
            </t>
        </table>
        <t t-if="data.options.discarded_number">
            <span><t t-esc="data.options.discarded_number"/> are not shown in the preview</span>
        </t>
    </div>

    <tbody t-name="account.GroupedItemsTemplate" owl="1">
        <tr style="background-color: #dee2e6;">
            <td t-attf-colspan="{{props.options.columns.length}}">
                <t t-esc="props.group_vals.group_name"/>
            </td>
        </tr>
        <t t-foreach="props.group_vals.items_vals" t-as="item_vals">
            <ListItem item_vals="item_vals[2]" options="props.options"/>
        </t>
    </tbody>

    <tr t-name="account.GroupedItemTemplate" owl="1">
        <t t-foreach="props.options.columns" t-as="col">
            <td t-esc="props.item_vals[col['field']]" t-attf-class="{{col['class']}}"/>
        </t>
    </tr>

<t t-name="AccountTaxGroupTemplate">
        <table class="o_group o_inner_group oe_subtotal_footer border-0 my-0" style="min-width: 100%;">
            <tbody>
                <t t-foreach="lines" t-as="line">
                    <tr>
                        <td class="o_td_label oe_tax_group_name">
                            <label class="o_form_label" t-esc="line[0]"/>
                        </td>
                        <td class="oe_tax_group_editable" t-att-data-tax-group-id="line[6]">
                            <t t-if="displayEditWidget and line[1] !== 0">
                                <span class="tax_group_edit">
                                    <i class="fa fa-pencil"/>
                                    <span class="oe_tax_group_amount_value">
                                        <t t-esc="line[3]"/>
                                    </span>
                                </span>
                                <span class="tax_group_edit_input d-none">
                                    <input type="text" class="o_field_float o_field_number o_input" t-att-data-original-value="line[1]"/>
                                </span>
                            </t>
                            <t t-if="!displayEditWidget or line[1] === 0">
                                <span class="oe_tax_group_amount_value">
                                    <t t-esc="line[3]"/>
                                </span>
                            </t>
                        </td>
                    </tr>
                </t>
            </tbody>
        </table>
    </t>
<div t-name="WidgetWebsiteButton" class="o_stat_info published">
        <span class="o_stat_text o_value"/>
        <span class="o_stat_text">On Website</span>
    </div>

    <t t-name="WidgetWebsiteButtonIcon">
        <button type="button" class="btn oe_stat_button">
            <i class="fa fa-fw o_button_icon fa-globe"/>
            <div class="o_stat_info">
                <span class="o_stat_text">Go to<br/>Website</span>
            </div>
        </button>
    </t>

    <t t-name="website.WebsiteDashboardMain">
        <div class="o_dashboards">
            <div class="container-fluid o_website_dashboard">
                <t t-call="website.dashboard_header"/>
                <t t-call="website.dashboard_content"/>
            </div>
        </div>
    </t>

    <t t-name="website.dashboard_header">
        <div class="row o_dashboard_common"/>
    </t>

    <t t-name="website.dashboard_content">
        <div class="o_website_dashboard_content">
            <t t-call="website.google_analytics_content"/>
        </div>
    </t>
    <t t-name="website.google_analytics_content">
        <div class="row o_dashboard_visits" t-if="widget.groups.website_designer">
            <div class="col-12 o_box">
                <h2>Visits</h2>
                <div t-if="widget.dashboards_data.visits &amp;&amp; widget.dashboards_data.visits.ga_client_id">
                    <div class="row js_analytics_components"/>
                    <a href="#" class="js_link_analytics_settings">Edit my Analytics Client ID</a>
                </div>
                <div t-if="!(widget.dashboards_data.visits &amp;&amp; widget.dashboards_data.visits.ga_client_id)" class="col-lg-12">
                    <div class="o_demo_background">
                        <div class="o_layer">
                        </div>
                        <div class="o_buttons text-center">
                            <h3>There is no data currently available.</h3>
                            <button class="btn btn-primary js_link_analytics_settings d-block mx-auto mb8">Connect Google Analytics</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <div t-name="website.unauthorized_analytics" class="col-12 js_unauthorized_message mb16">
        <span t-if="reason === 'not_connected'">You need to log in to your Google Account before: </span>
        <span t-if="reason === 'no_right'">You do not seem to have access to this Analytics Account.</span>
        <span t-if="reason === 'not_initialized'">Google Analytics initialization failed. Maybe this domain is not whitelisted in your Google Analytics project for this client ID.</span>
    </div>

    <div t-name="website.ga_dialog_content">
        Your Tracking ID: <input type="text" name="ga_analytics_key" placeholder="UA-XXXXXXXX-Y" t-att-value="ga_analytics_key" style="width: 100%"/>
        <a href="https://www.odoo.com/documentation/14.0/applications/websites/website/optimize/google_analytics.html" target="_blank">
            <i class="fa fa-arrow-right"/>
            How to get my Tracking ID
        </a>
        <br/><br/>
        Your Client ID: <input type="text" name="ga_client_id" t-att-value="ga_key" style="width: 100%"/>
        <a href="https://www.odoo.com/documentation/14.0/applications/websites/website/optimize/google_analytics_dashboard.html" target="_blank">
            <i class="fa fa-arrow-right"/>
            How to get my Client ID
        </a>
    </div>

    <t t-name="website.DateRangeButtons">
        
        <div class="btn-group o_date_range_buttons d-none d-md-inline-flex float-right">
            <button class="btn btn-secondary js_date_range active" data-date="week">Last Week</button>
            <button class="btn btn-secondary js_date_range" data-date="month">Last Month</button>
            <button class="btn btn-secondary js_date_range" data-date="year">Last Year</button>
        </div>
        <div class="btn-group d-none d-md-inline-block float-right" style="margin-right: 20px;">
            <t t-foreach="widget.websites" t-as="website">
                <button t-attf-class="btn btn-secondary js_website #{website.selected ? 'active' : ''}" t-att-data-website-id="website.id">
                    <t t-esc="website.name"/>
                </button>
            </t>
        </div>
    </t>

    <t t-name="website.GoToButtons">
        <a role="button" href="/" class="btn btn-primary" title="Go to Website">
            Go to Website
        </a>
    </t>

<t t-name="website.iframeWidget">
        <iframe t-if="url" height="100%" width="100%" frameBorder="0" t-att-src="url" class="d-block"/>
        <div t-else="">No Url</div>
    </t>

<t t-name="website.ThemePreview.Buttons">
        <div>
            <div class="o_form_buttons_view" role="toolbar" aria-label="Main actions">
                <button type="object" name="button_choose_theme" class="btn btn-primary o_use_theme">
                    Start Now
                </button>
                <button class="btn btn-link o_switch_theme">
                    Choose another theme
                </button>
            </div>
        </div>
    </t>

    <t t-name="website.ThemePreview.SwitchModeButton">
        <div class="btn-group btn-group-toggle ml-1" data-toggle="buttons">
            <label class="btn btn-secondary active">
                <input type="radio" name="viewer" data-mode="desktop" autocomplete="off" checked="checked"/> Desktop
            </label>
            <label class="btn btn-secondary">
                <input type="radio" name="viewer" data-mode="mobile" autocomplete="off"/> Mobile
            </label>
        </div>
    </t>
    <t t-name="website.ThemePreview.Loader">
        <div class="o_theme_install_loader_container position-fixed fixed-top fixed-left             h-100 w-100 d-flex flex-column align-items-center text-white font-weight-bold">
            <t t-if="showTips">Building your website...</t>
            <div class="o_theme_install_loader"/>
            <p t-if="showTips" class="o_theme_install_loader_tip text-center w-25">
                TIP: Follow the
                <span class="o_tooltip o_tooltip_visible top o_animated position-relative"/>
                to build the perfect page in 5 steps.
            </p>
        </div>
    </t>
<button t-name="InventoryReport.Buttons" class="btn btn-primary" type="button">
    Inventory at Date
</button>

<t t-name="InventoryLines.Buttons">
        <button type="button" class="btn btn-primary o_button_validate_inventory">
            Validate Inventory
        </button>
    </t>
<t t-name="stock.popoverButton">
        <a tabindex="0" t-attf-class="p-1 fa #{ icon || 'fa-info-circle'} #{ color || 'text-primary'}"/>
    </t>

    <div t-name="stock.popoverContent">
        <t t-esc="msg"/>
    </div>

    <div t-name="stock.PopoverStockRescheduling">
        <p>Preceding operations
        <t t-foreach="late_elements" t-as="late_element">
            <a t-esc="late_element.name" href="#" t-att-element-id="late_element.id" t-att-element-model="late_element.model"/>,
        </t>
        planned on <t t-esc="delay_alert_date"/>.</p>
    </div>
<t t-name="stock.forecastWidget">
        <span t-if="['draft', 'partially_available', 'assigned', 'cancel', 'done'].includes(state)" t-esc="reserved_availability_str"/>
        <span t-elif="!forecast_expected_date_str and will_be_fulfilled" class="text-success">Available</span>
        <span t-elif="forecast_expected_date_str and will_be_fulfilled" t-att-class="forecast_is_late ? 'text-danger' : 'text-warning'">Exp <t t-esc="forecast_expected_date_str"/></span>
        <span t-else="" class="text-danger">Not Available</span>
        <button t-if="product_type == 'product'" t-att="id ? {} : {'disabled': ''}" class="o_forecast_report_button btn btn-link o_icon_button ml-2" title="Forecasted Report">
            <i t-attf-class="fa fa-fw fa-area-chart {{ state != 'draft' and (!will_be_fulfilled or forecast_is_late) ? 'text-danger' : '' }}"/>
        </button>
    </t>
<button t-name="replenish_report_buttons" class="btn btn-primary o_report_replenish_buy" type="button" title="Replenish">
    Replenish
</button>

<t t-name="warehouseFilter">
    <div id="warehouse_filter" class="btn-group o_dropdown o_stock_report_warehouse_filter" t-if="displayWarehouseFilter">
        <button type="button" class="o_dropdown_toggler_btn btn btn-secondary dropdown-toggle" data-toggle="dropdown">
            <span class="fa fa-home"/> Warehouse: <t t-esc="active_warehouse['name']"/>
        </button>
        <div class="dropdown-menu o_dropdown_menu o_filter_menu" role="menu">
            <t t-foreach="warehouses" t-as="wh">
                <a role="menuitem" class="dropdown-item warehouse_filter" data-filter="warehouses" t-att-data-warehouse-id="wh['id']" t-esc="wh['name']"/>
            </t>
        </div>
    </div>
</t>

<div t-name="stock.leadDaysPopOver">
        <p>
            The forecasted stock on the <t t-esc="lead_days_date"/>
            is <t t-if="qty_to_order &lt;= 0"><t t-esc="qty_forecast"/> <t t-esc="product_uom_name"/></t><t t-else="">
            below the minimum inventory of <t t-esc="product_min_qty"/> <t t-esc="product_uom_name"/>
            : <t t-esc="qty_to_order"/> <t t-esc="product_uom_name"/> should be replenished to reach the maximum of 
            <t t-esc="product_max_qty"/> <t t-esc="product_uom_name"/>.</t>
        </p>
        <table t-if="lead_days_description" class="table table-borderless">
            <tbody>
                <tr>
                    <td>
                        Today
                    </td>
                    <td class="text-right">
                        <t t-esc="today"/>
                    </td>
                </tr>
                <t t-raw="lead_days_description"/>
                <tr class="table-info">
                    <td>
                        Forecasted Date
                    </td>
                    <td class="text-right text-nowrap">
                        = <t t-esc="lead_days_date"/>
                    </td>
                </tr>
            </tbody>
        </table>
        <button class="text-left btn btn-link action_open_forecast" type="button">
            <i class="fa fa-fw o_button_icon fa-arrow-right"/>
            View Forecast
        </button>
    </div>

    <t t-name="StockOrderpoint.Buttons">
        <span>
            <button type="button" class="btn d-none btn-primary o_button_order">
                Order
            </button>
            <button type="button" class="btn d-none btn-primary o_button_snooze">
                Snooze
            </button>
        </span>
    </t>

<t t-name="stockReports.buttons">
        <button type="button" class="btn btn-primary o_stock-widget-pdf">PRINT</button>
    </t>

    <div role="dialog" t-name="stockReports.errorModal" class="modal" id="editable_error" tabindex="-1" data-backdrop="static" style="z-index:9999;">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <header class="modal-header">
                    <h3 class="modal-title">Error</h3>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">×</button>
                </header>
                <main class="modal-body">
                    <p id="insert_error" class="text-center"/>
                </main>
            </div>
        </div>
    </div>

<t t-name="purchase.PurchaseDashboard">
        <div class="o_purchase_dashboard container">
        <div class="row">
            <div class="col-sm-5">
            <table class="table table-sm">
                
                <thead>
                    <tr>
                    
                        <td class="o_text">
                            <div>All RFQs</div>
                        </td>
                        <td class="o_main o_dashboard_action" title="All Draft RFQs" name="purchase.purchase_action_dashboard" context="{&quot;search_default_draft_rfqs&quot;: true}">
                            <a href="#"><t t-esc="values['all_to_send']"/><br/>To Send</a>
                        </td>
                        <td class="o_main o_dashboard_action" title="All Waiting RFQs" name="purchase.purchase_action_dashboard" context="{&quot;search_default_waiting_rfqs&quot;: true}">
                            <a href="#"><t t-esc="values['all_waiting']"/><br/>Waiting</a>
                        </td>
                        <td class="o_main o_dashboard_action" title="All Late RFQs" name="purchase.purchase_action_dashboard" context="{&quot;search_default_late_rfqs&quot;: true}">
                            <a href="#"><t t-esc="values['all_late']"/><br/>Late</a>
                        </td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="o_text">
                            <div>My RFQs</div>
                        </td>
                        <td class="o_main o_dashboard_action" title="My Draft RFQs" name="purchase.purchase_action_dashboard" context="{&quot;search_default_draft_rfqs&quot;: true, &quot;search_default_my_purchases&quot;: true}">
                            <a href="#"><t t-esc="values['my_to_send']"/></a>
                        </td>
                        <td class="o_main o_dashboard_action" title="My Waiting RFQs" name="purchase.purchase_action_dashboard" context="{&quot;search_default_waiting_rfqs&quot;: true, &quot;search_default_my_purchases&quot;: true}">
                            <a href="#"><t t-esc="values['my_waiting']"/></a>
                        </td>
                        <td class="o_main o_dashboard_action" title="My Late RFQs" name="purchase.purchase_action_dashboard" context="{&quot;search_default_late_rfqs&quot;: true, &quot;search_default_my_purchases&quot;: true}">
                            <a href="#"><t t-esc="values['my_late']"/></a>
                        </td>
                    </tr>
                </tbody>
            </table></div>

            <div class="col-sm-7">
            <table class="table table-sm">
                
                <thead>
                    <tr>
                        
                        <td class="o_text">Avg Order Value (<t t-esc="values['company_currency_symbol']"/>)</td>
                        <td><span><t t-esc="values['all_avg_order_value']"/></span></td>
                        <td class="o_text">Purchased Last 7 Days (<t t-esc="values['company_currency_symbol']"/>)</td>
                        <td><span><t t-esc="values['all_total_last_7_days']"/></span></td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="o_text">Lead Time to Purchase</td>
                        <td><span><t t-esc="values['all_avg_days_to_purchase']"/>  Days</span></td>
                        <td class="o_text">RFQs Sent Last 7 Days</td>
                        <td><span><t t-esc="values['all_sent_rfqs']"/></span></td>
                    </tr>
                </tbody>
            </table></div>
        </div></div>
    </t>
<t t-name="purchase.ToasterButton">
        <button t-att-name="widget.button_name" type="button" class="btn oe_inline btn-link" t-att-title="widget.title">
            <i class="fa fa-fw o_button_icon fa-info-circle"/>
        </button>
    </t>

<t t-name="Chrome" owl="1">
        <div class="pos" t-att-class="{ 'big-scrollbars': state.hasBigScrollBars }">
            <div class="pos-receipt-print"/>
            <div class="pos-topheader" t-att-class="{ oe_hidden: state.uiState !== 'READY' }">
                <div t-if="tempScreen.isShown" class="block-top-header"/>
                <div class="pos-branding" t-if="!env.isMobile">
                    <img class="pos-logo" t-on-click="trigger('toggle-debug-widget')" src="/point_of_sale/static/src/img/logo.png" alt="Logo"/>
                    <TicketButton isTicketScreenShown="isTicketScreenShown"/>
                </div>
                <div class="pos-rightheader">
                    <TicketButton isTicketScreenShown="isTicketScreenShown" t-if="env.isMobile"/>
                    <div class="search-bar-portal"/>
                    <div class="status-buttons-portal"/>
                </div>
            </div>
            <t t-if="state.uiState === 'READY'">
                <Portal target="'.pos .status-buttons-portal'">
                    <div class="status-buttons">
                        <t t-if="!env.isMobile">
                            <CashierName/>
                        </t>
                        <OrderManagementButton t-if="env.pos.config.manage_orders"/>
                        <SaleDetailsButton t-if="env.pos.proxy.printer"/>
                        <ProxyStatus t-if="env.pos.config.use_proxy"/>
                        <ClientScreenButton t-if="clientScreenButtonIsShown"/>
                        <SyncNotification/>
                        <HeaderLockButton t-if="env.pos.config.module_pos_hr"/>
            <HeaderButton t-if="headerButtonIsShown"/>
        </div>
                </Portal>
                <div class="pos-content">
                    <div class="window">
                        <div class="subwindow">
                            <div class="subwindow-container">
                                <div class="subwindow-container-fix screens">
                                    <t isShown="!tempScreen.isShown" t-component="mainScreen.component" t-props="mainScreenProps" t-key="mainScreen.name"/>
                                    <t t-if="tempScreen.isShown" t-component="tempScreen.component" t-props="tempScreenProps" t-key="tempScreen.name"/>
                                </div>
                            </div>
                        </div>
                    </div>
                    <DebugWidget t-if="env.isDebug() and state.debugWidgetIsShown" t-transition="fade"/>
                </div>
            </t>

            <div t-if="['LOADING', 'CLOSING'].includes(state.uiState)" class="loader" t-transition="swing">
                <div class="loader-feedback">
                    <h1 class="message">
                        <t t-esc="loading.message"/>
                    </h1>
                    <div class="progressbar">
                        <div class="progress" t-ref="progressbar"/>
                    </div>
                    <div t-if="loading.skipButtonIsShown" class="button skip" t-on-click="trigger('loading-skip-callback')">
                        Skip
                    </div>
                </div>
            </div>

            
            <div t-if="popup.isShown" class="popups">
                <t t-component="popup.component" t-props="popupProps" t-key="popup.name"/>
            </div>

            <NotificationSound t-if="state.sound.src" sound="state.sound"/>
        </div>
    </t>

    <t t-name="CustomerFacingDisplayHead">
        <div class="resources">
            <base t-att-href="origin"/>
            <link href="/point_of_sale/static/src/css/customer_facing_display.css" rel="stylesheet"/>
            <script type="text/javascript">
                // This function needs to be named that way, call it the foreign JS API
                // The iotbox will execute it, with the behavior intended
                function foreign_js() {
                    if ($('.pos-adv').hasClass('pos-hidden')) {
                        $('.pos-customer_facing_display').addClass('pos-js_no_ADV');
                    }
                    $(window).on('resize', function () {
                        $('.pos-customer_facing_display').toggleClass('pos-js_no_ADV', $('.pos-adv').hasClass('pos-hidden'));
                    }).trigger('resize');
                };
            </script>
        </div>
    </t>

    <t t-name="CustomerFacingDisplayOrderLines">
        <t t-foreach="orderlines" t-as="orderline">
            <div class="pos_orderlines_item">
                <div>
                    <div t-attf-style="background-image:url(#{orderline.product.image_base64})"/>
                </div>
                <div>
                    <t t-esc="orderline.get_full_product_name()"/>
                </div>
                <div>
                    <t t-esc="orderline.get_quantity_str()"/>
                </div>
                <div>
                    <t t-esc="pos.format_currency(orderline.get_display_price())"/>
                </div>
            </div>
        </t>
    </t>

    <t t-name="CustomerFacingDisplayPaymentLines">
        <t t-foreach="order.get_paymentlines()" t-as="paymentline">
            <div>
                <span>
                    <t t-esc="paymentline.name"/></span>
            </div>
            <div>
                <span>
                    <t t-esc="pos.format_currency(paymentline.get_amount())"/></span>
            </div>
        </t>
        <t t-if="order.get_paymentlines().length &gt; 0">
            <div>
                <span class="pos-change_title">Change:</span>
            </div>
            <div>
                <span class="pos-change_amount">
                    <t t-esc="pos.format_currency(order.get_change())"/></span>
            </div>
        </t>
    </t>
<t t-extend="WebClient.DebugManager.Backend">
    <t t-jquery="a[data-action='perform_click_everywhere_test']" t-operation="after">
        <a role="menuitem" href="#" data-action="perform_pos_js_tests" class="dropdown-item">Run Point of Sale JS Tests</a>
    </t>
</t>

<t t-name="ProductScreen" owl="1">
        <div class="product-screen screen" t-att-class="{ oe_hidden: !props.isShown }">
            <div class="screen-full-width">
                <div class="leftpane" t-if="!env.isMobile || mobile_pane === 'left'">
                    <t t-if="state.cashControl">
                        <CashBoxOpening cashControl="state"/>
                    </t>
                    <t t-else="">
                        <OrderWidget/>
                            <div class="pads">
                            <div class="control-buttons">
                                <t t-foreach="controlButtons" t-as="cb" t-key="cb.name">
                                    <t t-component="cb.component" t-key="cb.name"/>
                                </t>
                            </div>
                                <div class="subpads">
                                <ActionpadWidget client="client"/>
                                <NumpadWidget activeMode="state.numpadMode"/>
                            </div>
                        </div>
                            <t t-if="env.isMobile">
                            <MobileOrderWidget pane="mobile_pane" t-on-switchpane="switchPane"/>
                        </t>
                    </t>
                </div>
                <div class="rightpane" t-if="!env.isMobile || mobile_pane === 'right'">
                    <ProductsWidget t-if="!state.cashControl"/>
                    <t t-if="env.isMobile">
                        <MobileOrderWidget pane="mobile_pane" t-on-switchpane="switchPane"/>
                    </t>
                </div>
            </div>
        </div>
    </t>

<t t-name="ClientLine" owl="1">
        <tr t-attf-class="client-line {{highlight}}" t-att-data-id="props.partner.id" t-on-click="trigger('click-client', {client: props.partner})">
            <td>
                <t t-esc="props.partner.name"/>
                <span t-if="highlight">
                    <br/><button class="edit-client-button" t-on-click.stop="trigger('click-edit')">EDIT</button>
                </span>
            </td>
            <td t-if="!env.isMobile">
                <t t-esc="props.partner.address"/>
            </td>
            <td t-if="!env.isMobile" style="width: 130px;">
                <t t-esc="props.partner.phone || ''"/>
            </td>
            <td t-if="env.isMobile">
                <t t-esc="props.partner.zip or ''"/>
                <span t-if="highlight"><br/></span>
            </td>
            <td>
                <t t-esc="props.partner.email or ''"/>
                <span t-if="highlight"><br/></span>
            </td>
        </tr>
    </t>

<t t-name="ClientDetailsEdit" owl="1">
        <section class="client-details edit">
            <div class="client-picture">
                <t t-if="partnerImageUrl">
                    <img t-att-src="partnerImageUrl" alt="Partner" style="width: 64px; height: 64px; object-fit: cover;"/>
                </t>
                <t t-else="">
                    <i class="fa fa-camera" role="img" aria-label="Picture" title="Picture"/>
                </t>
                <input type="file" class="image-uploader" t-on-change="uploadImage"/>
            </div>
            <input class="detail client-name" name="name" t-att-value="props.partner.name" placeholder="Name" t-on-change="captureChange"/>
            <div class="client-details-box clearfix">
                <div class="client-details-left">
                    <div class="client-detail">
                        <span class="label">Street</span>
                        <input class="detail client-address-street" name="street" t-on-change="captureChange" t-att-value="props.partner.street || ''" placeholder="Street"/>
                    </div>
                    <div class="client-detail">
                        <span class="label">City</span>
                        <input class="detail client-address-city" name="city" t-on-change="captureChange" t-att-value="props.partner.city || ''" placeholder="City"/>
                    </div>
                    <div class="client-detail">
                        <span class="label">Postcode</span>
                        <input class="detail client-address-zip" name="zip" t-on-change="captureChange" t-att-value="props.partner.zip || ''" placeholder="ZIP"/>
                    </div>
                    <div class="client-detail">
                        <span class="label">State</span>
                        <select class="detail client-address-states needsclick" name="state_id" t-on-change="captureChange">
                            <option value="">None</option>
                            <t t-foreach="env.pos.states" t-as="state" t-key="state.id">
                                <option t-if="props.partner.country_id[0] == state.country_id[0]" t-att-value="state.id" t-att-selected="props.partner.state_id ? ((state.id === props.partner.state_id[0]) ? true : undefined) : undefined">
                                    <t t-esc="state.name"/>
                                </option>
                            </t>
                        </select>
                    </div>
                    <div class="client-detail">
                        <span class="label">Country</span>
                        <select class="detail client-address-country needsclick" name="country_id" t-on-change="captureChange">
                            <option value="">None</option>
                            <t t-foreach="env.pos.countries" t-as="country" t-key="country.id">
                                <option t-att-value="country.id" t-att-selected="props.partner.country_id ? ((country.id === props.partner.country_id[0]) ? true : undefined) : undefined">
                                    <t t-esc="country.name"/>
                                </option>
                            </t>
                        </select>
                    </div>
                </div>
                <div class="client-details-right">
                    <div class="client-detail">
                        <span class="label">Language</span>
                        <select class="detail client-lang needsclick" name="lang" t-on-change="captureChange">
                            <t t-foreach="env.pos.langs" t-as="lang" t-key="lang.id">
                                <option t-att-value="lang.code" t-att-selected="props.partner.lang ? ((lang.code === props.partner.lang) ? true : undefined) : lang.code === env.pos.user.lang? true : undefined">
                                    <t t-esc="lang.name"/>
                                </option>
                            </t>
                        </select>
                    </div>
                    <div class="client-detail">
                        <span class="label">Email</span>
                        <input class="detail client-email" name="email" type="email" t-on-change="captureChange" t-att-value="props.partner.email || ''"/>
                    </div>
                    <div class="client-detail">
                        <span class="label">Phone</span>
                        <input class="detail client-phone" name="phone" type="tel" t-on-change="captureChange" t-att-value="props.partner.phone || ''"/>
                    </div>
                    <div class="client-detail">
                        <span class="label">Barcode</span>
                        <input class="detail barcode" name="barcode" t-on-change="captureChange" t-att-value="props.partner.barcode || ''"/>
                    </div>
                    <div class="client-detail">
                        <span class="label">Tax ID</span>
                        <input class="detail vat" name="vat" t-on-change="captureChange" t-att-value="props.partner.vat || ''"/>
                    </div>
                    <div t-if="env.pos.pricelists.length gt 1" class="client-detail">
                        <span class="label">Pricelist</span>
                        <select class="detail needsclick" name="property_product_pricelist" t-on-change="captureChange">
                            <t t-foreach="env.pos.pricelists" t-as="pricelist" t-key="pricelist.id">
                                <option t-att-value="pricelist.id" t-att-selected="props.partner.property_product_pricelist ? (pricelist.id === props.partner.property_product_pricelist[0] ? true : false) : false">
                                    <t t-esc="pricelist.display_name"/>
                                </option>
                            </t>
                        </select>
                    </div>
                </div>
            </div>
        </section>
    </t>

<t t-name="ClientListScreen" owl="1">
        <div class="clientlist-screen screen" t-on-activate-edit-mode="activateEditMode">
            <div class="screen-content">
                <div class="top-content">
                    <div t-if="!state.detailIsShown &amp;&amp; !state.selectedClient" class="button new-customer" role="img" aria-label="Add a customer" t-on-click="trigger('activate-edit-mode', { isNewClient: true })" title="Add a customer">
                        <t t-if="!env.isMobile">
                            Create
                        </t>
                        <t t-else="">
                            <i class="fa fa-plus"/>
                        </t>
                    </div>
                    <div t-if="isNextButtonVisible" t-on-click="clickNext" class="button next highlight">
                        <t t-if="!env.isMobile">
                            <t t-esc="nextButton.text"/>
                        </t>
                        <t t-else="">
                            <i t-if="nextButton.command === 'deselect'" class="fa fa-trash"/>
                            <i t-if="nextButton.command === 'set'" class="fa fa-check"/>
                        </t>
                    </div>
                    <div class="button" t-if="state.detailIsShown" t-on-click="trigger('click-save')">
                        <t t-if="!env.isMobile">
                            <i class="fa fa-floppy-o"/>
                            <span> Save</span>
                        </t>
                        <t t-else="">
                            <i class="fa fa-floppy-o"/>
                        </t>
                    </div>
                    <div class="button back" t-on-click="back">
                        <t t-if="!env.isMobile">Discard</t>
                        <t t-else="">
                            <i class="fa fa-undo"/>
                        </t>
                    </div>
                    <div t-if="!state.detailIsShown" class="searchbox-client top-content-center">
                        <input placeholder="Search Customers" size="1" t-on-keyup="updateClientList"/>
                        <span class="search-clear-client"/>
                    </div>
                </div>
                <section class="full-content">
                    <div class="client-window">
                        <section class="subwindow collapsed">
                            <div class="subwindow-container collapsed">
                                <div t-if="state.detailIsShown" class="client-details-contents subwindow-container-fix">
                                    <ClientDetailsEdit t-props="state.editModeProps" t-on-cancel-edit="cancelEdit"/>
                                </div>
                            </div>
                        </section>
                        <section class="subwindow list">
                            <div class="subwindow-container">
                                <div t-if="!state.detailIsShown" class="subwindow-container-fix scrollable-y">
                                    <table class="client-list">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th t-if="!env.isMobile">Address</th>
                                                <th t-if="!env.isMobile">Phone</th>
                                                <th t-if="env.isMobile">ZIP</th>
                                                <th>Email</th>
                                            </tr>
                                        </thead>
                                        <tbody class="client-list-contents">
                                            <t t-foreach="clients" t-as="partner" t-key="partner.id">
                                                <ClientLine partner="partner" selectedClient="state.selectedClient" detailIsShown="state.detailIsShown" t-on-click-client="clickClient"/>
                                            </t>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </section>
                    </div>
                </section>
            </div>
        </div>
    </t>

<t t-name="InvoiceButton" owl="1">
        <div class="control-button" t-att-class="{ highlight: isHighlighted }">
            <i class="fa fa-file-pdf-o"/>
            <span> </span>
            <span><t t-esc="commandName"/></span>
        </div>
    </t>

<t t-name="ReprintReceiptButton" owl="1">
        <div class="control-button">
            <i class="fa fa-print"/>
            <span> </span>
            <span>Print Receipt</span>
        </div>
    </t>

<t t-name="OrderManagementScreen" owl="1">
        <div class="order-management-screen screen" t-att-class="{ oe_hidden: !props.isShown }">
            <div t-if="!env.isMobile" class="screen-full-width">
                <div class="leftpane">
                    <OrderDetails order="orderManagementContext.selectedOrder"/>
                    <div class="pads">
                        <div class="control-buttons">
                            <t t-foreach="controlButtons" t-as="cb" t-key="cb.name">
                                <t t-component="cb.component" t-key="cb.name"/>
                            </t>
                        </div>
                        <div class="subpads">
                            <ActionpadWidget client="selectedClient"/>
                            <NumpadWidget/>
                        </div>
                    </div>
                </div>
                <div class="rightpane">
                    <div class="flex-container">
                        <OrderManagementControlPanel/>
                        <OrderList orders="orders" initHighlightedOrder="orderManagementContext.selectedOrder"/>
                    </div>
                </div>
            </div>
            <MobileOrderManagementScreen t-else=""/>
        </div>
    </t>

<div t-name="MobileOrderManagementScreen" class="screen-full-width" owl="1">
        <div t-if="mobileState.showDetails" class="leftpane">
            <OrderDetails order="orderManagementContext.selectedOrder"/>
            <div class="pads">
                <div class="control-buttons">
                    <t t-foreach="controlButtons" t-as="cb" t-key="cb.name">
                        <t t-component="cb.component" t-key="cb.name"/>
                    </t>
                </div>
                <div class="subpads">
                    <ActionpadWidget client="selectedClient"/>
                    <NumpadWidget/>
                </div>
            </div>
            <div class="back-to-list" t-on-click="mobileState.showDetails = false">
                <span>Back to list</span>
            </div>
        </div>
        <div t-else="" class="rightpane">
            <div class="flex-container">
                <OrderManagementControlPanel/>
                <OrderList orders="orders" initHighlightedOrder="orderManagementContext.selectedOrder"/>
            </div>
        </div>
    </div>

<t t-name="OrderManagementControlPanel" owl="1">
        <div class="control-panel">
            <div class="item button back" t-on-click="trigger('close-screen')">
                <i class="fa fa-angle-double-left"/>
                <span> Back</span>
            </div>
            <div class="item search-box">
                <span class="icon">
                    <i class="fa fa-search"/>
                </span>
                <input type="text" t-model="orderManagementContext.searchString" t-on-keydown="onInputKeydown" placeholder="E.g. customer: Steward, date: 2020-05-09"/>
                <span class="clear" t-on-click="trigger('clear-search')">
                    <i class="fa fa-remove"/>
                </span>
            </div>
            <div t-if="showPageControls" class="item">
                <div class="page-controls">
                    <div class="previous" t-on-click="trigger('prev-page')">
                        <i class="fa fa-fw fa-caret-left" role="img" aria-label="Previous Order List" title="Previous Order List"/>
                    </div>
                    <div class="next" t-on-click="trigger('next-page')">
                        <i class="fa fa-fw fa-caret-right" role="img" aria-label="Next Order List" title="Next Order List"/>
                    </div>
                </div>
                <div class="page">
                    <span><t t-esc="pageNumber"/></span>
                </div>
            </div>
            <div t-else="" class="item"/>
        </div>
    </t>

<t t-name="OrderList" owl="1">
        <div class="orders">
            <div class="order-row header">
                <div class="header name">Order</div>
                <div class="header date">Date</div>
                <div class="header customer">Customer</div>
                <div class="header total">Total</div>
            </div>
            <div class="order-list">
                <t t-foreach="props.orders" t-as="order" t-key="order.cid">
                    <OrderRow order="order" highlightedOrder="highlightedOrder"/>
                </t>
            </div>
        </div>
    </t>

<t t-name="OrderRow" owl="1">
        <div class="order-row" t-att-class="{ highlight: highlighted, lighter: !props.order.locked }" t-on-click="trigger('click-order', props.order)">
            <div class="item name"><t t-esc="name"/></div>
            <div class="item date"><t t-esc="date"/></div>
            <div class="item customer"><t t-esc="customer"/></div>
            <div class="item total"><t t-esc="total"/></div>
        </div>
    </t>

<t t-name="OrderDetails" owl="1">
        <div class="order-container">
            <div t-ref="scrollable" class="order-scroller touch-scrollable">
                <div class="order">
                    <t t-if="!props.order">
                        <div class="order-empty">
                            <i class="fa fa-shopping-cart" role="img" aria-label="Shopping cart" title="Shopping cart"/>
                            <h1>Select an order</h1>
                        </div>
                    </t>
                    <t t-elif="orderlines.length === 0">
                        <div class="order-empty">
                            <i class="fa fa-shopping-cart" role="img" aria-label="Shopping cart" title="Shopping cart"/>
                            <h1>Order is empty</h1>
                        </div>
                    </t>
                    <t t-else="">
                        <ul class="orderlines">
                            <t t-foreach="orderlines" t-as="orderline" t-key="orderline.id">
                                <OrderlineDetails line="orderline"/>
                            </t>
                        </ul>
                        <OrderSummary total="total" tax="tax"/>
                    </t>
                </div>
            </div>
        </div>
    </t>

<t t-name="OrderlineDetails" owl="1">
        <li class="orderline">
            <span class="product-name">
                <t t-esc="productName"/>
            </span>
            <span class="price">
                <t t-esc="totalPrice"/>
            </span>
            <li class="info">
                <strong>
                    <t t-esc="quantity"/>
                </strong>
                <span><t t-esc="pricePerUnit"/></span>
            </li>
        </li>
    </t>

<t t-name="ReprintReceiptScreen" owl="1">
        <div class="receipt-screen screen">
            <div class="screen-content">
                <div class="top-content">
                    <span class="button back" t-on-click="confirm">
                        <i class="fa fa-angle-double-left"/>
                        <span> </span>
                        <span>Back</span>
                    </span>
                </div>
                <div class="centered-content">
                    <div class="button print" t-on-click="tryReprint">
                        <i class="fa fa-print"/> Print Receipt
                    </div>
                    <div class="pos-receipt-container">
                        <OrderReceipt order="props.order" t-ref="order-receipt"/>
                    </div>
                </div>
            </div>
        </div>
    </t>

<t t-name="TicketScreen" owl="1">
        <div class="ticket-screen screen">
            <div class="screen-content">
                <div class="controls">
                    <div class="buttons">
                        <button t-if="showNewTicketButton" class="highlight" t-on-click="createNewOrder">New Order</button>
                        <button class="discard" t-on-click="trigger('close-screen')">Discard</button>
                    </div>
                    <t t-set="placeholder">Search Tickets...</t>
                    <SearchBar config="searchBarConfig" placeholder="placeholder"/>
                </div>
                <div class="orders">
                    <div class="header-row">
                        <div class="col start wide">Date</div>
                        <div class="col start wide">Receipt Number</div>
                        <div class="col start">Customer</div>
                        <div class="col start wide" t-if="showCardholderName()">Cardholder Name</div>
                        <div class="col start">Employee</div>
                        <div class="col end">Total</div>
                        <div class="col start narrow">Status</div>
                        <div class="col center very-narrow" name="delete"/>
                    </div>
                    <t t-foreach="filteredOrderList" t-as="order" t-key="order.cid">
                        <div class="order-row pointer" t-on-click="selectOrder(order)">
                            <div class="col start wide">
                                <t t-esc="getDate(order)"/>
                            </div>
                            <div class="col start wide">
                                <t t-esc="order.name"/>
                            </div>
                            <div class="col start">
                                <t t-esc="getCustomer(order)"/>
                            </div>
                            <div t-if="showCardholderName()" class="col start">
                                <t t-esc="getCardholderName(order)"/>
                            </div>
                            <div class="col start">
                                <t t-esc="getEmployee(order)"/>
                            </div>
                            <div class="col end">
                                <t t-esc="getTotal(order)"/>
                            </div>
                            <div class="col start narrow">
                                <t t-esc="getStatus(order)"/>
                            </div>
                            <div t-if="!hideDeleteButton(order)" class="col center very-narrow delete-button" name="delete" t-on-click.stop="deleteOrder(order)">
                                <i class="fa fa-trash" aria-hidden="true"/>
                            </div>
                            <div t-else="" class="col center very-narrow delete-button"/>
                        </div>
                    </t>
                </div>
            </div>
        </div>
    </t>

<t t-name="PSNumpadInputButton" owl="1">
        <button t-attf-class="{{ _class }}" t-on-click="trigger('input-from-numpad', { key: props.value })">
            <t t-slot="default">
                <t t-if="props.text">
                    <t t-esc="props.text"/>
                </t>
                <t t-else="">
                    <t t-esc="props.value"/>
                </t>
            </t>
        </button>
    </t>

<t t-name="PaymentScreenNumpad" owl="1">
        <div class="numpad">
            <PSNumpadInputButton value="'1'"/>
            <PSNumpadInputButton value="'2'"/>
            <PSNumpadInputButton value="'3'"/>
            <PSNumpadInputButton value="'+10'" changeClassTo="'mode-button'"/>
            <br/>
            <PSNumpadInputButton value="'4'"/>
            <PSNumpadInputButton value="'5'"/>
            <PSNumpadInputButton value="'6'"/>
            <PSNumpadInputButton value="'+20'" changeClassTo="'mode-button'"/>
            <br/>
            <PSNumpadInputButton value="'7'"/>
            <PSNumpadInputButton value="'8'"/>
            <PSNumpadInputButton value="'9'"/>
            <PSNumpadInputButton value="'+50'" changeClassTo="'mode-button'"/>
            <br/>
            <PSNumpadInputButton value="'-'" text="'+/-'"/>
            <PSNumpadInputButton value="'0'"/>
            <PSNumpadInputButton value="decimalPoint"/>
            <PSNumpadInputButton value="'Backspace'">
                <img src="/point_of_sale/static/src/img/backspace.png" width="24" height="21" alt="Backspace"/>
            </PSNumpadInputButton>
        </div>
    </t>

<t t-name="PaymentScreenElectronicPayment" owl="1">
        <div class="paymentline electronic_payment">
            <t t-if="props.line.payment_status == 'pending'">
                <div>
                    Payment request pending
                </div>
                <div class="button send_payment_request highlight" title="Send Payment Request" t-on-click="trigger('send-payment-request', props.line)">
                    Send
                </div>
            </t>
            <t t-elif="props.line.payment_status == 'retry'">
                <div>
                    Transaction cancelled
                </div>
                <div class="button send_payment_request highlight" title="Send Payment Request" t-on-click="trigger('send-payment-request', props.line)">
                    Retry
                </div>
            </t>
            <t t-elif="props.line.payment_status == 'force_done'">
                <div>
                    Connection error
                </div>
                <div class="button send_force_done" title="Force Done" t-on-click="trigger('send-force-done', props.line)">
                    Force done
                </div>
            </t>
            <t t-elif="props.line.payment_status == 'waitingCard'">
                <div>
                    Waiting for card
                </div>
                <div class="button send_payment_cancel" title="Cancel Payment Request" t-on-click="trigger('send-payment-cancel', props.line)">
                    Cancel
                </div>
            </t>
            <t t-elif="['waiting', 'waitingCancel'].includes(props.line.payment_status)">
                <div>
                    Request sent
                </div>
                <div>
                    <i class="fa fa-spinner fa-spin" role="img"/>
                </div>
            </t>
            <t t-elif="props.line.payment_status == 'reversing'">
                <div>
                    Reversal request sent to terminal
                </div>
                <div>
                    <i class="fa fa-spinner fa-spin" role="img"/>
                </div>
            </t>
            <t t-elif="props.line.payment_status == 'done'">
                <div>
                    Payment Successful
                </div>
                <t t-if="props.line.can_be_reversed">
                    <div class="button send_payment_reversal" title="Reverse Payment" t-on-click="trigger('send-payment-reverse', props.line)">
                        Reverse
                    </div>
                </t>
                <t t-else="">
                    <div/>
                </t>
            </t>
            <t t-elif="props.line.payment_status == 'reversed'">
                <div>
                    Payment reversed
                </div>
                <div/>
            </t>
        </div>
    </t>

<t t-name="PaymentScreenPaymentLines" owl="1">
            <div class="paymentlines">
                <t t-foreach="props.paymentLines" t-as="line" t-key="line.cid">
                    <t t-if="line.selected">
                        <div class="paymentline selected" t-att-class="selectedLineClass(line)" t-on-click="trigger('select-payment-line', { cid: line.cid })">
                             <div class="payment-name">
                                 <t t-esc="line.payment_method.name"/>
                             </div>
                            <div class="payment-amount">
                                <t t-if="line and line.payment_status and ['done', 'waitingCard', 'waiting', 'reversing', 'reversed'].includes(line.payment_status)">
                                        <t t-esc="env.pos.format_currency_no_symbol(line.get_amount())"/>
                                </t>
                                <t t-else="">
                                        <t t-esc="formatLineAmount(line)"/>
                                </t>
                            </div>
                            <t t-if="!line.payment_status or !['done', 'reversed'].includes(line.payment_status)">
                                <div class="delete-button" t-on-click="trigger('delete-payment-line', { cid: line.cid })" aria-label="Delete" title="Delete">
                                    <i class="fa fa-times-circle"/>
                                </div>
                            </t>
                        </div>
                        <t t-if="line and line.payment_status">
                            <PaymentScreenElectronicPayment line="line"/>
                        </t>
                    </t>
                    <t t-else="">
                        <div class="paymentline" t-att-class="unselectedLineClass(line)" t-on-click="trigger('select-payment-line', { cid: line.cid })">
                             <div class="payment-name">
                                 <t t-esc="line.payment_method.name"/>
                             </div>
                            <div class="payment-amount">
                                <t t-if="line and line.payment_status and ['done', 'waitingCard', 'waiting', 'reversing', 'reversed'].includes(line.payment_status)">
                                        <t t-esc="env.pos.format_currency_no_symbol(line.get_amount())"/>
                                </t>
                                <t t-else="">
                                        <t t-esc="formatLineAmount(line)"/>
                                </t>
                            </div>
                            <t t-if="!line.payment_status or !['done', 'reversed'].includes(line.payment_status)">
                                <div class="delete-button" t-on-click="trigger('delete-payment-line', { cid: line.cid })" aria-label="Delete" title="Delete">
                                    <i class="fa fa-times-circle"/>
                                </div>
                            </t>
                        </div>
                    </t>
                </t>
            </div>
    </t>

<t t-name="PaymentScreenStatus" owl="1">
    <div t-if="props.paymentLines.length === 0" class="paymentlines-empty">
        <div class="total">
            <t t-esc="totalDueText"/>
        </div>
        <div class="message">
            Please select a payment method.
        </div>
    </div>

    <div t-else="">
        <div class="payment-status-container">
            <div>
                <div class="payment-status-remaining">
                    <span class="label">Remaining</span>
                    <span class="amount" t-att-class="{ highlight: currentOrder.get_due() &gt; 0 }">
                        <t t-esc="remainingText"/>
                    </span>
                </div>
                <div class="payment-status-total-due">
                    <span class="label">Total Due</span>
                    <span>
                        <t t-esc="totalDueText"/>
                    </span>
                </div>
            </div>
            <div>
                <div class="payment-status-change">
                    <span class="label">Change</span>
                    <span class="amount" t-att-class="{ highlight: currentOrder.get_change() &gt; 0 }">
                        <t t-esc="changeText"/>
                    </span>
                </div>
            </div>
        </div>
    </div>
</t>
<t t-name="PaymentMethodButton" owl="1">
        <div class="button paymentmethod" t-on-click="trigger('new-payment-line', props.paymentMethod)">
            <div class="payment-name">
                <t t-esc="props.paymentMethod.name"/>
            </div>
        </div>
    </t>

<t t-name="PaymentScreen" owl="1">
        <div class="payment-screen screen" t-att-class="{ oe_hidden: !props.isShown }">
            <div class="screen-content">
                <t t-if="!env.isMobile">
                    <div class="top-content">
                        <div class="button back" t-on-click="showScreen('ProductScreen')">
                            <i class="fa fa-angle-double-left fa-fw"/>
                            <span class="back_text">Back</span>
                        </div>
                        <div class="top-content-center"><h1>Payment</h1></div>
                        <div class="button next" t-att-class="{ highlight: currentOrder.is_paid() }" t-on-click="validateOrder(false)">
                            <span class="next_text">Validate</span>
                            <i class="fa fa-angle-double-right fa-fw"/>
                        </div>
                    </div>
                </t>
                <div class="main-content">
                    <div class="left-content">
                        <t t-if="env.isMobile">
                            <section class="paymentlines-container">
                                <PaymentScreenStatus paymentLines="paymentLines"/>
                            </section>
                        </t>
                        <div class="paymentmethods-container">
                            <PaymentScreenPaymentLines paymentLines="paymentLines"/>
                            <div class="paymentmethods">
                                <t t-foreach="payment_methods_from_config" t-as="paymentMethod" t-key="paymentMethod.id">
                                    <PaymentMethodButton paymentMethod="paymentMethod"/>
                                </t>
                            </div>
                        </div>
                    </div>
                    <div class="right-content">
                        <t t-if="!env.isMobile">
                            <section class="paymentlines-container">
                                <PaymentScreenStatus paymentLines="paymentLines"/>
                            </section>
                        </t>

                        <div class="payment-buttons-container">
                            <section class="payment-numpad">
                                <PaymentScreenNumpad/>
                            </section>

                            <div class="payment-buttons">
                                <div class="customer-button">
                                    <div class="button" t-on-click="selectClient">
                                        <i class="fa fa-user" role="img" aria-label="Customer" title="Customer"/>
                                        <span class="js_customer_name">
                                            <t t-if="env.pos.get_client()">
                                                <t t-esc="env.pos.get_client().name"/>
                                            </t>
                                            <t t-if="!env.pos.get_client()">
                                                Customer
                                            </t>
                                        </span>
                                    </div>
                                </div>
                                <div class="payment-controls">
                                    <div t-if="env.pos.config.module_account" class="button js_invoice" t-att-class="{ highlight: currentOrder.is_to_invoice() }" t-on-click="toggleIsToInvoice">
                                        <i class="fa fa-file-text-o"/> Invoice
                                    </div>
                                    <div t-if="env.pos.config.tip_product_id" class="button js_tip" t-on-click="addTip">
                                        <i class="fa fa-heart"/> Tip
                                    </div>
                                    <div t-if="env.pos.config.iface_cashdrawer" class="button js_cashdrawer" t-on-click="openCashbox">
                                        <i class="fa fa-archive"/> Open Cashbox
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <t t-if="env.isMobile">
                    <div class="switchpane">
                        <button class="btn-switchpane" t-att-class="{ secondary: !currentOrder.is_paid() }" t-on-click="validateOrder(false)">
                            <h1>Validate</h1>
                        </button>
                        <button class="btn-switchpane secondary" t-on-click="showScreen('ProductScreen', {mobile_pane: 'left'})">
                            <h1>Review</h1>
                        </button>
                    </div>
                </t>
            </div>
        </div>
    </t>

<t t-name="Orderline" owl="1">
        <li t-on-click="selectLine" class="orderline" t-att-class="addedClasses">
            <span class="product-name">
                <t t-esc="props.line.get_full_product_name()"/>
                <span> </span>
                <t t-if="props.line.get_product().tracking!=='none' &amp;&amp; (env.pos.picking_type.use_create_lots || env.pos.picking_type.use_existing_lots)">
                    <t t-if="props.line.has_valid_product_lot()">
                        <i t-on-click.stop="lotIconClicked" class="oe_link_icon fa fa-list oe_icon line-lot-icon oe_green" aria-label="Valid product lot" role="img" title="Valid product lot"/>
                    </t>
                    <t t-else="">
                        <i t-on-click.stop="lotIconClicked" class="oe_link_icon fa fa-list oe_icon line-lot-icon oe_red" aria-label="Invalid product lot" role="img" title="Invalid product lot"/>
                    </t>
                </t>
            </span>
            <span class="price">
                <t t-esc="env.pos.format_currency(props.line.get_display_price())"/>
            </span>
            <ul class="info-list">
                <t t-if="props.line.get_quantity_str() !== '1' || props.line.selected ">
                    <li class="info">
                        <em>
                            <t t-esc="props.line.get_quantity_str()"/>
                        </em>
                        <span> </span><t t-esc="props.line.get_unit().name"/>
                        at
                        <t t-if="props.line.display_discount_policy() == 'without_discount' and                             props.line.get_unit_display_price() &lt; props.line.get_lst_price()">
                            <s>
                                <t t-esc="env.pos.format_currency(props.line.get_fixed_lst_price(),'Product Price')"/>
                            </s>
                            <t t-esc="env.pos.format_currency(props.line.get_unit_display_price(),'Product Price')"/>
                        </t>
                        <t t-else="">
                            <t t-esc="env.pos.format_currency(props.line.get_unit_display_price(),'Product Price')"/>
                        </t>
                        /
                        <t t-esc="props.line.get_unit().name"/>
                    </li>
                </t>
                <t t-if="props.line.get_discount_str() !== '0'">
                    <li class="info">
                        With a
                        <em>
                            <t t-esc="props.line.get_discount_str()"/>%
                        </em>
                        discount
                    </li>
                </t>
            </ul>
            <t t-if="props.line.get_lot_lines()">
                <ul class="info-list">
                    <t t-foreach="props.line.get_lot_lines()" t-as="lot" t-key="lot.cid">
                        <li>
                            SN <t t-esc="lot.attributes['lot_name']"/>
                        </li>
                    </t>
                </ul>
            </t>
        </li>
    </t>

<t t-name="OrderSummary" owl="1">
        <div class="summary clearfix">
            <div class="line">
                <div class="entry total">
                    <span class="badge">Total: </span>
                    <span class="value">
                        <t t-esc="props.total"/>
                    </span>
                    <div t-if="props.tax" class="subentry">
                        Taxes:
                        <span class="value">
                            <t t-esc="props.tax"/>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </t>

<t t-name="OrderWidget" owl="1">
        <div class="order-container" t-ref="scrollable">
            <div class="order">
                <t t-if="orderlinesArray.length === 0">
                    <div class="order-empty">
                        <i class="fa fa-shopping-cart" role="img" aria-label="Shopping cart" title="Shopping cart"/>
                        <h1>This order is empty</h1>
                    </div>
                </t>
                <t t-else="">
                    <ul class="orderlines">
                        <t t-foreach="orderlinesArray" t-as="orderline" t-key="orderline.id">
                            <Orderline line="orderline"/>
                        </t>
                    </ul>
                    <OrderSummary total="state.total" tax="state.tax"/>
                </t>
            </div>
        </div>
    </t>

<t t-name="NumpadWidget" owl="1">
        <div class="numpad">
            <button class="input-button number-char" t-on-click="sendInput('1')">1</button>
            <button class="input-button number-char" t-on-click="sendInput('2')">2</button>
            <button class="input-button number-char" t-on-click="sendInput('3')">3</button>
            <button class="mode-button" t-att-class="{'selected-mode': props.activeMode === 'quantity'}" t-on-click="changeMode('quantity')">Qty</button>
            <br/>
            <button class="input-button number-char" t-on-click="sendInput('4')">4</button>
            <button class="input-button number-char" t-on-click="sendInput('5')">5</button>
            <button class="input-button number-char" t-on-click="sendInput('6')">6</button>
            <button class="mode-button" t-att-class="{                         'selected-mode': props.activeMode === 'discount',                         'disabled-mode': !hasManualDiscount                     }" t-att-disabled="!hasManualDiscount" t-on-click="changeMode('discount')">Disc</button>
            <br/>
            <button class="input-button number-char" t-on-click="sendInput('7')">7</button>
            <button class="input-button number-char" t-on-click="sendInput('8')">8</button>
            <button class="input-button number-char" t-on-click="sendInput('9')">9</button>
            <button class="mode-button" t-att-class="{                     'selected-mode': props.activeMode === 'price',                     'disabled-mode': !hasPriceControlRights                 }" t-att-disabled="!hasPriceControlRights" t-on-click="changeMode('price')">Price</button>
            <br/>
            <button class="input-button numpad-minus" t-on-click="sendInput('-')">+/-</button>
            <button class="input-button number-char" t-on-click="sendInput('0')">0</button>
            <button class="input-button number-char" t-on-click="sendInput(decimalSeparator)">
                <t t-esc="decimalSeparator"/>
            </button>
            <button class="input-button numpad-backspace" t-on-click="sendInput('Backspace')">
                <img style="pointer-events: none;" src="/point_of_sale/static/src/img/backspace.png" width="24" height="21" alt="Backspace"/>
            </button>
        </div>
    </t>

<t t-name="ActionpadWidget" owl="1">
        <div class="actionpad">
            <button class="button set-customer" t-att-class="{'decentered': isLongName}" t-on-click="trigger('click-customer')">
                <t t-if="!env.isMobile"><i class="fa fa-user" role="img" aria-label="Customer" title="Customer"/></t>
                <t t-if="client">
                    <t t-esc="client.name"/>
                </t>
                <t t-else="">
                    Customer
                </t>
            </button>
            <button class="button pay" t-on-click="trigger('click-pay')">
                <div class="pay-circle">
                    <i class="fa fa-chevron-right" role="img" aria-label="Pay" title="Pay"/>
                </div>
                Payment
            </button>
        </div>
    </t>

<t t-name="CategoryBreadcrumb" owl="1">
        <span class="breadcrumb">
            <img src="/point_of_sale/static/src/img/bc-arrow-big.png" class="breadcrumb-arrow" alt="Slash"/>
            <span class="breadcrumb-button" t-on-click="trigger('switch-category', props.category.id)">
                <t t-esc="props.category.name"/>
            </span>
        </span>
    </t>

<t t-name="CashBoxOpening" owl="1">
        <div style="margin-top: -20px;">
            <br/>
            <h1>
                <span>
                    Pos closed.
                </span><br/>
                <span>
                    Set a cash opening
                </span>

            </h1>
            <h1>Opening amount:</h1>
                <input name="cashBoxValue" class="cashbox-input" t-on-change="captureChange" t-att-value="defaultValue"/>
                <span class="currencyCashBox" t-esc="symbol"/>

            <h1>Notes:</h1>
            <textarea name="notes" style="width: 51%" t-on-change="captureChange"/><br/><br/>

            <span class="control-button" t-on-click="startSession()">Open</span>

        </div>
    </t>

<t t-name="CategoryButton" owl="1">
        <span class="category-button" t-on-click="trigger('switch-category', props.category.id)">
            <div class="category-img">
                <img t-att-src="imageUrl" alt="Category"/>
            </div>
            <div class="category-name">
                <t t-esc="props.category.name"/>
            </div>
        </span>
    </t>

<t t-name="CategorySimpleButton" owl="1">
        <span class="category-simple-button" t-on-click="trigger('switch-category', props.category.id)">
            <t t-esc="props.category.name"/>
        </span>
    </t>

<t t-name="HomeCategoryBreadcrumb" owl="1">
        <span class="breadcrumb">
            <span t-if="!env.isMobile" class="breadcrumb-button breadcrumb-home" t-on-click="trigger('switch-category', 0)">
                <i class="fa fa-home" role="img" aria-label="Home" title="Home"/>
            </span>
            <span t-if="env.isMobile" class="breadcrumb-button breadcrumb-home" t-on-click="trigger('categ-popup', props.subcategories)">
                <t t-if="env.pos.get('selectedCategoryId') === 0">
                    All
                </t>
                <t t-else="">
                    <t t-esc="props.currentCat.name"/>
                </t>
            </span>
        </span>
    </t>

<t t-name="ProductsWidgetControlPanel" owl="1">
        <div class="products-widget-control">
            <t t-if="!props.hasNoCategories">
                <div class="rightpane-header" t-att-class="{                     'green-border-bottom': !env.pos.config.iface_display_categ_images,                     'grey-border-bottom': env.pos.config.iface_display_categ_images,                 }">
                    
                    <div class="breadcrumbs">
                        <HomeCategoryBreadcrumb subcategories="props.subcategories" currentCat="props.breadcrumbs[props.breadcrumbs.length - 1]"/>
                        <t t-if="!env.isMobile">
                            <t t-foreach="props.breadcrumbs" t-as="category" t-key="category.id">
                                <CategoryBreadcrumb category="category"/>
                            </t>
                        </t>
                    </div>
                    
                    <t t-if="props.subcategories.length &gt; 0 and !env.pos.config.iface_display_categ_images and !env.isMobile">
                        <t t-foreach="props.subcategories" t-as="category" t-key="category.id">
                            <CategorySimpleButton category="category"/>
                        </t>
                    </t>
                </div>
                <t t-if="props.subcategories.length &gt; 0 and env.pos.config.iface_display_categ_images and !env.isMobile">
                    <div class="categories">
                        <div class="category-list-scroller">
                            <div class="category-list">
                                <t t-foreach="props.subcategories" t-as="category" t-key="category.id">
                                    <CategoryButton category="category"/>
                                </t>
                            </div>
                        </div>
                    </div>
                </t>
            </t>
            <Portal target="'.pos .search-bar-portal'">
                <div class="search-box">
                    <span class="icon"><i class="fa fa-search"/></span>
                    <span t-on-click="clearSearch" class="clear-icon">
                        <i class="fa fa-times" aria-hidden="true"/>
                    </span>
                    <input t-ref="search-word-input" type="text" placeholder="Search Products..." t-on-keyup="updateSearch"/>
                </div>
            </Portal>
        </div>
    </t>

<t t-name="ProductItem" owl="1">
        <article class="product" tabindex="0" t-on-keypress="spaceClickProduct" t-on-click="trigger('click-product', props.product)" t-att-data-product-id="props.product.id" t-attf-aria-labelledby="article_product_{{props.product.id}}">
            <div class="product-img">
                <img t-att-src="imageUrl" t-att-alt="props.product.display_name"/>
                <span class="price-tag">
                    <t t-esc="price"/>
                </span>
            </div>
            <div class="product-name" t-attf-id="article_product_{{props.product.id}}">
                <t t-esc="props.product.display_name"/>
            </div>
        </article>
    </t>

<t t-name="ProductList" owl="1">
        <div class="product-list-container">
            <div t-if="props.products.length != 0" class="product-list">
                <t t-foreach="props.products" t-as="product" t-key="product.id">
                    <ProductItem product="product"/>
                </t>
            </div>
            <div t-else="" class="product-list-empty">
                <div class="product-list-empty">
                    <t t-if="props.searchWord !== ''">
                        <p>
                            No results found for "
                            <b t-esc="props.searchWord"/>
                            ".
                        </p>
                    </t>
                    <t t-else="">
                        <p>There are no products in this category.</p>
                    </t>
                </div>
            </div>
        </div>
    </t>

<t t-name="ProductsWidget" owl="1">
      <div class="products-widget">
            <ProductsWidgetControlPanel breadcrumbs="breadcrumbs" subcategories="subcategories" hasNoCategories="hasNoCategories"/>
            <ProductList products="productsToDisplay" searchWord="searchWord"/>
        </div>
    </t>

<t t-name="WrappedProductNameLines" owl="1">
        <span>
            <t t-foreach="props.line.product_name_wrapped.slice(1)" t-as="wrapped_line"><t t-esc="wrapped_line"/></t>
        </span>
    </t>

<t t-name="OrderReceipt" owl="1">
        <div class="pos-receipt">
            <t t-if="receipt.company.logo">
                <img class="pos-receipt-logo" t-att-src="receipt.company.logo" alt="Logo"/>
                <br/>
            </t>
            <t t-if="!receipt.company.logo">
                <h2 class="pos-receipt-center-align">
                    <t t-esc="receipt.company.name"/>
                </h2>
                <br/>
            </t>
            <div class="pos-receipt-contact">
                <t t-if="receipt.company.contact_address">
                    <div><t t-esc="receipt.company.contact_address"/></div>
                </t>
                <t t-if="receipt.company.phone">
                    <div>Tel:<t t-esc="receipt.company.phone"/></div>
                </t>
                <t t-if="receipt.company.vat">
                    <div><t t-esc="receipt.company.vat_label"/>:<t t-esc="receipt.company.vat"/></div>
                </t>
                <t t-if="receipt.company.email">
                    <div><t t-esc="receipt.company.email"/></div>
                </t>
                <t t-if="receipt.company.website">
                    <div><t t-esc="receipt.company.website"/></div>
                </t>
                <t t-if="receipt.header_html">
                    <t t-raw="receipt.header_html"/>
                </t>
                <t t-if="!receipt.header_html and receipt.header">
                    <div style="white-space:pre-line"><t t-esc="receipt.header"/></div>
                </t>
                <t t-if="receipt.cashier">
                    <div class="cashier">
                        <div>--------------------------------</div>
                        <div>Served by <t t-esc="receipt.cashier"/></div>
                    </div>
                </t>
            </div>
            <br/><br/>

            

            <div class="orderlines">
                <t t-foreach="receipt.orderlines" t-as="line" t-key="line.id">
                    <t t-if="isSimple(line)">
                        <div>
                            <t t-esc="line.product_name_wrapped[0]"/>
                            <span t-esc="env.pos.format_currency_no_symbol(line.price_display)" class="price_display pos-receipt-right-align"/>
                        </div>
                        <WrappedProductNameLines line="line"/>
                    </t>
                    <t t-else="">
                        <div t-esc="line.product_name_wrapped[0]"/>
                        <WrappedProductNameLines line="line"/>
                        <t t-if="line.display_discount_policy == 'without_discount' and line.price != line.price_lst">
                            <div class="pos-receipt-left-padding">
                                <t t-esc="env.pos.format_currency_no_symbol(line.price_lst)"/>
                                -&gt;
                                <t t-esc="env.pos.format_currency_no_symbol(line.price)"/>
                            </div>
                        </t>
                        <t t-elif="line.discount !== 0">
                            <div class="pos-receipt-left-padding">
                                <t t-if="env.pos.config.iface_tax_included === 'total'">
                                    <t t-esc="env.pos.format_currency_no_symbol(line.price_with_tax_before_discount)"/>
                                </t>
                                <t t-else="">
                                    <t t-esc="env.pos.format_currency_no_symbol(line.price)"/>
                                </t>
                            </div>
                        </t>
                        <t t-if="line.discount !== 0">
                            <div class="pos-receipt-left-padding">
                                Discount: <t t-esc="line.discount"/>%
                            </div>
                        </t>
                        <div class="pos-receipt-left-padding">
                            <t t-esc="Math.round(line.quantity * Math.pow(10, env.pos.dp['Product Unit of Measure'])) / Math.pow(10, env.pos.dp['Product Unit of Measure'])"/>
                            <t t-if="!line.is_in_unit" t-esc="line.unit_name"/>
                            x
                            <t t-esc="env.pos.format_currency_no_symbol(line.price_display_one)"/>
                            <span class="price_display pos-receipt-right-align">
                                <t t-esc="env.pos.format_currency_no_symbol(line.price_display)"/>
                            </span>
                        </div>
                    </t>
                    <t t-if="line.pack_lot_lines">
                        <div class="pos-receipt-left-padding">
                            <ul>
                                <t t-foreach="line.pack_lot_lines" t-as="lot" t-key="lot.cid">
                                    <li>
                                        SN <t t-esc="lot.attributes['lot_name']"/>
                                    </li>
                                </t>
                            </ul>
                        </div>
                    </t>
                </t>
            </div>

            

            <t t-if="!isTaxIncluded">
                <div class="pos-receipt-right-align">--------</div>
                <br/>
                <div>Subtotal<span t-esc="env.pos.format_currency(receipt.subtotal)" class="pos-receipt-right-align"/></div>
                <t t-foreach="receipt.tax_details" t-as="tax" t-key="tax.name">
                    <div>
                        <t t-esc="tax.name"/>
                        <span t-esc="env.pos.format_currency_no_symbol(tax.amount)" class="pos-receipt-right-align"/>
                    </div>
                </t>
            </t>

            
            <div class="pos-receipt-right-align">--------</div>
            <br/>
            <div class="pos-receipt-amount">
                TOTAL
                <span t-esc="env.pos.format_currency(receipt.total_with_tax)" class="pos-receipt-right-align"/>
            </div>
            <t t-if="receipt.total_rounded != receipt.total_with_tax">
                <div class="pos-receipt-amount">
                  Rounding
                <span t-esc="env.pos.format_currency(receipt.rounding_applied)" class="pos-receipt-right-align"/>
                </div>
                <div class="pos-receipt-amount">
                  To Pay
                 <span t-esc="env.pos.format_currency(receipt.total_rounded)" class="pos-receipt-right-align"/>
              </div>
            </t>
            <br/><br/>

            

            <t t-foreach="receipt.paymentlines" t-as="line" t-key="line.cid">
                <div>
                    <t t-esc="line.name"/>
                    <span t-esc="env.pos.format_currency_no_symbol(line.amount)" class="pos-receipt-right-align"/>
                </div>
            </t>
            <br/>

            <div class="pos-receipt-amount receipt-change">
                CHANGE
                <span t-esc="env.pos.format_currency(receipt.change)" class="pos-receipt-right-align"/>
            </div>
            <br/>

            

            <t t-if="receipt.total_discount">
                <div>
                    Discounts
                    <span t-esc="env.pos.format_currency(receipt.total_discount)" class="pos-receipt-right-align"/>
                </div>
            </t>
            <t t-if="isTaxIncluded">
                <t t-foreach="receipt.tax_details" t-as="tax" t-key="tax.name">
                    <div>
                        <t t-esc="tax.name"/>
                        <span t-esc="env.pos.format_currency_no_symbol(tax.amount)" class="pos-receipt-right-align"/>
                    </div>
                </t>
                <div>
                    Total Taxes
                    <span t-esc="env.pos.format_currency(receipt.total_tax)" class="pos-receipt-right-align"/>
                </div>
            </t>

            <div class="before-footer"/>

            
            <div t-if="receipt.footer_html" class="pos-receipt-center-align">
                <t t-raw="receipt.footer_html"/>
            </div>

            <div t-if="!receipt.footer_html and receipt.footer" class="pos-receipt-center-align" style="white-space:pre-line">
                <br/>
                <t t-esc="receipt.footer"/>
                <br/>
                <br/>
            </div>

            <div class="after-footer">
                <t t-foreach="receipt.paymentlines" t-as="line">
                    <t t-if="line.ticket">
                        <br/>
                        <div class="pos-payment-terminal-receipt">
                            <t t-raw="line.ticket"/>
                        </div>
                    </t>
                </t>
            </div>

            <br/>
            <div class="pos-receipt-order-data">
                <div><t t-esc="receipt.name"/></div>
                <div><t t-esc="receipt.date.localestring"/></div>
            </div>

        </div>
    </t>

<t t-name="ReceiptScreen" owl="1">
        <div class="receipt-screen screen">
            <div class="screen-content">
                <div class="top-content">
                    <div class="top-content-center">
                        <h1 t-if="!env.isMobile">
                            <t t-esc="orderAmountPlusTip"/>
                        </h1>
                    </div>
                    <div class="button next" t-att-class="{ highlight: !locked }" t-on-click="orderDone">
                        New Order <i class="fa fa-angle-double-right"/>
                    </div>
                </div>
                <div class="default-view">
                    <div class="pos-receipt-container">
                        <OrderReceipt order="currentOrder" t-ref="order-receipt"/>
                    </div>
                    <div class="actions">
                        <h1>How would you like to receive your receipt?</h1>
                        <div class="buttons">
                            <div class="button print" t-on-click="printReceipt">
                                <i class="fa fa-print"/> Print Receipt
                            </div>
                        </div>
                        <form t-on-submit.prevent="onSendEmail" class="send-email">
                            <div class="email-icon"><i class="fa fa-envelope-o" aria-hidden="true"/></div>
                            <div class="input-email">
                                <input type="email" placeholder="Email Receipt" t-model="orderUiState.inputEmail"/>
                                <button class="send" t-att-class="{ highlight: is_email(orderUiState.inputEmail) }" type="submit">Send</button>
                            </div>
                        </form>
                        <t t-if="orderUiState.emailSuccessful !== null">
                            <div class="notice" t-attf-class="{{ orderUiState.emailSuccessful ? 'successful' : 'failed' }}">
                                <t t-esc="orderUiState.emailNotice"/>
                            </div>
                        </t>
                    </div>
                </div>
            </div>
        </div>
    </t>

<t t-name="ScaleScreen" owl="1">
        <div class="scale-screen screen">
            <div class="screen-content">
                <div class="top-content">
                    <span class="button back" t-on-click="back">
                        <i class="fa fa-angle-double-left"/>
                        Back
                    </span>
                    <h1 class="product-name">
                        <t t-esc="productName"/>
                    </h1>
                </div>
                <div class="centered-content">
                    <div class="weight js-weight">
                        <t t-esc="productWeightString"/>
                    </div>
                    <div class="product-price">
                        <t t-esc="env.pos.format_currency(productPrice) + '/' + productUom"/>
                    </div>
                    <div class="computed-price">
                        <t t-esc="computedPriceString"/>
                    </div>
                    <div class="buy-product" t-on-click="confirm">
                        Order
                        <i class="fa fa-angle-double-right"/>
                    </div>
                </div>
            </div>
        </div>
    </t>

<t t-name="CashierName" owl="1">
        <div class="oe_status" t-on-click="selectCashier">
            <span class="username">
                <t t-esc="username"/>
            </span>
        </div>
    </t>

<t t-name="ProxyStatus" owl="1">
        <div class="oe_status js_proxy" t-on-click="onClick">
            <span t-if="state.msg and !env.isMobile" class="js_msg">
                <t t-esc="state.msg"/>
            </span>
            <span t-if="state.status === 'connected'" class="js_connected oe_green">
                <i class="fa fa-fw fa-sitemap" role="img" aria-label="Proxy Connected" title="Proxy Connected"/>
            </span>
            <span t-if="state.status === 'connecting'" class="js_connecting">
                <i class="fa fa-fw fa-spin fa-spinner" role="img" aria-label="Connecting to Proxy" title="Connecting to Proxy"/>
            </span>
            <span t-if="state.status === 'warning'" class="js_warning oe_orange">
                <i class="fa fa-fw fa-sitemap" role="img" aria-label="Proxy Warning" title="Proxy Warning"/>
            </span>
            <span t-if="state.status === 'disconnected'" class="js_disconnected oe_red">
                <i class="fa fa-fw fa-sitemap" role="img" aria-label="Proxy Disconnected" title="Proxy Disconnected"/>
            </span>
        </div>
    </t>

<t t-name="SyncNotification" owl="1">
        <div class="oe_status" t-on-click="onClick">
            <span t-if="state.msg" class="js_msg">
                <t t-esc="state.msg"/>
                <span> </span>
            </span>
            <div t-if="state.status === 'connected'" class="js_connected oe_icon oe_green">
                <i class="fa fa-fw fa-wifi" role="img" aria-label="Synchronisation Connected" title="Synchronisation Connected"/>
            </div>
            <div t-if="state.status === 'connecting'" class="js_connecting oe_icon">
                <i class="fa fa-fw fa-spin fa-spinner" role="img" aria-label="Synchronisation Connecting" title="Synchronisation Connecting"/>
            </div>
            <div t-if="state.status === 'disconnected'" class="js_disconnected oe_icon oe_red">
                <i class="fa fa-fw fa-wifi" role="img" aria-label="Synchronisation Disconnected" title="Synchronisation Disconnected"/>
            </div>
            <div t-if="state.status === 'error'" class="js_error oe_icon oe_red">
                <i class="fa fa-fw fa-warning" role="img" aria-label="Synchronisation Error" title="Synchronisation Error"/>
            </div>
        </div>
    </t>

<t t-name="OrderManagementButton" owl="1">
        <div class="oe_status order-management" t-on-click="onClick">
            <div class="oe_icon oe_green">
                <i class="fa fa-fw fa-search" role="img" aria-label="Order Management Button" title="Order Management Button"/>
            </div>
        </div>
    </t>

<t t-name="HeaderButton" owl="1">
        <div class="header-button close_button" t-att-class="{ confirm: state.label === 'Confirm' }" t-on-click="onClick">
            <t t-esc="translatedLabel"/>
        </div>
    </t>

<t t-name="SaleDetailsButton" owl="1">
        <div class="oe_status">
            <div class="js_connected oe_icon">
                <i class="fa fa-fw fa-print" role="img" aria-label="Print" t-on-click="onClick" title="Print a report with all the sales of the current PoS Session"/>
            </div>
        </div>
    </t>

<t t-name="TicketButton" owl="1">
        <div class="ticket-button" t-att-class="{ highlight: props.isTicketScreenShown }" t-on-click="onClick">
            <div class="with-badge" t-att-badge="count">
                <i class="fa fa-ticket" aria-hidden="true"/>
            </div>
            <div>Orders</div>
        </div>
    </t>

<t t-name="SaleDetailsReport" owl="1">
        <div class="pos-receipt">
            <t t-if="pos.company_logo_base64">
                <img class="pos-receipt-logo" t-att-src="pos.company_logo_base64" alt="Logo"/>
                <br/>
            </t>
            <t t-if="!pos.company_logo_base64" class="pos-receipt-center-align">
                <h1 t-esc="pos.company.name"/>
                <br/>
            </t>
            <br/><br/>

            <div class="orderlines">
                <t t-foreach="products" t-as="line" t-key="line.product_id">
                    <div>
                        <t t-esc="line.product_name.substr(0,20)"/>
                        <span class="pos-receipt-right-align">
                            <t t-esc="Math.round(line.quantity * Math.pow(10, pos.dp['Product Unit of Measure'])) / Math.pow(10, pos.dp['Product Unit of Measure'])"/>
                            <t t-if="line.uom !== 'Units'">
                                <t t-esc="line.uom"/>
                            </t>
                            x
                            <t t-esc="pos.format_currency_no_symbol(line.price_unit)"/>
                        </span>
                    </div>
                    <t t-if="line.discount !== 0">
                        <div class="pos-receipt-left-padding">Discount: <t t-esc="line.discount"/>%</div>
                    </t>
                </t>
            </div>

            <br/>
            <div>------------------------</div>
            <br/>

            <div>
                Payments:
            </div>
            <div t-foreach="payments" t-as="payment">
                <t t-esc="payment.name"/>
                <span t-esc="pos.format_currency_no_symbol(payment.total)" class="pos-receipt-right-align"/>
            </div>

            <br/>
            <div>------------------------</div>
            <br/>

            <div>
                Taxes:
            </div>
            <div t-foreach="taxes" t-as="tax">
                <t t-esc="tax.name"/>
                <span t-esc="pos.format_currency_no_symbol(tax.tax_amount)" class="pos-receipt-right-align"/>
            </div>

            <br/>
            <div>------------------------</div>
            <br/>

            <div>
                Total:
                <span t-esc="pos.format_currency_no_symbol(total_paid)" class="pos-receipt-right-align"/>
            </div>

            <br/>
            <div class="pos-receipt-order-data">
                <div><t t-esc="date"/></div>
            </div>
        </div>
    </t>

<t t-name="Draggable" owl="1">
        <t t-slot="default"/>
    </t>

<t t-name="NotificationSound" owl="1">
        <audio t-att-src="props.sound.src" autoplay="true"/>
    </t>

<t t-name="point_of_sale.SearchBar" owl="1">
        <div class="pos-search-bar">
            <div class="search">
                <span class="search-icon"><i class="fa fa-search"/></span>
                <input class="radius-left" t-att-class="{ 'radius-right': !props.config.filter.show }" t-model="state.searchInput" t-on-keydown="onKeydown" type="text" t-att-placeholder="placeholder"/>
                <ul t-if="state.showSearchFields and state.searchInput" class="fields">
                    <t t-foreach="config.searchFields" t-as="value" t-key="value_index">
                        <li t-att-class="{ highlight: value_index == state.selectedFieldId }" t-on-click="onClickSearchField(value_index)">
                            <span class="field">
                                <t t-esc="value"/>
                            </span>
                            <span>: </span>
                            <span class="term">
                                <t t-esc="state.searchInput"/>
                            </span>
                        </li>
                    </t>
                </ul>
            </div>
            <div t-if="props.config.filter.show" class="filter radius-right" t-on-click.stop="state.showFilterOptions = !state.showFilterOptions">
                <span class="down-icon">
                    <i class="fa fa-chevron-down" aria-hidden="true"/>
                </span>
                <span>
                    <t t-esc="state.selectedFilter"/>
                </span>
                <ul t-if="state.showFilterOptions" class="options">
                    <t t-foreach="config.filter.options" t-as="option" t-key="option">
                        <li t-on-click="selectFilter(option)">
                            <t t-esc="option"/>
                        </li>
                    </t>
                </ul>
            </div>
        </div>
    </t>

<t t-name="DebugWidget" owl="1">
        <Draggable limitArea="'.pos'">
            <div class="debug-widget">
                <header class="drag-handle">
                    <h1>Debug Window</h1>
                </header>
                <div class="toggle" t-on-click="trigger('toggle-debug-widget')" title="Dismiss" role="img" aria-label="Dismiss"><i class="fa fa-times"/></div>
                <div class="content">
                    <p class="category">Electronic Scale</p>
                    <ul>
                        <li>
                            <input t-model="state.weightInput" type="text" class="weight"/>
                        </li>
                        <li class="button set_weight" t-on-click="setWeight">Set Weight</li>
                        <li class="button reset_weight" t-on-click="resetWeight">Reset</li>
                    </ul>

                    <p class="category">Barcode Scanner</p>
                    <ul>
                        <li>
                            <input t-model="state.barcodeInput" type="text" class="ean"/>
                        </li>
                        <li class="button barcode" t-on-click="barcodeScan">Scan</li>
                        <li class="button custom_ean" t-on-click="barcodeScanEAN">Scan EAN-13</li>
                    </ul>

                    <p class="category">Orders</p>

                    <ul>
                        <li class="button" t-on-click="deleteOrders">
                            Delete Paid Orders
                        </li>
                        <li class="button" t-on-click="deleteUnpaidOrders">
                            Delete Unpaid Orders
                        </li>
                        <li t-if="!state.isPaidOrdersReady" class="button" t-on-click="preparePaidOrders">
                            Export Paid Orders
                        </li>
                        <a t-else="" t-att-download="paidOrdersFilename" t-att-href="paidOrdersURL" t-on-click="state.isPaidOrdersReady = !state.isPaidOrdersReady">
                            <li class="button">
                                Download Paid Orders
                            </li>
                        </a>
                        <li t-if="!state.isUnpaidOrdersReady" class="button" t-on-click="prepareUnpaidOrders">
                            Export Unpaid Orders
                        </li>
                        <a t-else="" t-att-download="unpaidOrdersFilename" t-att-href="unpaidOrdersURL" t-on-click="state.isUnpaidOrdersReady = !state.isUnpaidOrdersReady">
                            <li class="button">
                                Download Unpaid Orders
                            </li>
                        </a>
                        <li class="button import_orders" style="position:relative">
                            Import Orders
                            <input t-on-change="importOrders" type="file" style="opacity:0;position:absolute;top:0;left:0;right:0;bottom:0;margin:0;cursor:pointer"/>
                        </li>
                    </ul>

                    <p class="category">Hardware Status</p>
                    <ul>
                        <li class="status weighing">Weighing</li>
                        <li class="button display_refresh" t-on-click="refreshDisplay">
                            Refresh Display
                        </li>
                    </ul>
                    <p class="category">Hardware Events</p>
                    <ul>
                        <li class="event" t-ref="open_cashbox">Open Cashbox</li>
                        <li class="event" t-ref="print_receipt">Print Receipt</li>
                        <li class="event" t-ref="scale_read">Read Weighing Scale</li>
                    </ul>
                    <p class="category">Others</p>
                    <ul>
                        <li class="event">
                            <span>Buffer: </span>
                            <t t-esc="bufferRepr"/>
                        </li>
                    </ul>
                </div>
            </div>
        </Draggable>
    </t>

<t t-name="ErrorPopup" owl="1">
        <div role="dialog" class="modal-dialog">
            <div class="popup popup-error">
                <p class="title">
                    <t t-esc="props.title"/>
                </p>
                <p class="body">
                    <t t-esc="props.body"/>
                </p>
                <div class="footer">
                    <div class="button cancel" t-on-click="confirm">
                        <t t-esc="props.confirmText"/>
                    </div>
                </div>
            </div>
        </div>
    </t>

<t t-name="ErrorBarcodePopup" owl="1">
        <div role="dialog" class="modal-dialog">
            <Draggable>
                <div class="popup popup-barcode">
                    <header class="title drag-handle">
                        <span>Unknown Barcode</span>
                        <br/>
                        <span class="barcode">
                            <t t-esc="props.code"/>
                        </span>
                    </header>
                    <main class="body">
                        <t t-esc="translatedMessage"/>
                    </main>
                    <footer class="footer">
                        <div class="button cancel" t-on-click="confirm">
                            Ok
                        </div>
                    </footer>
                </div>
            </Draggable>
        </div>
    </t>

<t t-name="ConfirmPopup" owl="1">
        <div role="dialog" class="modal-dialog">
            <Draggable>
                <div class="popup popup-confirm">
                    <header class="title drag-handle">
                        <t t-esc="props.title"/>
                    </header>
                    <main class="body">
                        <t t-esc=" props.body"/>
                    </main>
                    <footer class="footer">
                        <div class="button confirm" t-on-click="confirm">
                            <t t-esc="props.confirmText"/>
                        </div>
                        <div class="button cancel" t-on-click="cancel">
                            <t t-esc="props.cancelText"/>
                        </div>
                    </footer>
                </div>
            </Draggable>
        </div>
    </t>

<t t-name="TextInputPopup" owl="1">
        <div role="dialog" class="modal-dialog">
            <div class="popup popup-textinput">
                <header class="title">
                    <t t-esc="props.title"/>
                </header>
                <div class="div">
                    <p>
                        <t t-esc="props.body"/>
                    </p>
                    <input type="text" t-model="state.inputValue" t-ref="input"/>
                </div>
                <div class="footer">
                    <div class="button confirm" t-on-click="confirm">
                        <t t-esc="props.confirmText"/>
                    </div>
                    <div class="button cancel" t-on-click="cancel">
                        <t t-esc="props.cancelText"/>
                    </div>
                </div>
            </div>
        </div>
    </t>

<t t-name="TextAreaPopup" owl="1">
        <div role="dialog" class="modal-dialog">
            <Draggable>
                <div class="popup popup-textarea">
                    <header class="title drag-handle">
                        <t t-esc="props.title"/>
                    </header>
                    <textarea t-model="state.inputValue" t-ref="input"/>
                    <footer class="footer">
                        <div class="button confirm" t-on-click="confirm">
                            <t t-esc="props.confirmText"/>
                        </div>
                        <div class="button cancel" t-on-click="cancel">
                            <t t-esc="props.cancelText"/>
                        </div>
                    </footer>
                </div>
            </Draggable>
        </div>
    </t>

<t t-name="ErrorTracebackPopup" owl="1">
        <div role="dialog" class="modal-dialog">
            <div class="popup popup-error">
                <header class="title">
                    <t t-esc="props.title"/>
                </header>
                <main class="body traceback">
                    <t t-esc="props.body"/>
                </main>
                <footer class="footer">
                    <div t-if="!props.exitButtonIsShown" class="button cancel" t-on-click="confirm">
                        <t t-esc="props.confirmText"/>
                    </div>
                    <div t-if="props.exitButtonIsShown" class="button cancel" t-on-click="trigger(props.exitButtonTrigger)">
                        <t t-esc="props.exitButtonText"/>
                    </div>
                    <a t-att-download="tracebackFilename" t-att-href="tracebackUrl">
                        <div class="button icon download">
                            <i class="fa fa-download" role="img" aria-label="Download error traceback" title="Download error traceback"/>
                        </div>
                    </a>
                    <div class="button icon email" t-on-click="emailTraceback">
                        <i class="fa fa-paper-plane" role="img" aria-label="Send by email" title="Send by email"/>
                    </div>
                </footer>
            </div>
        </div>
    </t>

<t t-name="SelectionPopup" owl="1">
        <div role="dialog" class="modal-dialog">
            <Draggable>
                <div class="popup popup-selection">
                    <header class="title drag-handle">
                        <t t-esc="props.title"/>
                    </header>
                    <div class="selection scrollable-y">
                        <t t-foreach="props.list" t-as="item" t-key="item.id">
                            <div class="selection-item" t-att-class="{ selected: item.isSelected }" t-on-click="selectItem(item.id)">
                                <t t-esc="item.label"/>
                            </div>
                        </t>
                    </div>
                    <footer class="footer">
                        <div class="button cancel" t-on-click="cancel">
                            <t t-esc="props.cancelText"/>
                        </div>
                    </footer>
                </div>
            </Draggable>
        </div>
    </t>

<t t-name="EditListInput" owl="1">
        <div>
            <input type="text" t-model="props.item.text" class="popup-input list-line-input" placeholder="Serial/Lot Number" t-on-keyup="onKeyup"/>
            <i class="oe_link_icon fa fa-trash-o" role="img" aria-label="Remove" title="Remove" t-on-click="trigger('remove-item', props.item)"/>
        </div>
    </t>

<t t-name="EditListPopup" owl="1">
        <div role="dialog" class="modal-dialog">
            <div class="popup popup-text">
                <header class="title">
                    <t t-esc="props.title"/>
                </header>
                <main class="list-lines" t-on-remove-item="removeItem" t-on-create-new-item="createNewItem">
                    <t t-foreach="state.array" t-as="item" t-key="item._id">
                        <EditListInput item="item"/>
                    </t>
                </main>
                <footer class="footer">
                    <div class="button confirm" t-on-click="confirm">
                        Ok
                    </div>
                    <div class="button cancel" t-on-click="cancel">
                        Cancel
                    </div>
                </footer>
            </div>
        </div>
    </t>

<t t-name="NumberPopup" owl="1">
        <div role="dialog" class="modal-dialog">
            <Draggable>
                <div class="popup popup-number" t-att-class="{ 'popup-password': props.isPassword }">
                    <header class="title drag-handle">
                        <t t-esc="props.title"/>
                    </header>
                    <div class="popup-input value active">
                        <t t-esc="inputBuffer"/>
                    </div>
                    <div class="popup-numpad">
                        <button class="input-button number-char" t-on-mousedown.prevent="sendInput('1')">1</button>
                        <button class="input-button number-char" t-on-mousedown.prevent="sendInput('2')">2</button>
                        <button class="input-button number-char" t-on-mousedown.prevent="sendInput('3')">3</button>
                        <t t-if="props.cheap">
                            <button class="mode-button add" t-on-mousedown.prevent="sendInput('+1')">+1</button>
                        </t>
                        <t t-if="!props.cheap">
                            <button class="mode-button add" t-on-mousedown.prevent="sendInput('+10')">+10</button>
                        </t>
                        <br/>
                        <button class="input-button number-char" t-on-mousedown.prevent="sendInput('4')">4</button>
                        <button class="input-button number-char" t-on-mousedown.prevent="sendInput('5')">5</button>
                        <button class="input-button number-char" t-on-mousedown.prevent="sendInput('6')">6</button>
                        <t t-if="props.cheap">
                            <button class="mode-button add" t-on-mousedown.prevent="sendInput('+2')">+2</button>
                        </t>
                        <t t-if="!props.cheap">
                            <button class="mode-button add" t-on-mousedown.prevent="sendInput('+20')">+20</button>
                        </t>
                        <br/>
                        <button class="input-button number-char" t-on-mousedown.prevent="sendInput('7')">7</button>
                        <button class="input-button number-char" t-on-mousedown.prevent="sendInput('8')">8</button>
                        <button class="input-button number-char" t-on-mousedown.prevent="sendInput('9')">9</button>
                        <button t-if="!props.isPassword" class="input-button number-char" t-on-mousedown.prevent="sendInput('-')">-</button>
                        <br/>
                        <button class="input-button numpad-char" t-on-mousedown.prevent="sendInput('Delete')">C</button>
                        <button class="input-button number-char" t-on-mousedown.prevent="sendInput('0')">0</button>
                        <button class="input-button number-char dot" t-on-mousedown.prevent="sendInput(decimalSeparator)">
                            <t t-esc="decimalSeparator"/></button>
                        <button class="input-button numpad-backspace" t-on-mousedown.prevent="sendInput('Backspace')">
                            <img style="pointer-events: none;" src="/point_of_sale/static/src/img/backspace.png" width="24" height="21" alt="Backspace"/>
                        </button>
                        <br/>
                    </div>
                    <footer class="footer centered">
                        <div class="button cancel" t-on-mousedown.prevent="cancel">
                            <t t-esc="props.cancelText"/>
                        </div>
                        <div class="button confirm" t-on-mousedown.prevent="confirm">
                            <t t-esc="props.confirmText"/>
                        </div>
                    </footer>
                </div>
            </Draggable>

        </div>
    </t>

<t t-name="OfflineErrorPopup" owl="1">
        <div role="dialog" class="modal-dialog">
            <Draggable>
                <div class="popup popup-error">
                    <header class="title drag-handle">
                        <t t-esc="props.title"/>
                    </header>
                    <main class="body traceback"><t t-esc="props.body"/></main>
                    <footer class="footer">
                        <div class="button cancel" t-on-click="cancel">
                            Ok
                        </div>
                        <div class="button dont-show-again" t-on-click="dontShowAgain">
                            Don't show again
                        </div>
                    </footer>
                </div>
            </Draggable>
        </div>
    </t>

<t t-name="OrderImportPopup" owl="1">
        <div role="dialog" class="modal-dialog">
            <Draggable>
                <div class="popup popup-import">
                    <header class="title drag-handle">
                        <span>Finished Importing Orders</span>
                    </header>
                    <ul class="body">
                        <li>Successfully imported <b><t t-esc="props.report.paid or 0"/></b> paid orders</li>
                        <li>Successfully imported <b><t t-esc="props.report.unpaid or 0"/></b> unpaid orders</li>
                        <t t-if="unpaidSkipped">
                            <li><b><t t-esc="unpaidSkipped"/></b> unpaid orders could not be imported
                                <ul>
                                    <li><b><t t-esc="props.report.unpaid_skipped_existing or 0"/></b> were duplicates of existing orders</li>
                                    <li><b><t t-esc="props.report.unpaid_skipped_session or 0"/></b> belong to another session:
                                        <t t-if="props.report.unpaid_skipped_sessions">
                                            <ul>
                                                <li>Session ids: <b><t t-esc="props.report.unpaid_skipped_sessions"/></b></li>
                                            </ul>
                                        </t>
                                    </li>
                                </ul>
                            </li>
                        </t>
                    </ul>
                    <footer class="footer">
                        <div class="button cancel" t-on-click="cancel">
                            <t t-esc="props.confirmText"/>
                        </div>
                    </footer>
                </div>
            </Draggable>
        </div>
    </t>

<t t-name="ProductConfiguratorPopup" owl="1">
        <div role="dialog" class="modal-dialog">
            <div class="popup popup-text popup-lg product-configurator-popup">
                <header class="title">
                    <t t-esc="props.product.display_name"/>
                </header>

                <main class="body product_configurator_attributes col-lg-4 col-md-6 col-sm-12">
                    <div t-foreach="props.attributes" t-as="attribute" class="attribute">
                        <div class="attribute_name" t-esc="attribute.name"/>
                        <RadioProductAttribute t-if="attribute.display_type === 'radio'" attribute="attribute"/>
                        <SelectProductAttribute t-elif="attribute.display_type === 'select'" attribute="attribute"/>
                        <ColorProductAttribute t-elif="attribute.display_type === 'color'" attribute="attribute"/>
                    </div>
                </main>

                <footer class="footer">
                    <div class="button highlight confirm" t-on-click="confirm">
                        Add
                    </div>
                    <div class="button cancel" t-on-click="cancel">
                        Cancel
                    </div>
                </footer>
            </div>
        </div>
    </t>

    <t t-name="RadioProductAttribute" owl="1">
        <div class="configurator_radio">
            <div t-foreach="values" t-as="value">
                <input type="radio" t-model="state.selected_value" t-att-name="attribute.id" t-attf-id="{{ attribute.id }}_{{ value.id }}" t-att-value="value.id"/>

                <label t-attf-for="{{ attribute.id }}_{{ value.id }}">
                    <div class="radio_attribute_label">
                        <t t-esc="value.name"/>
                        <span t-if="value.price_extra" class="price_extra">
                            + <t t-esc="env.pos.format_currency(value.price_extra)"/>
                        </span>
                    </div>

                    <t t-if="value.id == state.selected_value &amp;&amp; value.is_custom">
                        <input class="custom_value" type="text" t-model="state.custom_value"/>
                    </t>
                </label>
            </div>
        </div>
    </t>

    <t t-name="SelectProductAttribute" owl="1">
        <div>
            <t t-set="is_custom" t-value="false"/>

            <select class="configurator_select" t-model="state.selected_value">
                <option t-foreach="values" t-as="value" t-att-value="value.id">
                    <t t-set="is_custom" t-value="is_custom || (value.is_custom &amp;&amp; value.id == state.selected_value)"/>
                    <t t-esc="value.name"/>
                    <t t-if="value.price_extra">
                        + <t t-esc="env.pos.format_currency(value.price_extra)"/>
                    </t>
                </option>
            </select>

            <input class="custom_value" t-if="is_custom" type="text" t-model="state.custom_value"/>
        </div>
    </t>

    <t t-name="ColorProductAttribute" owl="1">
        <div>
            <t t-set="is_custom" t-value="false"/>

            <ul class="color_attribute_list">
                <li t-foreach="values" t-as="value" class="color_attribute_list_item">
                    <t t-set="is_custom" t-value="is_custom || (value.is_custom &amp;&amp; value.id == state.selected_value)"/>
                    <label t-attf-class="configurator_color {{ value.id == state.selected_value ? 'active' : '' }}" t-attf-style="background-color: {{ value.html_color }};" t-att-data-color="value.name">
                        <input type="radio" t-model="state.selected_value" t-att-value="value.id" t-att-name="attribute.id"/>
                    </label>
                </li>
            </ul>

            <input class="custom_value" t-if="is_custom" type="text" t-model="state.custom_value"/>
        </div>
    </t>

<t t-name="SetPricelistButton" owl="1">
        <div class="control-button o_pricelist_button">
            <i class="fa fa-th-list" role="img" aria-label="Price list" title="Price list"/>
            <t t-esc="currentPricelistName"/>
        </div>
    </t>

<t t-name="SetFiscalPositionButton" owl="1">
        <div class="control-button o_fiscal_position_button">
            <i class="fa fa-book" role="img" aria-label="Set fiscal position" title="Set fiscal position"/>
            <t t-esc="currentFiscalPositionName"/>
        </div>
    </t>

<t t-name="ClientScreenButton" owl="1">
        <div class="oe_status" t-on-click="onClick">
            <span class="message"><t t-esc="message"/></span>
            <div t-if="state.status === 'warning'" class="js_warning oe_icon oe_orange">
                <i class="fa fa-fw fa-desktop" role="img" aria-label="Client Screen Warning" title="Client Screen Warning"/>
            </div>
             <div t-if="state.status === 'failure'" class="js_disconnected oe_icon oe_red">
                <i class="fa fa-fw fa-desktop" role="img" aria-label="Client Screen Disconnected" title="Client Screen Disconnected"/>
            </div>
            <div t-if="state.status === 'success'" class="js_connected oe_icon oe_green">
                <i class="fa fa-fw fa-desktop" role="img" aria-label="Client Screen Connected" title="Client Screen Connected"/>
            </div>
        </div>
    </t>

<t t-name="MobileOrderWidget" owl="1">
        <div class="switchpane">
            <t t-if="pane === 'right'">
                <button class="btn-switchpane" t-on-click="trigger('click-pay')">
                    <h1>Pay</h1>
                    <span><t t-esc="total"/></span>
                </button>
                <button class="btn-switchpane secondary" t-on-click="trigger('switchpane')">
                    <h1>Review</h1>
                    <span><t t-esc="items_number"/> items</span>
                </button>
            </t>
            <t t-if="pane === 'left'">
              <button class="btn-switchpane" t-on-click="trigger('switchpane')"><h1>Back</h1></button>
            </t>
        </div>
    </t>

<t t-name="day_of_week_widget">
        <table class="o_dow_widget">
            <thead>
                <tr>
                    <th t-foreach="widget.labels" t-as="label">
                        <t t-esc="label"/>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="o_dow_days"/>
            </tbody>
        </table>
    </t>
<div t-name="website_sale.productsSearchBar.autocomplete" class="dropdown-menu show w-100">
    <t t-if="!products.length">
        <span class="dropdown-item-text text-muted">No results found. Please try another search.</span>
    </t>
    <a t-foreach="products" t-as="product" t-att-href="product['website_url']" class="dropdown-item p-2 text-wrap">
        <div class="media align-items-center o_search_product_item">
            <t t-if="widget.displayImage">
                <img t-attf-src="/web/image/product.template/#{product['id']}/image_128" class="flex-shrink-0 o_image_64_contain"/>
            </t>
            <div class="media-body px-3">
                <t t-set="description" t-value="widget.displayDescription and product['description_sale']"/>
                <h6 t-attf-class="font-weight-bold #{description ? '' : 'mb-0'}" t-esc="product['name']"/>
                <p t-if="description" class="mb-0" t-esc="description"/>
            </div>
            <div t-if="widget.displayPrice" class="flex-shrink-0">
                <t t-if="product['has_discounted_price']">
                    <span class="text-danger text-nowrap" style="text-decoration: line-through;">
                        <t t-raw="product['list_price']"/>
                    </span>
                    <br/>
                </t>
                <b class="text-nowrap">
                    <t t-raw="product['price']"/>
                </b>
            </div>
        </div>
    </a>
    <t t-if="hasMoreProducts">
        <button type="submit" class="dropdown-item text-center text-primary">All results</button>
    </t>
</div>


<we-button t-name="website_sale.ribbonSelectItem" t-att-data-set-ribbon="ribbon.id">
    <t t-raw="ribbon.html"/>
    <span t-attf-class="fa fa-#{isTag ? 'tag' : 'bookmark'} ml-auto"/>
    <span t-attf-class="fa fa-arrow-#{isLeft ? 'left' : 'right'} ml-1"/>
    <span t-attf-class="o_wsale_color_preview #{colorClasses} ml-1" t-attf-style="background-color: #{ribbon.bg_color}"/>
    <span t-attf-class="o_wsale_color_preview #{colorClasses} ml-1" t-attf-style="background-color: #{textColor} !important;"/>
</we-button>

<t t-name="website_sale.productsRecentlyViewed">
        <div t-att-id="uniqueId" class="carousel slide o_not_editable" data-interval="false">
            <div class="carousel-inner">
                <t t-foreach="productsGroups" t-as="products">
                    <div t-attf-class="carousel-item #{!products_index and 'active' or ''}">
                        <div class="row">
                            <t t-foreach="products" t-as="product">
                                <div t-attf-class="o_carousel_product_card_wrap col-md-#{12 / productFrame}">
                                    <div class="o_carousel_product_card card h-100">
                                        <input type="hidden" name="product-id" t-att-data-product-id="product.id"/>
                                        <a class="o_carousel_product_img_link" t-att-href="product.website_url">
                                            <img class="o_carousel_product_card_img_top card-img-top" t-attf-src="/web/image/product.product/#{product.id}#{productFrame == 1 ? '/image_256' : '/image_512'}" t-att-alt="product.display_name"/>
                                        </a>
                                        <i class="fa fa-trash o_carousel_product_remove js_remove"/>
                                        <div class="o_carousel_product_card_body card-body border-top">
                                            <a t-att-href="product.website_url" class="text-decoration-none">
                                                <h6 class="card-title mb-0 text-truncate" t-raw="product.display_name"/>
                                            </a>
                                            <t t-if="product.rating" t-raw="product.rating"/>
                                        </div>
                                        <div class="o_carousel_product_card_footer card-footer d-flex align-items-center">
                                            <div class="d-block font-weight-bold" t-raw="product.price"/>
                                            <button type="button" role="button" class="btn btn-primary js_add_cart ml-auto" title="Add to Cart">
                                                <i class="fa fa-fw fa-shopping-cart"/>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </t>
                        </div>
                    </div>
                </t>
            </div>
            <t t-if="productsGroups.length &gt; 1">
                <a class="o_carousel_product_control carousel-control-prev" t-att-href="'#' + uniqueId" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon"/>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="o_carousel_product_control carousel-control-next" t-att-href="'#' + uniqueId" role="button" data-slide="next">
                    <span class="carousel-control-next-icon"/>
                    <span class="sr-only">Next</span>
                </a>
            </t>
        </div>
    </t>
<t t-name="productVideo">
        <div class="embed-responsive embed-responsive-16by9 mt-2" t-if="embedCode">
            <t t-raw="embedCode"/>
        </div>
    </t>

<t t-extend="website.dashboard_header">
        <t t-jquery="div.o_dashboard_common" t-operation="append">
            <div class="col-12 o_box" t-if="widget.dashboards_data.sales.summary.order_unpaid_count || widget.dashboards_data.sales.summary.order_to_invoice_count || widget.dashboards_data.sales.summary.payment_to_capture_count || widget.dashboards_data.sales.summary.order_carts_abandoned_count">
                <div t-if="widget.dashboards_data.sales.summary.order_unpaid_count" class="o_inner_box o_dashboard_action" title="Confirm orders when you get paid." name="website_sale.action_unpaid_orders_ecommerce">
                    <div class="o_highlight"><t t-esc="widget.dashboards_data.sales.summary.order_unpaid_count"/></div>
                    Unpaid Orders
                </div>
                <div t-if="widget.dashboards_data.sales.summary.order_to_invoice_count" class="o_inner_box o_dashboard_action" title="Generate an invoice from orders ready for invoicing." name="website_sale.sale_order_action_to_invoice">
                    <div class="o_highlight"><t t-esc="widget.dashboards_data.sales.summary.order_to_invoice_count"/></div>
                    Orders to Invoice
                </div>
                <div t-if="widget.dashboards_data.sales.summary.payment_to_capture_count" class="o_inner_box o_dashboard_action" title="Capture order payments when the delivery is completed." name="website_sale.payment_transaction_action_payments_to_capture">
                    <div class="o_highlight"><t t-esc="widget.dashboards_data.sales.summary.payment_to_capture_count"/></div>
                    Payments to Capture
                </div>
                <div t-if="widget.dashboards_data.sales.summary.order_carts_abandoned_count" class="o_inner_box o_dashboard_action" title="Send a recovery email to visitors who haven't completed their order." name="website_sale.action_view_abandoned_tree">
                    <div class="o_highlight"><t t-esc="widget.dashboards_data.sales.summary.order_carts_abandoned_count"/></div>
                    Abandoned Carts
                </div>
            </div>
        </t>
    </t>

    <t t-extend="website.dashboard_content">
        <t t-jquery="div.o_website_dashboard_content" t-operation="prepend">
            <div t-if="widget.groups.sale_salesman" class="row o_dashboard_sales">
                <div class="col-12 row o_box">
                    <t t-if="widget.dashboards_data.sales.summary.order_count">
                        <h2 class="col-lg-7 col-12">
                            <t t-if="widget.date_range=='week'">
                                Sales Since Last Week
                            </t>
                            <t t-elif="widget.date_range=='month'">
                                Sales Since Last Month
                            </t>
                            <t t-elif="widget.date_range=='year'">
                                Sales Since Last Year
                            </t>
                            <t t-else="">Sales</t>
                        </h2>
                        <h4 class="col-lg-5 col-12">AT A GLANCE</h4>
                        <div class="col-lg-7 col-12">
                            <div class="o_graph_sales" data-type="sales"/>
                        </div>
                        <div class="col-lg-5 col-12">
                            <t t-call="website_sale.products_table"/>
                        </div>
                    </t>
                    <t t-if="! widget.dashboards_data.sales.summary.order_count">
                        <t t-if="widget.date_range=='week'">
                            <h2>Sales Since Last Week</h2>
                        </t>
                        <t t-elif="widget.date_range=='month'">
                            <h2>Sales Since Last Month</h2>
                        </t>
                        <t t-elif="widget.date_range=='year'">
                            <h2>Sales Since Last Year</h2>
                        </t>
                        <t t-else=""><h2>Sales</h2></t>
                        <div class="col-lg-12 col-12">
                            <div class="o_demo_background">
                            </div>
                            <div class="o_demo_message">
                                <h3>There is no recent confirmed order.</h3>
                            </div>
                        </div>
                    </t>
                </div>
            </div>
        </t>
    </t>

    <t t-name="website_sale.products_table">
        <div class="row">
            <a href="#" class="col-md-4 o_dashboard_action" name="website_sale.sale_report_action_dashboard">
                <div class="o_link_enable" title="Orders">
                    <div class="o_highlight">
                        <t t-esc="widget.dashboards_data.sales.summary.order_count"/>
                    </div>
                    Orders
                </div>
            </a>
            <a href="#" class="col-md-4 o_dashboard_action" name="website_sale.sale_report_action_dashboard">
                <div class="o_link_enable" title="Untaxed Total Sold">
                    <div class="o_highlight">
                        <t t-esc="widget.render_monetary_field(widget.dashboards_data.sales.summary.total_sold, widget.data.currency)"/>
                    </div>
                    Sold
                </div>
            </a>
            <a href="#" class="col-md-4 o_dashboard_action" name="website_sale.sale_report_action_carts">
                <div class="o_link_enable o_invisible_border" title="Carts">
                    <div class="o_highlight"><t t-esc="widget.dashboards_data.sales.summary.order_carts_count"/></div>
                    Carts
                </div>
            </a>
            <div class="col-md-4 o_link_disable" title="Orders/Day">
                <div class="o_highlight"><t t-esc="widget.dashboards_data.sales.summary.order_per_day_ratio"/></div>
                Orders/Day
            </div>
            <div class="col-md-4 o_link_disable" title="Average Order">
                <div class="o_highlight"><t t-esc="widget.render_monetary_field(widget.dashboards_data.sales.summary.order_sold_ratio, widget.data.currency)"/></div>
                Average Order
            </div>
            <div class="col-md-4 o_link_disable o_invisible_border" title="Conversion">
                <div class="o_highlight"><t t-esc="widget.format_number(widget.dashboards_data.sales.summary.order_convertion_pctg, 'float', [3, 2], '%')"/></div>
                Conversion
            </div>
        </div>
        <div class="col-lg-12 col-12 o_top_margin">
            <div class="row">
                <div class="col-lg-12 col-12">
                    <h4>Best Sellers</h4>
                    <table class="table table-responsive table-hover">
                        <tr>
                            <th>Product</th>
                            <th>Quantity</th>
                            <th>Sold</th>
                        </tr>
                        <tr class="o_product_template" t-foreach="widget.dashboards_data.sales.best_sellers" t-as="product" t-att-data-product-id="product.id">
                            <td><t t-esc="product.name"/></td>
                            <td><t t-esc="product.qty"/></td>
                            <td><t t-esc="widget.render_monetary_field(product.sales, widget.data.currency)"/></td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </t>

    <t t-extend="website_sale.products_table">
        <t t-jquery=".o_top_margin .row .col-12" t-operation="attributes">
            <attribute name="class" value="col-lg-6 col-12"/>
        </t>
        <t t-jquery=".o_top_margin .row" t-operation="append">
            <div class="col-lg-6 col-12 o_dashboard_utms">
                <div>
                    <h4 class="float-left">REVENUE BY</h4>
                    <t t-call="website_sale.LinkTrackersDropDown"/>
                </div>
                <div class="o_utm_no_data_img">
                    <img src="website_sale/static/src/img/website_sale_chart_demo.png" alt="There isn't any UTM tag detected in orders" class="utm_chart_image image-responsive mt8"/>
                </div>
                <div class="o_utm_data_graph"/>
            </div>
        </t>
    </t>

    <t t-name="website_sale.LinkTrackersDropDown">
        <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle utm_dropdown ml4" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><span class="utm_button_name">Campaigns</span>
            </button>
            <div class="dropdown-menu" role="menu" aria-labelledby="utm_dropdown">
                <a name="campaign_id" class="dropdown-item js_utm_selector" role="menuitem">Campaigns</a>
                <a name="medium_id" class="dropdown-item js_utm_selector" role="menuitem">Medium</a>
                <a name="source_id" class="dropdown-item js_utm_selector" role="menuitem">Sources</a>
            </div>
        </div>
    </t>
<t t-extend="UserMenu.Actions">
        <t t-jquery="a[data-menu='settings']" t-operation="inner">
            My Profile
        </t>
    </t>
<t t-name="Many2ManyAttendeeTag" t-extend="FieldMany2ManyTag">
        <t t-jquery="span:first" t-operation="prepend">
            <span t-if="attendeesData[el_index]" t-attf-class="o_calendar_invitation #{attendeesData[el_index].status}"/>
        </t>
    </t>

    <div t-name="calendar.RecurrentEventUpdate">
        <div class="form-check o_radio_item">
            <input name="recurrence-update" type="radio" class="form-check-input o_radio_input" checked="true" value="self_only" id="self_only"/>
            <label class="form-check-label o_form_label" for="self_only">This event</label>
        </div>

        <div class="form-check o_radio_item">
            <input name="recurrence-update" type="radio" class="form-check-input o_radio_input" value="future_events" id="future_events"/>
            <label class="form-check-label o_form_label" for="future_events">This and following events</label>
        </div>
    </div>

    <t t-extend="mail.systray.ActivityMenu.Previews">
        <t t-jquery="div.o_preview_title" t-operation="after">
            <div t-if="activity and activity.type == 'meeting'">
                <t t-set="is_next_meeting" t-value="true"/>
                <t t-foreach="activity.meetings" t-as="meeting">
                    <div>
                        <span t-att-class="!meeting.allday and is_next_meeting ? 'o_meeting_filter o_meeting_bold' : 'o_meeting_filter'" t-att-data-res_model="activity.model" t-att-data-res_id="meeting.id" t-att-data-model_name="activity.name" t-att-title="meeting.name">
                            <span><t t-esc="meeting.name"/></span>
                        </span>
                        <span t-if="meeting.start" class="float-right">
                            <t t-if="meeting.allday">All Day</t>
                            <t t-else="">
                                <t t-set="is_next_meeting" t-value="false"/>
                                <t t-esc="moment(meeting.start).local().format(Time.strftime_to_moment_format(_t.database.parameters.time_format))"/>
                            </t>
                        </span>
                    </div>
                </t>
            </div>
        </t>
    </t>

    <t t-name="Calendar.attendee.status.popover" t-extend="CalendarView.event.popover">
        <t t-jquery=".o_cw_popover_delete" t-operation="after">
            <div t-if="widget.displayAttendeeAnswerChoice()" class="btn-group o-calendar-attendee-status ml-2">
                <a href="#" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i t-attf-class="fa fa-circle o-calendar-attendee-status-icon #{widget.selectedStatusInfo.color}"/> <span class="o-calendar-attendee-status-text" t-esc="widget.selectedStatusInfo.text"/>
                </a>
                <div class="dropdown-menu overflow-hidden">
                    <a class="dropdown-item" href="#" data-action="accepted"><i class="fa fa-circle text-success"/> Accept</a>
                    <a class="dropdown-item" href="#" data-action="declined"><i class="fa fa-circle text-danger"/> Decline</a>
                    <a class="dropdown-item" href="#" data-action="tentative"><i class="fa fa-circle text-muted"/> Uncertain</a>
                </div>
            </div>
        </t>
    </t>

<t t-name="base_import.ImportMenu" owl="1">
        <li class="o_menu_item o_import_menu" role="menuitem">
            <button type="button" class="dropdown-item" t-on-click="_onImportClick">
                Import records
            </button>
        </li>
    </t>

    <t t-name="ImportView">
        <t t-set="_id" t-value="_.uniqueId('export')"/>
        <form action="" method="post" enctype="multipart/form-data" class="oe_import">
            <input type="hidden" name="csrf_token" t-att-value="csrf_token"/>
            <input type="hidden" name="import_id"/>
            <div class="oe_import_box d-none">
                <input accept=".csv, .xls, .xlsx, .xlsm, .ods" t-attf-id="file_#{_id}" name="file" class="oe_import_file" type="file" style="display:none;"/>
                <div class="oe_import_with_file row">
                    <a href="#" class="oe_import_toggle col-sm-12">
                        Formatting Options…</a>
                        <div class="row col-sm-12">
                            <div class="oe_import_toggled oe_import_options js_import_options col-md-6 col-lg-4">
                                <p t-foreach="widget.opts" t-as="option">
                                    
                                    <label t-attf-for="#{option.name}_#{_id}">
                                        <t t-esc="option.label"/></label>
                                    <input t-attf-id="#{option.name}_#{_id}" t-attf-class="oe_import_#{option.name}" style="width: 50%;" t-att-value="option.value"/>
                                </p>
                            </div>
                            <div t-foreach="[widget.parse_opts_formats, widget.parse_opts_separators]" t-as="options" class="oe_import_toggled oe_import_options col-md-6 col-lg-4">
                                <p t-foreach="options" t-as="option">
                                    
                                    <label t-attf-for="#{option.name}_#{_id}">
                                        <t t-esc="option.label"/></label>
                                    <input t-attf-id="#{option.name}_#{_id}" t-attf-class="oe_import_#{option.name}" style="width: 50%;" t-att-value="option.value"/>
                                </p>
                            </div>
                        </div>
                </div>
            </div>
            <div class="o_import_batch_alert alert alert-warning d-none">
                Due to its large size, the file will be imported by batches.
            </div>
            <div class="o_import_partial_alert alert alert-warning d-none">
                Click 'Resume' to proceed with the import, resuming at line
                <span class="o_import_partial_count">0</span>.<br/>
                You can test or reload your file before resuming the import.
            </div>

            <div class="oe_import_with_file d-none">
                <h2>Map your columns to import</h2>
                <div class="oe_import_debug_options">
                    <div title="If the model uses openchatter, history tracking will set up subscriptions and send notifications during the import, but lead to a slower import." class="oe_import_debug_option">
                        <input type="checkbox" id="oe_import_tracking"/>
                        <label for="oe_import_tracking">
                            Track history during import
                        </label>
                    </div>

                    <div class="oe_import_has_multiple_sheets js_import_options">
                        <label for="oe_import_sheet">Selected Sheet:</label>
                        <input class="oe_import_sheet" id="oe_import_sheet"/>
                    </div>

                    <div>
                        <input type="checkbox" class="oe_import_has_header" id="oe_import_has_header" checked="checked"/>
                        <label for="oe_import_has_header">The first row
                         contains the label of the column</label>
                    </div>
                    <div class="js_import_options oe_import_debug_option oe_import_batch_limit">
                        <label for="oe_import_batch_limit">Batch limit</label>
                        <input id="oe_import_batch_limit" value="2000"/>
                    </div>
                    <div class="js_import_options oe_import_debug_option" title="Warning: ignores the labels line, empty lines and                             lines composed only of empty cells">
                        <label for="oe_import_row_start">Start at line</label>
                        <input id="oe_import_row_start" value="1"/>
                    </div>
                    <div class="oe_import_debug_option">
                        <input type="checkbox" class="oe_import_advanced_mode" checked="checked" id="oe_import_advanced_mode"/>
                        <label for="oe_import_advanced_mode">Show fields of relation fields (advanced)</label>
                    </div>
                </div>
                <p class="oe_import_noheaders text-muted">If the file contains
                the column names, Odoo can try auto-detecting the
                field corresponding to the column. This makes imports
                simpler especially when the file has many columns.</p>

                <div class="oe_import_error_report"/>
                <div class="table-responsive">
                    <table class="table-striped table-bordered oe_import_grid bg-white"/>
                </div>
                <h6 class="oe_padding">This is a preview of the first 10 rows of your file</h6>
            </div>
            <div class="o_view_nocontent">
                <div class="o_nocontent_help">
                    <p class="o_view_nocontent_smiling_face">
                        Select a CSV or Excel file to import.
                    </p>
                    <p>
                        Excel files are recommended as fields formatting is automatic.
                    </p>
                    <div class="mt16 mb4">Need Help?</div>
                    <div t-foreach="widget.importTemplates" t-as="template">
                        <a t-att-href="template.template" aria-label="Download" title="Download">
                            <i class="fa fa-download"/> <span><t t-esc="template.label"/></span>
                        </a>
                    </div>
                    <a href="https://www.odoo.com/documentation/14.0/applications/general/base_import/import_faq.html" target="new">Import FAQ</a>
                </div>
            </div>
        </form>
    </t>

    <t t-name="ImportView.buttons">
        <button type="button" class="btn btn-primary o_import_import o_import_import_full d-none">Import</button>
        <button type="button" class="btn btn-primary o_import_import o_import_import_partial d-none">Resume</button>
        <button type="button" class="btn btn-secondary o_import_validate d-none">Test</button>
        <button type="button" class="btn btn-primary oe_import_file">Load File</button>
        <button type="button" class="btn btn-secondary o_import_cancel">Cancel</button>
    </t>

    <t t-name="ImportView.create_record_option">
        <div class="mt4">
            <label title="Creates new records if they can't be found (instead of failing to import). Note that the value in the column will be used as the new record's 'name', and assumes this is sufficient to create the record.">
                <input type="checkbox" class="o_import_create_option"/>
                Create if doesn't exist
            </label>
        </div>
    </t>

    <t t-name="ImportView.preview">
        <thead>
            <tr t-if="headers" class="oe_import_grid-header">
                <td t-foreach="headers" t-as="header" class="oe_import_grid-cell"><span class="o_import_header_name o_single_line_text" t-att-title="header"><t t-esc="header"/></span></td>
            </tr>
            <tr class="oe_import_fields">
                
                <td t-foreach="preview[0]" t-as="column">
                    <input class="oe_import_match_field"/>
                </td>
            </tr>
        </thead>
        <tbody>
            <tr t-foreach="preview" t-as="row" class="oe_import_grid-row">
                <td t-foreach="row" t-as="cell" class="oe_import_grid-cell">
                    
                    
                    
                    <t t-set="multiline" t-value="cell.includes(' ')"/>
                    <t t-set="content" t-value="(multiline &amp;&amp; cell.length &gt; 120) ? (cell.substring(0, 120) + '...') : cell"/>
                    <span t-attf-class="#{multiline ? 'o_multi_line_text' : 'o_single_line_text'}">
                        <t t-esc="content"/>
                    </span>
                </td>
            </tr>
        </tbody>
    </t>
    <t t-name="ImportView.preview.error">
        <div class="oe_import_report alert alert-danger">
            <p>Import preview failed due to: <t t-esc="error"/>.</p>
            <p>For CSV files, you may need to select the correct separator.</p>
            <p t-if="preview">Here is the start of the file we could not import:</p>
        </div>
        <pre t-if="preview"><t t-esc="preview"/></pre>
    </t>
    <ul t-name="ImportView.error">
        <li t-foreach="errors" t-as="error" t-attf-class="oe_import_report alert alert-#{error_value[0].type}">
            <t t-if="error_value.length gt 1">
                <t t-call="ImportView.error.multi.header">
                    <t t-set="error" t-value="error_value[0]"/>
                    <t t-set="error_length" t-value="error_value.length"/>
                </t>
                <ul>
                    <t t-foreach="error_value.length" t-as="index">
                        <li t-att-class="index gt 4 ? 'oe_import_report_more':''">
                            <t t-call="ImportView.error.multi.body">
                                <t t-set="error" t-value="error_value[index]"/>
                                <t t-set="index" t-value="index"/>
                            </t>
                        </li>
                        <li t-if="error_value.length gt 5 and index == 4" style="display: block;">
                            <a href="#" class="oe_import_report_count">
                                <t t-esc="more(error_value.length - 5)"/>
                            </a>
                        </li>
                    </t>
                </ul>
                <t t-if="error_value[0].moreinfo" t-raw="info(error_value[0].moreinfo)"/>

            </t>
            <t t-else="">
                <t t-call="ImportView.error.single">
                    <t t-set="error" t-value="error_value[0]"/>
                </t>
            </t>
        </li>
    </ul>
    <t t-name="ImportView.error.multi.header">
        <span class="oe_import_report_message">
            <t t-esc="error.message"/>
            <t t-esc="at_multi_header(error_length)"/>
        </span>
    </t>
    <t t-name="ImportView.error.multi.body">
        <span class="oe_import_report_message" t-if="error.rows">
            <t t-esc="at_multi(error.rows)"/>
        </span>
    </t>
    <t t-name="ImportView.error.single">
        <span class="oe_import_report_message">
            <t t-esc="error.message"/>
        </span>
        <t t-if="error.rows" t-esc="at(error.rows)"/>
        <t t-if="error.moreinfo" t-raw="info(error.moreinfo)"/>
    </t>
<t t-name="hr_org_chart_employee">
    <div t-attf-class="o_org_chart_entry o_org_chart_entry_#{employee_type} media">
        <t t-set="is_self" t-value="employee.id == view_employee_id"/>

        <div class="o_media_left">
            
            <a t-if="! is_self" class="o_media_object rounded-circle o_employee_redirect" t-att-style="'background-image:url(\'/web/image/hr.employee.public/' + employee.id + '/image_1024/\')'" t-att-alt="employee.name" t-att-data-employee-id="employee.id" t-att-href="employee.link"/>
            <div t-if="is_self" class="o_media_object rounded-circle" t-att-style="'background-image:url(\'/web/image/hr.employee.public/' + employee.id + '/image_1024/\')'"/>
        </div>

        <div class="media-body">
            <span t-if="employee.indirect_sub_count &gt; 0" class="badge badge-pill" tabindex="0" data-trigger="focus" t-att-data-emp-name="employee.name" t-att-data-emp-id="employee.id" t-att-data-emp-dir-subs="employee.direct_sub_count" t-att-data-emp-ind-subs="employee.indirect_sub_count" data-toggle="popover">
                <t t-esc="employee.indirect_sub_count"/>
            </span>

            <t t-if="!is_self">
                <a t-att-href="employee.link" class="o_employee_redirect" t-att-data-employee-id="employee.id">
                    <h5 class="o_media_heading"><b><t t-esc="employee.name"/></b></h5>
                    <strong><t t-esc="employee.job_title"/></strong>
                </a>
            </t>
            <t t-if="is_self">
                <h5 class="o_media_heading"><b><t t-esc="employee.name"/></b></h5>
                <strong><t t-esc="employee.job_title"/></strong>
            </t>
        </div>
    </div>
</t>

<t t-name="hr_org_chart">
    
    <t t-set="emp_count" t-value="0"/>

    <div t-if="managers.length &gt; 0" class="o_org_chart_group_up">
        <t t-if="managers_more">
            <div class="o_org_chart_entry o_org_chart_more media">
                <div class="o_media_left">
                    <a class="text-center o_employee_more_managers" t-att-data-employee-id="managers[0].id">
                        <i t-attf-class="fa fa-angle-double-up" role="img" aria-label="More managers" title="More managers"/>
                    </a>
                </div>
            </div>
        </t>

        <t t-foreach="managers" t-as="employee">
            <t t-set="emp_count" t-value="emp_count + 1"/>
            <t t-call="hr_org_chart_employee">
                <t t-set="employee_type" t-value="'manager'"/>
            </t>
        </t>
    </div>

    <t t-if="children.length || managers.length" t-call="hr_org_chart_employee">
        <t t-set="employee_type" t-value="'self'"/>
        <t t-set="employee" t-value="self"/>
    </t>

    <t t-if="!children.length &amp;&amp; !managers.length">
        <div class="alert alert-info" role="alert">
            <p><b>No hierarchy position.</b></p>
            <p>This employee has no manager or subordinate.</p>
            <p>In order to get an organigram, set a manager and save the record.</p>
        </div>
    </t>

    <div t-if="children.length" class="o_org_chart_group_down">
        <t t-foreach="children" t-as="employee">
            <t t-set="emp_count" t-value="emp_count + 1"/>
            <t t-if="emp_count &lt; 20">
                <t t-call="hr_org_chart_employee">
                    <t t-set="employee_type" t-value="'sub'"/>
                </t>
            </t>
        </t>

        <t t-if="(children.length + managers.length) &gt; 19">
            <div class="o_org_chart_entry o_org_chart_more media">
                <div class="o_media_left">
                    <a href="#" t-att-data-employee-id="self.id" t-att-data-employee-name="self.name" class="o_org_chart_show_more text-center o_employee_sub_redirect">See All</a>
                </div>
            </div>
        </t>
    </div>
</t>

<t t-name="hr_orgchart_emp_popover">
    <div class="popover o_org_chart_popup" role="tooltip"><div class="arrow"/><h3 class="popover-header"/><div class="popover-body"/></div>
</t>

<t t-name="hr_orgchart_emp_popover_content">
    <table class="table table-sm">
        <thead>
            <td class="text-right"><t t-esc="employee.direct_sub_count"/></td>
            <td>
                <a href="#" class="o_employee_sub_redirect" data-type="direct" t-att-data-employee-name="employee.name" t-att-data-employee-id="employee.id">
                    <b>Direct subordinates</b></a>
            </td>
        </thead>
        <tbody>
            <tr>
                <td class="text-right">
                    <t t-esc="employee.indirect_sub_count - employee.direct_sub_count"/>
                </td>
                <td>
                    <a href="#" class="o_employee_sub_redirect" data-type="indirect" t-att-data-employee-name="employee.name" t-att-data-employee-id="employee.id">
                        Indirect subordinates</a>
                </td>
            </tr>
            <tr>
                <td class="text-right"><t t-esc="employee.indirect_sub_count"/></td>
                <td>
                    <a href="#" class="o_employee_sub_redirect" data-type="total" t-att-data-employee-name="employee.name" t-att-data-employee-id="employee.id">
                        Total</a>
                </td>
            </tr>
        </tbody>
    </table>
</t>

<t t-name="hr_orgchart_emp_popover_title">
    <div>
        <span t-att-style="&quot;background-image:url(\&quot;/web/image/hr.employee.public/&quot; + employee.id + &quot;/image_1024/\&quot;)&quot;"/>
        <a href="#" class="float-right o_employee_redirect" t-att-data-employee-id="employee.id"><i class="fa fa-external-link" role="img" aria-label="Redirect" title="Redirect"/></a>
        <b><t t-esc="employee.name"/></b>
    </div>
</t>

<div t-name="iap.redirect_to_odoo_credit">
        <t t-if="data.body">
            <div t-raw="data.body"/>
        </t>
        <t t-if="!data.body">
            <t t-if="data.message">
                <span t-esc="data.message"/>
            </t>
            <t t-if="!data.message">
                <span>Insufficient credit to perform this service.</span>
            </t>
        </t>
    </div>

    <t t-extend="DashboardMain">
        <t t-jquery=".o_web_settings_apps" t-operation="after">
            <div class="o_web_settings_iap"/>
        </t>
    </t>
    
    <div t-name="iap.buy_more_credits" class="mt-2 row">
        <div class="col-sm">
            <button class="btn btn-link buy_credits o-hidden-ios"><i class="fa fa-arrow-right"/> Buy credits</button>
        </div>
    </div>
<div t-name="partner_autocomplete.dropdown" class="o_partner_autocomplete_dropdown dropdown-menu show" role="menu">
        <t t-foreach="suggestions" t-as="info">
            <a role="menuitem" href="#" t-attf-class="dropdown-item o_partner_autocomplete_suggestion clearfix#{info_index == 0 and ' active' or ''}" t-att-data-index="info_index">
                <img t-att-src="info['logo']" onerror="this.src='/base/static/img/company_image.png'" alt="Placeholder"/>
                <div class="o_partner_autocomplete_info">
                    <strong><t t-esc="info['label'] or ' '"/></strong>
                    <div><t t-esc="info['description']"/></div>
                </div>
            </a>
        </t>
    </div>

    
    <div t-name="partner_autocomplete.insufficient_credit_notification" class="o-hidden-ios">
        <a class="btn btn-link" t-att-href="credits_url"><i class="fa fa-arrow-right"/> Buy more credits</a>
    </div>

    <div t-name="partner_autocomplete.account_token" class="">
        <a class="btn btn-link" t-att-href="account_url"><i class="fa fa-arrow-right"/> Set Your Account Token</a>
    </div>
<t t-name="HeaderLockButton" owl="1">
        <div class="header-button lock-button" t-on-mouseover="onMouseOver(true)" t-on-click="showLoginScreen" t-on-mouseout="onMouseOver(false)">
            <span class="lock-button">
                <i class="fa" t-att-class="{ 'fa-unlock': state.isUnlockIcon, 'fa-lock': !state.isUnlockIcon }" role="img" t-att-aria-label="state.title" t-att-title="state.title"/>
            </span>
        </div>
    </t>

<t t-name="LoginScreen" owl="1">
        <div class="login-overlay">
            <div class="screen-login">
                <div class="login-title"><small>Log in to </small>
                    <t t-esc="shopName"/>
                </div>
                <div class="login-body">
                    <span class="login-element">
                        <img class="login-barcode-img" src="/point_of_sale/static/img/barcode.png"/>
                        <div class="login-barcode-text">Scan your badge</div>
                    </span>
                    <span class="login-or">or</span>
                    <span class="login-element">
                        <button class="login-button select-employee" t-on-click="selectCashier">Select Cashier</button>
                    </span>
                </div>
                <div class="login-footer">
                    <small>
                        <button class="login-button close-session" t-on-click="closeSession">Close session</button>
                    </small>
                </div>
            </div>
        </div>
    </t>
<div t-name="sale_stock.qtyAtDate">
        <div t-att-class="!widget.data.display_qty_widget ? 'invisible' : ''">
            <a tabindex="0" t-attf-class="fa fa-area-chart {{ widget.data.forecasted_issue ? 'text-danger' : 'text-primary' }}"/>
        </div>
    </div>

    <div t-name="sale_stock.QtyDetailPopOver">
        <table class="table table-borderless table-sm">
            <tbody>
                <t t-if="!data.is_mto and ['draft', 'sent'].includes(data.state)">
                    <tr>
                        <td><strong>Forecasted Stock</strong><br/><small>On <span t-esc="data.delivery_date"/></small></td>
                        <td><b t-esc="data.virtual_available_at_date"/>
                        <t t-esc="data.product_uom.data.display_name"/></td>
                    </tr>
                    <tr>
                        <td><strong>Available</strong><br/><small>All planned operations included</small></td>
                        <td><b t-esc="data.free_qty_today" t-att-class="!data.will_be_fulfilled ? 'text-danger': ''"/>
                        <t t-esc="data.product_uom.data.display_name"/></td>
                    </tr>
                </t>
                <t t-elif="data.is_mto and ['draft', 'sent'].includes(data.state)">
                    <tr>
                        <td><strong>Expected Delivery</strong></td>
                        <td class="oe-right"><span t-esc="data.delivery_date"/></td>
                    </tr>
                    <tr>
                        <p>This product is replenished on demand.</p>
                    </tr>
                </t>
                <t t-elif="data.state == 'sale'">
                    <tr>
                        <td>
                            <strong>Reserved</strong><br/>
                        </td>
                        <td style="min-width: 50px; text-align: right;">
                            <b t-esc="data.qty_available_today"/> <t t-esc="data.product_uom.data.display_name"/>
                        </td>
                    </tr>
                    <tr t-if="data.qty_available_today &lt; data.qty_to_deliver">
                        <td>
                            <span t-if="data.will_be_fulfilled and data.forecast_expected_date_str">
                                Remaining demand available at <b t-esc="data.forecast_expected_date_str" t-att-class="data.scheduled_date &lt; data.forecast_expected_date ? 'text-danger' : ''"/>
                            </span>
                            <span t-elif="!data.will_be_fulfilled and data.forecast_expected_date_str" class="text-danger">
                                No enough future availaibility
                            </span>
                            <span t-elif="!data.will_be_fulfilled" class="text-danger">
                                No future availaibility
                            </span>
                            <span t-else="">
                                Available in stock
                            </span>
                        </td>
                    </tr>
                </t>
            </tbody>
        </table>
        <button t-if="!data.is_mto" class="text-left btn btn-link action_open_forecast" type="button">
            <i class="fa fa-fw o_button_icon fa-arrow-right"/>
            View Forecast
        </button>
    </div>

    <div t-name="sale_stock.DelayAlertWidget">
        <p>The delivery
            <t t-foreach="late_elements" t-as="late_element">
                <a t-esc="late_element.name" href="#" t-att-element-id="late_element.id" t-att-element-model="model"/>,
            </t> will be late.
        </p>
    </div>
<t t-name="snailmail.SnailmailErrorDialog" owl="1">
        <Dialog contentClass="'o_SnailmailErrorDialog'" title="title" size="'medium'" t-ref="dialog">
            <t t-if="message and notification">
                <t t-if="notification.failure_type === 'sn_credit'">
                    <p class="o_SnailmailErrorDialog_contentCredit">
                        The letter could not be sent due to insufficient credits on your IAP account.
                    </p>
                    <t t-if="env.messaging.snailmail_credits_url">
                        <div class="text-right">
                            <a class="btn btn-link" t-att-href="env.messaging.snailmail_credits_url" target="_blank">
                                <i class="fa fa-arrow-right"/> Buy credits
                            </a>
                        </div>
                    </t>
                </t>
                <t t-elif="notification.failure_type === 'sn_trial'">
                    <p class="o_SnailmailErrorDialog_contentTrial">
                        You need credits on your IAP account to send a letter.
                    </p>
                    <t t-if="env.messaging.snailmail_credits_url_trial">
                        <div class="text-right">
                            <a class="btn btn-link" t-att-href="env.messaging.snailmail_credits_url_trial">
                                <i class="fa fa-arrow-right"/> Buy credits
                            </a>
                        </div>
                    </t>
                </t>
                <t t-elif="notification.failure_type === 'sn_price'">
                    <p class="o_SnailmailErrorDialog_contentPrice">
                        The country to which you want to send the letter is not supported by our service.
                    </p>
                </t>
                <t t-elif="notification.failure_type === 'sn_error'">
                    <p class="o_SnailmailErrorDialog_contentError">
                        An unknown error occurred. Please contact our <a href="https://www.odoo.com/help" target="new">support</a> for further assistance.
                    </p>
                </t>

                <t t-set-slot="buttons">
                    <t t-if="hasCreditsError">
                        <button class="o_SnailmailErrorDialog_resendLetterButton btn btn-primary" t-on-click="_onClickResendLetter">Re-send letter</button>
                    </t>
                    <button class="o_SnailmailErrorDialog_cancelLetterButton btn" t-att-class="{                             'btn-primary': !hasCreditsError,                             'btn-secondary': hasCreditsError,                         }" t-on-click="_onClickCancelLetter">
                        Cancel letter
                    </button>
                    <button class="o_SnailmailErrorDialog_closeButton btn btn-secondary" t-on-click="_onClickClose">Close</button>
                </t>
            </t>
        </Dialog>
    </t>

<t t-name="snailmail.SnailmailNotificationPopover" owl="1">
        <div class="o_SnailmailNotificationPopover">
            <t t-if="message and notification">
                <i class="o_SnailmailNotificationPopover_icon" t-att-class="iconClass" role="img"/>
                <span t-esc="iconTitle"/>
            </t>
        </div>
    </t>

<t t-extend="website.dashboard_header">
        <t t-jquery=".o_dashboard_common a.o_dashboard_action .o_primary" t-operation="after">
            <div t-if="widget.dashboards_data.sales.summary.order_to_invoice_count" class="o_inner_box o_dashboard_action" title="Generate an invoice from orders ready for invoicing." name="website_sale.sale_order_action_to_invoice">
                <div class="o_highlight"><t t-esc="widget.dashboards_data.sales.summary.order_to_invoice_count"/></div>
                Orders to Invoice
            </div>
        </t>
   </t>
</templates>n޷1      aH0aH0C}c{      O^partitionKey=%28http%2Clocalhost%2C8069%29,:http://localhost:8069/web/webclient/qweb/888e111611efe2c5d20ec935c01ed49e0ea01f71989e904fc91550067c403f8b?mods=base,web,base_setup,bus,web_tour,mail,sales_team,product,web_editor,http_routing,auth_signup,portal,resource,digest,account,payment,utm,sale,sale_management,website,barcodes,stock,purchase,point_of_sale,rating,project,website_payment,website_mail,google_recaptcha,website_form,portal_rating,website_sale,hr,event,website_partner,website_event,contacts,calendar,website_blog,pos_epson_printer,purchase_stock,auth_totp,auth_totp_portal,base_iban,base_import,event_sale,hr_org_chart,iap,l10n_es,mail_bot,partner_autocomplete,payment_transfer,pos_hr,sale_stock,sms,snailmail,snailmail_account,website_sale_wishlist,theme_zen_dark,web_kanban_gauge,web_unsplash,website_event_sale,website_form_project,website_sale_management,website_sale_stock,theme_default necko:classified 1 strongly-framed 1 request-method GET response-head HTTP/1.0 200 OK
Content-Type: text/xml
Cache-Control: public, max-age=31536000
Content-Length: 537661
Access-Control-Allow-Origin: *
Access-Control-Allow-Methods: GET, POST
Server: Werkzeug/0.16.1 Python/3.8.10
Date: Tue, 30 Nov 2021 15:50:08 GMT
 original-response-headers Content-Type: text/xml
Cache-Control: public, max-age=31536000
Content-Length: 537661
Access-Control-Allow-Origin: *
Access-Control-Allow-Methods: GET, POST
Set-Cookie: session_id=0045cfbae970fa1bc6085c8560a2f0629dc49c75; Expires=Mon, 28-Feb-2022 15:50:08 GMT; Max-Age=7776000; HttpOnly; Path=/
Server: Werkzeug/0.16.1 Python/3.8.10
Date: Tue, 30 Nov 2021 15:50:08 GMT
 ctid 1 uncompressed-len 0 net-response-time-onstart 89 net-response-time-onstop 98  4=